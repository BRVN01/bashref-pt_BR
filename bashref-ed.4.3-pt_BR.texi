\input texinfo.tex @c -*- texinfo -*-
@c %**start of header
@setfilename bashref-pt_BR.info
@documentencoding UTF-8
@settitle Manual de Referência do Bash

@include version-pt_BR.texi
@c %**end of header

@copying
Este texto é uma breve descrição das características que estão presentes 
no shell Bash (versão @value{VERSION}, @value{UPDATED}).

Esta é a Edição @value{EDITION}, mais recentemente atualizada em 
@value{UPDATED}, do @cite{The GNU Bash Reference Manual}, para 
@code{Bash}, Versão @value{VERSION}.

Direitos autorais @copyright{} 2015 da versão modificada traduzida para 
o português do Brasil: Jamenson Ferreira Espindula de Almeida Melo.

Direitos autorais @copyright{} 1988--2014 da versão original escrita em 
inglês: Free Software Foundation, Inc.

@quotation
É concedida permissão para copiar, distribuir e/ou modificar este Manual 
de Referência do Bash, edição 4.3, versão traduzida para a língua 
portuguesa sob os termos da Licença de Documentação Livre GNU, versão 
1.3 ou qualquer versão posterior publicada pela Free Software 
Foundation; sem Seções Invariantes, sem Textos de Capa Frontal e sem 
Textos de Quarta Capa.   Uma cópia da licença está incluída na seção 
intitulada "GNU Free Documentation Licence".


Permission is granted to copy, distribute and/or modify this Bash 
Reference Manual, edition 4.3, version translated into brazilian 
portuguese under the terms of the Licença de Documentação Livre GNU, 
Version 1.3 or any later version published by the Free Software 
Foundation; with no Invariant Sections, no Front-Cover Texts, and no 
Back-Cover Texts.   A copy of the license is included in the section 
entitled ``Licença de Documentação Livre GNU''.
@end quotation
@end copying

@defcodeindex bt
@defcodeindex rw
@set BashFeatures

@dircategory Basics
@direntry
* Bash: (bash).                     The GNU Bourne-Again SHell.
@end direntry

@finalout

@titlepage
@title Manual de Referência do Bash
@subtitle Documentação de Referência para o Bash
@subtitle Edição @value{EDITION}, para @code{Bash} Versão @value{VERSION}.
@subtitle @value{UPDATED-MONTH}
@author Chet Ramey, Case Western Reserve University
@author Brian Fox, Free Software Foundation

@page
@vskip 0pt plus 1filll
@insertcopying

@end titlepage

@contents

@ifnottex
@node Top, Introdução, (dir), (dir)
@top Características do Bash

Este texto é uma breve descrição das características que estão presentes 
no shell Bash (version @value{VERSION}, @value{UPDATED}).
A home page do Bash é @url{http://www.gnu.org/software/bash/}.

Esta é a Edição @value{EDITION}, atualizada mais recentemente em 
@value{UPDATED}, do @cite{The GNU Bash Reference Manual},
para @code{Bash}, Versão @value{VERSION}.

O Bash contém características que aparecem em outros shells populares, e 
algumas características que aparecem somente no Bash.   Alguns dos 
shells dos quais Bash tomou emprestado conceitos são o Bourne Shell 
(@file{sh}), o Korn Shell (@file{ksh}), e o C-shell (@file{csh} e o 
sucessor dele, @file{tcsh}).  O menu seguinte quebra as 
características em categorias, nenhuma das quais foi inspirada por 
outros shells e as quais são específicas para Bash.

Este manual é entendido como uma breve introdução às características 
encontradas no Bash.   A página de manual do Bash deveria ser utilizada 
como a referência definitiva acerca do comportamento do shell.

@menu
* Introdução::		Uma introdução ao shell.
* Definições::			Algumas definições utilizadas no 
				restante deste manual.
* Características Básicas do Shell::	Os "blocos de construção" do shell.
* Comandos Internos ao Shell::	Comandos que são uma parte do shell.
* Variáveis do Shell::		Variáveis utilizadas ou 
				configuradas por Bash.
* Características de Bash::		Características encontradas apenas no 
				Bash.
* Controle de Tarefa::			O que é controle de tarefa e como 
				Bash permite que você o utilize.
* Edição de Linha de Comando::	Capítulo descrevendo as 
				características de edição de linha de 
				comando.
* Utilizando o Histórico Interativamente::	Expansão do Histórico de Comando
* Instalando o Bash::		Como construir e instalar Bash em 
				seu sistema.
* Relatando Bugs::		Como relatar bugs no Bash.
* Maiores Diferenças Para o Shell Bourne::	Uma lista concisa entre 
						Bash e versões
						históricas de 
						/bin/sh.
* Licença de Documentação Livre GNU::	Copiando e compartilhando esta 
					documentação.
* Indices::			Vários índices para este manual.
@end menu
@end ifnottex

@node Introdução
@chapter Introdução
@menu
* O Que é Bash?::		Uma breve descrição do Bash.
* O Que um shell?::		Uma breve introdução aos shells.
@end menu

@node O Que é Bash?
@section O Que é Bash?

Bash é o shell, ou interpretador de linguagem de comando, para o sistema 
operacional @sc{gnu}.
O nome é um acrônimo para o @samp{Bourne-Again SHell}, uma homenagem a 
Stephen Bourne, o autor do ancestral direto do shell Unix atual 
@code{sh}, o qual apareceu na versão do Unix da Sétima Edição do Bell 
Labs Research.

Bash é largamente compatível com @code{sh} e incorpora características 
úteis oriundas do shell Korn @code{ksh} e do shell C @code{csh}.
Ele é entendido para ser uma implementação conforme da porção das 
Ferramentas e Shell do @sc{ieee} @sc{posix} da especificação @sc{ieee} 
@sc{posix} (Padrão @sc{ieee} 1003.1).
Ele oferece melhoramentos funcionais sobre o @code{sh} para ambos 
uso interativo e programação.

Ao mesmo tempo em que o sistema operacional @sc{gnu} fornece 
outros shells, incluindo uma versão do @code{csh}, Bash é o shell 
padrão.
Como outros softwares @sc{gnu}, Bash é facilmente portável.   Ele 
atualmente roda em quase todas as versões de Unix e alguns outros 
sistemas operacionais @minus{} existem implementações independentemente 
suportadas para @sc{ms-dos}, @sc{os/2}, e plataformas Windows.

@node O Que um shell?
@section O Que um shell?

Na base, um shell é simplesmente um processador de macro que executa 
comandos.   O termo processador de macro significa funcionalidade onde 
texto e símbolos são expandidos para criar expressões mais amplas.

Um shell Unix é ambos um interpretador de comando e uma linguagem de 
programação.   Como um interpretador de comando, o shell fornece a 
interface de usuário para o rico conjunto de utilitários @sc{gnu}.   As 
características de linguagem de programação permitem que tais 
utilitários sejam combinados.   Arquivos contendo comandos podem ser 
criados, e se tornarem eles mesmos comandos.   Esses novos comandos tem 
o mesmo status que os comandos de sistema em diretórios como 
@file{/bin}, permitindo aos usuários e grupos estabelecerem ambientes 
personalizados para automatizar suas tarefas cotidianas.

Shells podem ser utilizados interativamente ou não interativamente.   No 
modo interativo, eles aceitam entrada digitada no teclado.   Quando da 
execução não-interativamente, shells executam comandos lidos a partir de 
um arquivo.

Um shell permite a execução de comandos @sc{gnu}, ambos síncronamente e 
assincronamente.
O shell aguarda comandos síncronos completarem antes de aceitar mais 
entrada; comandos assíncronos continuam a executar em paralelo com o 
shell enquanto ele lê e executa comandos adicionais.
As construções @dfn{redirection} permitem um controle refinado da 
entrada e saída de tais comandos.
Além disso, o shell permite controle sobre o conteúdo dos ambientes de 
comandos.

Shells também fornecem um pequeno conjunto de comandos internos 
(@dfn{builtins}) implementando funcionalidade impossível ou 
inconveniente de se obter via utilitários separados.
Por exemplo, @code{cd}, @code{break}, @code{continue}, e @code{exec}
não podem ser implementados do lado de fora do shell, pois eles 
manipulam diretamente o próprio shell.
Os comandos internos @code{history}, @code{getopts}, @code{kill}, ou 
@code{pwd}, entre outros, poderiam ser implementados em utilitários 
separados, mas eles são mais convenientes de se utilizar como comandos 
internos.   Todos os comandos internos do shell são descritos em seções 
subsequentes.

Ao tempo em que executar comandos é essencial, a maior parte do poder (e 
complexidade) dos shells é devida às suas linguagens de programação 
embutidas.   Como qualquer linguagem de alto nível, o shell fornece 
variáveis, construtores de fluxo de controle, citações e funções.

Shells oferecem recursos especificamente voltados para uso interativo ao 
invés de aumentar a linguagem de programação.   Essas características 
interativas incluem controle de tarefa, edição de linha de comando, 
histórico de comando e apelidos.   Cada uma dessas características está 
descrita neste manual.

@node Definições
@chapter Definições
Estas definições são utilizadas em todo o restante deste manual.

@table @code

@item POSIX
@cindex POSIX
Uma família de padrões abertos de sistema baseado no Unix.   Bash é 
concernente primariamente com a porção de Shell e Utilitários do padrão 
@sc{posix} 1003.1.

@item blank
Um carácter tab ou espaço.

@item builtin
@cindex builtin
Um comando que é implementado internamente pelo próprio shell, ao invés 
de o ser por algum programa executável em algum lugar no sistema de 
arquivo.

@item control operator
@cindex control operator
Um @code{token} que desempenha uma função de controle.   Ele é um 
@code{newline} ou um dos seguintes: @samp{||}, @samp{&&}, @samp{&}, 
@samp{;}, @samp{;;}, @samp{|}, @samp{|&}, @samp{(}, or @samp{)}.

@item exit status
@cindex exit status
O valor retornado por um comando para quem o executou.   O valor é 
restrito a oito bits, de forma que o valor máximo é 255.

@item field
@cindex field
Uma unidade de texto que é o resultado de uma das expansões de shell.   
Após a expansão, quando da execução de um comando, os campos resultantes 
são utilizados como o nome do comando e argumentos.

@item filename
@cindex filename
Uma sequência de caracteres utilizada para identificar um arquivo.

@item job
@cindex job
Um conjunto de tarefas compreendendo um canal de comunicação (pipeline), 
e quaisquer processos que descendam dele, os quais estão todos no mesmo 
grupo de processos.

@item job control
@cindex job control
Um mecanismo pelo qual usuários podem seletivamente parar (suspend) e 
reiniciar (resume) a execução de processos.

@item metacharacter
@cindex metacharacter
Um carácter que, sem aspas, separa palavras.   Um meta carácter é um 
@code{blank} ou um dos caracteres seguintes: @samp{|}, @samp{&}, 
@samp{;}, @samp{(}, @samp{)}, @samp{<}, ou @samp{>}.

@item name
@cindex name
@cindex identifier
Uma @code{word} consistindo apenas de letras, números, e sublinhados, e 
iniciando com uma letra ou sublinhado.  @code{Name}s são utilizados 
como variáveis de shell e como nomes de função.
Também referenciado como um @code{identifier}.

@item operator
@cindex operator, shell
Um @code{control operator} ou um  @code{redirection operator}.
Veja-se @ref{Redireções}, para uma lista de operadores de 
redireção.   Operadores contém ao menos um @code{metacharacter} fora de 
aspas.

@item process group
@cindex process group
Uma coleção de processos relacionados cada qual tendo o mesmo @sc{id} de 
grupo de processo.

@item process group ID
@cindex process group ID
Um identificador único que representa um @code{process group} durante 
seu tempo de vida.

@item reserved word
@cindex reserved word
Uma @code{word} que tem um significado especial para o shell.   A maior 
parte das palavras reservadas introduz construções de controle de fluxo 
do shell, tais como @code{for} e @code{while}.

@item return status
@cindex return status
Um sinônimo para @code{exit status}.

@item signal
@cindex signal
Um mecanismo pelo qual um processo pode ser notificado de um evento 
ocorrente no sistema pelo kernel.

@item special builtin
@cindex special builtin
Um comando interno de shell o qual foi classificado como especial pelo 
padrão @sc{posix}.

@item token
@cindex token
Uma sequência de caracteres considerada como sendo uma unidade simples 
pelo shell.   Essa sequência é ou uma @code{word} ou um @code{operator}.

@item word
@cindex word
Uma sequência de caracteres tratada como uma unidade pelo shell.   
Palavras não podem incluir @code{metacharacters} fora de aspas.
@end table

@node Características Básicas do Shell
@chapter Características Básicas do Shell
@cindex Bourne shell

Bash é um acrônimo para @samp{Bourne-Again SHell}.   O shell Bourne é o 
shell Unix tradicional originalmente escrito por Stephen Bourne.   Todos 
os comandos internos do shell Bourne estão disponíveis no Bash.   As 
regras para avaliação e encapsulamento dentro de aspas são tomadas da 
especificação @sc{posix} para o shell Unix 'padrão'.

Este capítulo sumariza brevemente os 'blocos de construção' do shell: 
comandos, estruturas de controle, funções de shell, @i{parameters} do 
shell, expansões do shell, @i{redirections}, os quais são uma forma de 
direcionar entrada e saída de e para arquivos nomeados, e como o shell 
executa comandos.

@menu
* Sintaxe do Shell::		O que sua entrada significa para o 
				shell.
* Comandos do Shell::		Os tipos de comandos que você pode 
				utilizar.
* Funções de Shell::		Agrupando comandos pelo nome.
* Parâmetros de Shell::		Como o shell armazena valores.
* Expansões de Shell::		Como Bash expande parâmetros e as 
				várias expansões disponíveis.
* Redireções::		Uma forma de controlar para aonde vai 
				entrada e saída.
* Execução de Comandos::		O que acontece quando você executa 
				um comando.
* Scripts de Shell::		Executando arquivos de comandos do 
				shell.
@end menu

@node Sintaxe do Shell
@section Sintaxe do Shell
@menu
* Operação do Shell::	A operação básica do shell.
* Encapsulamento::		Como remover o significado especial dos 
			caracteres.
* Comentários::		Como especificar comentários.
@end menu

Quando o shell lê entrada, ele percorre uma sequência de operações.   Se 
a entrada indica o início de um comando, o shell ignora o símbolo de 
comentário (@samp{#}), e o restante daquela linha.

De outro lado, grosseiramente falando, o shell lê sua entrada e divide a 
entrada em palavras e operadores, empregando as regras de encapsulamento 
entre aspas para selecionar quais significados atribuir para as várias 
palavras e caracteres.

O shell então processa esses tokens em comandos e outros construtores, 
remove o significado especial de certas palavras ou caracteres, expande 
outros, redireciona entrada e saída conforme necessário, executa o 
comando especificado, aguarda pelo status de saída do comando, e torna 
esse status de saída disponível para inspeção posterior ou 
processamento.


@node Operação do Shell
@subsection Operação do Shell

O seguinte é uma breve descrição da operação do shell quando ele lê e 
executa um comando.   Basicamente, o shell faz o seguinte:

@enumerate
@item
Lê a entrada a partir de um arquivo (@ref{Scripts de Shell}), a 
partir de uma cadeia de caracteres fornecida como um argumento para 
a opção de invocação @option{-c} (@ref{Invocando o Bash}), ou a 
partir do terminal do usuário.

@item
Divide a entrada em palavras e operadores, obedecendo às regras de 
encapsulamento entre aspas descritas em @ref{Encapsulamento}.  Esses tokens 
são separados por @code{metacharacters}.  A expansão de apelidos é 
feita por esse passo (@ref{Apelidos}).

@item
Processa os tokens em comandos simples e comandos compostos 
(@ref{Comandos do Shell}).

@item
Desempenha as várias expansões de shell (@ref{Expansões de Shell}), 
dividindo os tokens expandidos em listas de nomes de arquivos 
(@ref{Expansão de Nome de Arquivo}) e comandos e argumentos.

@item
Desempenha quaisquer redireções necessárias (@ref{Redireções}) e 
remove os operadores de redireção e seus operandos da lista de 
argumentos.

@item
Executa o comando (@ref{Execução de Comandos}).

@item
Opcionalmente aguarda o término da execução do comando e coleta seu 
status de saída (@ref{Situação de Saída}).

@end enumerate

@node Encapsulamento
@subsection Encapsulamento
@cindex quoting
@menu
* Carácter de Escape::	Como remover o significado especial de um 
			carácter único.
* Aspas Simples::	Como inibir toda a interpretação de uma 
			sequência de caracteres.
* Aspas Duplas::	Como suprimir a maior parte da interpretação 
			de uma sequencia de caracteres.
* Encapsulamento ANSI-C::	Como expandir sequências ANSI-C em cadeias de 
			caracteres encapsuladas entre aspas.
* Tradução do Locale::	Como traduzir cadeias de caracteres em 
			idiomas diferentes.
@end menu

O encapsulamento entre aspas é utilizado para remover o significado 
especial de determinados caracteres ou palavras para o shell.   O 
encapsulamento pode ser utilizado para desabilitar o tratamento especial 
para caracteres especiais, prevenir palavras reservadas de serem 
reconhecidas como tais, e prevenir a expansão de parâmetro.

Cada um dos meta caracteres do shell (@ref{Definições}) tem um 
significado especial para o shell e devem ser encapsulados caso devam 
representar eles mesmos.
Quando as facilidades da expansão de histórico de comandos estão sendo 
utilizadas (@ref{History Interaction}), o carácter de @var{history 
expansion}, em regra @samp{!}, deve ser encapsulado para prevenir a 
expansão de histórico.   Veja-se @ref{Bash History Facilities}, para 
mais detalhes acerca da expansão de histórico.

Existem três mecanismos de encapsulamento em aspas: o @var{escape 
character}, encapsulamento simples, e encapsulamento duplo.

@node Carácter de Escape
@subsubsection Carácter de Escape
Uma barra invertida não encapsulada @samp{\} é o carácter de escape do 
Bash.   Esse carácter preserva o valor literal do próximo carácter que 
se segue, com exceção do @code{newline}.   Se um par @code{\newline} 
aparece, e a própria barra invertida não estiver encapsulada entre 
aspas, o @code{\newline} é tratado como uma continuação de linha (isto 
é, ele é removido do fluxo de entrada e efetivamente ignorado).

@node Aspas Simples
@subsubsection Aspas Simples

Encapsular caracteres em aspas simples (@samp{'}) preserva o valor 
literal de cada carácter dentro do encapsulamento.   Um encapsulamento 
simples não deve ocorrer entre aspas simples, ainda que precedido por 
uma barra invertida.

@node Aspas Duplas
@subsubsection Aspas Duplas

Encapsular caracteres em aspas duplas (@samp{"}) preserva o valor 
literal de todos os caracteres dentro das aspas, com exceção de 
@samp{$}, @samp{`}, @samp{\}, e, quando a expansão de histórico esteja 
habilitada, @samp{!}.
Os caracteres @samp{$} e @samp{`} conservam o significado especial deles 
quando dentro de aspas duplas (@ref{Expansões de Shell}).
A barra invertida conserva seu significado especial apenas quando 
seguida por um dos seguintes caracteres: @samp{$}, @samp{`}, @samp{"}, 
@samp{\}, ou @code{newline}.
Dentro de aspas duplas, barras invertidas que são seguidas por um desses 
caracteres são removidas.   Barras invertidas precedendo caracteres sem 
um significado especial são deixadas sem modificação.
Uma aspa dupla pode ser encapsulada em aspas duplas precedendo-se ela 
com uma barra invertida.
Se habilitada, a expansão de histórico será feita, a menos que um 
@samp{!} que esteja aparecendo em aspas duplas seja encapsulado 
utilizando-se uma barra invertida.
A barra invertida que precede um @samp{!} não é removida.

Os parâmetros especiais @samp{*} e @samp{@@} tem significado 
especial quando estejam entre aspas duplas 
(@ref{Expansão de Parâmetro de Shell}).

@node Encapsulamento ANSI-C
@subsubsection Encapsulamento ANSI-C
@cindex quoting, ANSI

Palavras da forma @code{$'@var{string}'} são tratadas especialmente.   A 
palavra expande para @var{string}, com caracteres encapsulados por 
barras invertidas sendo substituídos conforme especificado pelo padrão 
ANSI C.   As sequências de encapsulamento de barra invertida, se 
presentes, são decodificadas conforme a seguir:

@table @code
@item \a
alerta (sino)
@item \b
barra invertida
@item \e
@itemx \E
um carácter de encapsulamento (não ANSI C)
@item \f
alimentação de formulário
@item \n
nova linha
@item \r
retorno de carro
@item \t
tab horizontal
@item \v
tab vertical
@item \\
barra invertida
@item \'
aspa simples
@item \"
aspa dupla
@item \@var{nnn}
o carácter de oito bits cujo valor é o valor octal @var{nnn}
(de um até três dígitos)
@item \x@var{HH}
o carácter de oito bits cujo valor é o valor hexadecimal @var{HH}
(um ou dois dígitos hexadecimais)
@item \u@var{HHHH}
o carácter Unicode (ISO/IEC 10646) cujo valor é o valor hexadecimal 
@var{HHHH} (de um até quatro dígitos hexadecimais)
@item \U@var{HHHHHHHH}
o carácter Unicode (ISO/IEC 10646) cujo valor é o valor hexadecimal 
@var{HHHHHHHH} (de um até oito dígitos hexadecimais)
@item \c@var{x}
um carácter control-@var{x}
@end table

@noindent
O resultado expandido é encapsulado entre aspas simples, como se o sinal 
de dólar não estivesse presente.

@node Tradução do Locale
@subsubsection Locale-Specific Translation
@cindex localization
@cindex internationalization
@cindex native languages
@cindex translation, native languages

Uma cadeia de caracteres dentro de um encapsulamento em aspas duplas 
precedido por um sinal de dólar (@samp{$}) fará com que a cadeia de 
caracteres seja traduzida conforme o locale atual.
Se o locale atual é @code{C} ou @code{POSIX}, o sinal de dólar é 
ignorado.   Se a cadeira de caracteres for traduzida e substituída, o 
substituto é encapsulado entre aspas duplas.

@vindex LC_MESSAGES
@vindex TEXTDOMAIN
@vindex TEXTDOMAINDIR
Alguns sistemas utilizam o catálogo de mensagem selecionado pela 
variável de shell @env{LC_MESSAGES}.   Outros criam o nome do catálogo 
de mensagem a partir do valor da variável de shell @env{TEXTDOMAIN}, 
possivelmente adicionando um sufixo @samp{.mo}.   Se você utiliza a 
variável @env{TEXTDOMAIN}, você obrigatoriamente precisa configurar a 
variável @env{TEXTDOMAINDIR} para a localização dos arquivos de catálogo 
de mensagem.   Outros ainda utilizam ambas as variáveis neste desenho:
@env{TEXTDOMAINDIR}/@env{LC_MESSAGES}/LC_MESSAGES/@env{TEXTDOMAIN}.mo.

@node Comentários
@subsection Comentários
@cindex comments, shell

Em um shell não interativo, ou um shell interativo no qual a opção 
@code{interactive_comments} para o comando interno @code{shopt} esteja 
habilitada (@ref{O Comando Interno Shopt}), uma palavra iniciando com 
@samp{#} faz com que essa palavra e todos os caracteres restantes 
naquela linha sejam ignorados.   Um shell interativo sem a opção 
@code{interactive_comments} habilitada não permite comentários.   A 
opção @code{interactive_comments} é habilitada por padrão em shells 
interativos.   Veja-se @ref{Shells Interativos}, para uma descrição do 
que torna um shell interativo.

@node Comandos do Shell
@section Comandos do Shell
@cindex commands, shell

Um comando de shell simples como @code{echo a b c} consiste do próprio 
comando seguido por argumentos, separados por espaços.

Comandos de shell mais complexos são compostos de comandos simples 
arranjados juntos em uma variedade de possibilidades: em um canal de 
comunicação (pipeline) no qual a saída de um comando se torna a entrada 
de um segundo, em um loop ou construção condicional, ou em algum outro 
agrupamento.

@menu
* Comandos Simples::		O tipo de comando mais comum.
* Canais de Comunicação::			Conectando a entrada e saída de 
				vários comandos.
* Listas::			Como executar comandos 
				sequencialmente.
* Comandos Compostos::		Comandos de shell para controlar 
				fluxo.
* Coprocessos::			Comunicação de duas vias entre 
				comandos.
* GNU Parallel::		Executando comandos em paralelo.
@end menu

@node Comandos Simples
@subsection Comandos Simples
@cindex commands, simple

Um comando simples é o tipo de comando encontrado mais frequentemente.   
Ele é simplesmente uma sequência de palavras separadas por 
@code{blank}s, terminada por um dos operadores de controle do shell 
(@ref{Definições}).   A primeira palavra geralmente especifica um 
comando a ser executado, com o restante das palavras sendo os argumentos 
daquele comando.

O status de retorno (@ref{Situação de Saída}) de um comando simples é seu 
status de saída como fornecido pela função @code{waitpid} definida no 
padrão @sc{posix} 1003.1, ou 128+@var{n} se o comando foi terminado pelo 
sinal @var{n}.

@node Canais de Comunicação
@subsection Canais de Comunicação
@cindex pipeline
@cindex commands, pipelines

Um canal de comunicação (@code{pipeline}) é uma sequência de comandos 
simples separada por um dos operadores de controle @samp{|} ou 
@samp{|&}.

@rwindex time
@rwindex !
@cindex command timing
O formato de um tubo é
@example
[time [-p]] [!] @var{command1} [ | or |& @var{command2} ] @dots{}
@end example

@noindent
A saída de cada comando dentro do canal de comunicação é conectada 
via tubo à entrada do próximo comando.   Isto é, cada comando lê a saída 
do comando anterior.   Essa conexão é feita antes de quaisquer 
redireções especificadas pelo comando.

Se @samp{|&} for utilizado, o descritor de erro padrão do 
@var{command1}, em adição ao seu descritor de saída padrão, é conectado 
ao descritor de entrada padrão do @var{command2} por meio do tubo; isso 
é um atalho para @code{2>&1 |}.
Essa redireção implícita do descritor de erro padrão para o descritor de 
saída padrão é feita após quaisquer redireções especificadas pelo 
comando.

A palavra reservada @code{time} faz com que sejam impressas estatísticas 
de temporização para o canal de comunicação tão logo ele finalize.
As estatísticas atualmente consistem do tempo (wall-clock) decorrido e 
tempo de usuário e de sistema consumidos pela execução do comando.
A opção @option{-p} modifica o formato da saída para aquele especificado 
por @sc{posix}.
Quando o shell está em modo @sc{posix} (@ref{O Modo POSIX de Bash}), ele 
não reconhece @code{time} como uma palavra reservada se o próximo token 
inicia com um @samp{-}.
A variável @env{TIMEFORMAT} pode ser configurada para um formato de 
cadeia de caracteres que especifique como a informação de temporização 
deveria ser exibida.   Veja-se @ref{Variáveis do Bash} para uma descrição 
dos formatos disponíveis.
O uso de @code{time} como uma palavra reservada permite a temporização 
de comandos internos do shell, de funções do shell, e de canais de 
comunicação (pipelines).   Um comando @code{time} externo não pode 
temporizar esses facilmente.

Quando o shell está em modo @sc{posix} (@ref{O Modo POSIX de Bash}), 
@code{time} deve ser seguido por um newline.   Nesse caso, o shell exibe 
o tempo de usuário e de sistema total consumido pelo shell e seus 
filhos.
A variável @env{TIMEFORMAT} deve ser utilizada para especificar o 
formato da informação de temporização.

Se o canal de comunicação não estiver sendo executado assincronamente 
(@ref{Listas}), o shell aguarda que todos os comandos no canal de 
comunicação finalizem.

Cada comando em um canal de comunicação é executado em seu próprio 
sub shell (@ref{Ambiente de Execução de Comando}).   O status de saída de 
um canal de comunicação é o status de saída do último comando no canal 
de comunicação, a menos que a opção @code{pipefail} esteja habilitada 
(@ref{O Comando Interno Set}).
Se a opção @code{pipefail} estiver habilitada, o status de retorno do 
canal de comunicação é o valor do último (mais à direita) comando a sair 
com um status diferente de zero, ou zero se todos os comandos saírem com 
sucesso.
Se a palavra reservada @samp{!} preceder o canal de comunicação, o 
status de saída é a negação lógica do status de saída conforme descrito 
acima.
O shell aguarda que todos os comandos no canal de comunicação terminem 
antes de retornar um valor.

@node Listas
@subsection Listas of Commands
@cindex commands, lists

Uma @code{list} é uma sequência de um os mais canais de comunicação 
separados por um dos operadores @samp{;}, @samp{&}, @samp{&&}, ou 
@samp{||}, e opcionalmente finalizados por um @samp{;}, @samp{&}, ou um
@code{newline}.

Dessa lista de operadores, @samp{&&} e @samp{||} tem igual precedência, 
seguidos por @samp{;} e @samp{&}, os quais tem igual precedência.

Uma sequência de um ou mais newlines podem aparecer em uma @code{list} 
para delimitar comandos, equivalente a ponto e vírgula.

Se um comando é finalizado pelo operador de controle @samp{&}, o shell 
executa o comando assincronamente em um sub shell.
Isso é conhecido como executar o comando no @var{background}.
O shell não aguarda que o comando finalize a execução, e o status de 
retorno é 0 (verdadeiro).
Quando o controle de tarefas não está ativo (@ref{Controle de Tarefa}), a 
entrada padrão para comandos assíncronos, na ausência de quaisquer 
redireções explícitas, é redirecionada a partir de @code{/dev/null}.

Comandos separados por um @samp{;} são executados sequencialmente; o 
shell aguarda que cada comando finalize sua execução.   O status de 
retorno é o status de saída do último comando executado.

As listas @sc{and} e @sc{or} são sequências de um ou mais canais de 
comunicação separados por operadores de controle @samp{&&} e @samp{||}, 
respectivamente.   As listas @sc{and} e @sc{or} são executadas com 
associatividade à esquerda.

Uma lista @sc{and} tem a forma
@example
@var{command1} && @var{command2}
@end example

@noindent
@var{command2} é executado se, e somente se, @var{command1}
retorna um status de saída igual a zero.

Uma lista @sc{or} tem a forma
@example
@var{command1} || @var{command2}
@end example

@noindent
@var{command2} é executado se, e somente se, @var{command1}
retorna um status de saída qualquer diferente de zero.

O status de retorno das listas @sc{and} e @sc{or} é o status de saída do 
último comando executado na lista.

@node Comandos Compostos
@subsection Comandos Compostos
@cindex commands, compound

@menu
* Construtores de Ciclos::		Comandos de shell para ação interativa.
* Construtores Condicionais::	Comandos de shell para execução 
condicional.
* Agrupamento de Comandos::		Maneiras de agrupar comandos.
@end menu

Comandos de composição são os construtores de programação do shell.
Cada construtor inicia com uma palavra reservada ou operador de controle 
e é finalizado pela palavra reservada ou operador correspondentes.
Quaisquer redireções (@ref{Redireções}) associadas com um comando de 
composição se aplicam a todos os comandos dentro desse comando de 
composição a menos que explicitamente sobrepostas.

Na maioria dos casos uma lista de comandos em uma descrição de comando 
de composição pode ser separada do restante do comando por um ou mais 
newlines, e pode ser seguida por um newline ao invés de um ponto e 
vírgula.

Bash disponibiliza construtores de loops, comandos condicionais e 
mecanismos para agrupar comandos e executá-los como uma unidade.

@node Construtores de Ciclos
@subsubsection Construtores de Ciclos
@cindex commands, looping

Bash suporta os seguintes construtores de loops.

Note que sempre que um @samp{;} aparecer na descrição de uma sintaxe de 
comando, ele pode ser substituído por um ou mais newlines.

@table @code
@item until
@rwindex until
@rwindex do
@rwindex done
A sintaxe do comando @code{until} é:

@example
until @var{test-commands}; do @var{consequent-commands}; done
@end example

Execute @var{consequent-commands} tantas vezes quantas 
@var{test-commands} tenham um status de saída qualquer diferente de 
zero.
O status de retorno é o status de saída do último comando executado no 
@var{consequent-commands}, ou zero se nenhum comando foi executado.

@item while
@rwindex while
A sintaxe do comando @code{while} é:

@example
while @var{test-commands}; do @var{consequent-commands}; done
@end example

Execute @var{consequent-commands} tantas vezes quantas 
@var{test-commands} tenham um status de saída igual a zero.
O status de retorno é o status de saída do último comando executado em 
@var{consequent-commands}, ou zero se nenhum comando foi executado.

@item for
@rwindex for
A sintaxe do comando @code{for} é:

@example
for @var{name} [ [in [@var{words} @dots{}] ] ; ] do @var{commands}; done
@end example

Expanda @var{words}, e execute @var{commands} uma vez para cada membro 
na lista resultante, com @var{name} apontando para o membro atual.
Se @samp{in @var{words}} não estiver presente, o comando @code{for} 
executa os @var{commands} uma vez para cada parâmetro posicional que 
estiver configurado, como se @samp{in "$@@"} tivesse sido especificado 
(@ref{Parâmetros Especiais}).
O status de retorno é o status de saída do último comando que executar.
Se não existirem itens na expansão de @var{words}, nenhum comando é 
executado, e o status de retorno será igual a zero.

Uma forma alternativa do comando @code{for} também é suportada:

@example
for (( @var{expr1} ; @var{expr2} ; @var{expr3} )) ; do @var{commands} ; done
@end example

Primeiro, a expressão aritmética @var{expr1} é calculada de acordo com 
as regras descritas abaixo (@ref{Aritmética de Shell}).
A expressão aritmética @var{expr2} é então calculada repetidamente até 
que ela seja igual a zero.
A cada vez que @var{expr2} seja igual a um valor qualquer diferente de 
zero, @var{commands} são executados e a expressão aritmética @var{expr3} 
é calculada.
Se qualquer expressão for omitida, ela se comporta como se o resultado 
dela fosse igual a 1.
O valor de retorno é o status de saída do último comando em 
@var{commands} que for executado, ou falso se quaisquer das expressões 
for inválida.
@end table

Os comandos internos @code{break} e @code{continue} podem ser utilizados 
para controlar a execução do loop.

@node Construtores Condicionais
@subsubsection Construtores Condicionais
@cindex commands, conditional

@table @code
@item if
@rwindex if
@rwindex then
@rwindex else
@rwindex elif
@rwindex fi
A sintaxe do comando @code{if} é:

@example
if @var{test-commands}; then
  @var{consequent-commands};
[elif @var{more-test-commands}; then
  @var{more-consequents};]
[else @var{alternate-consequents};]
fi
@end example

A lista @var{test-commands} é executada, e se o seu status de retorno 
for igual a zero, a lista @var{consequent-commands} é executada.
Se @var{test-commands} retornar um status diferente de zero, cada lista 
@code{elif} é executada, e se o seu status de saída for igual a zero, os 
@var{more-consequents} correspondentes são executados e o comando 
finaliza.
Se @samp{else @var{alternate-consequents}} estiver presente, e o comando 
final na cláusula @code{if} ou @code{elif} final tiver um status de 
saída qualquer diferente de zero, então @var{alternate-consequents} são 
executados.
O status de retorno é o status de saída do último comando executado, ou 
zero se nenhuma condição testada for verdadeira.

@item case
@rwindex case
@rwindex in
@rwindex esac
A sintaxe do comando @code{case} é:

@example
case @var{word} in [ [(] @var{pattern} [| @var{pattern}]@dots{}) @var{command-list} ;;]@dots{} esac
@end example

@code{case} seletivamente executará a @var{command-list} correspondente 
à primeira variável @var{pattern} que coincidir com a variável @var{word}.
Se a opção de shell @code{nocasematch} (veja-se a descrição de 
@code{shopt} em @ref{O Comando Interno Shopt}) estiver habilitada, então a 
coincidência é testada sem considerar maiúsculas e minúsculas.
O carácter @samp{|} é utilizado para separar múltiplas variáveis 
@var{pattern}, e o operador @samp{)} finaliza a lista de variáveis.
Uma lista de variáveis @var{pattern} e uma lista de comandos associada é 
conhecida como uma @var{clause}.

Cada cláusula deve necessariamente ser finalizada com um @samp{;;}, 
@samp{;&}, ou um @samp{;;&}.
A @var{word} está sujeita a expansão de til, expansão de parâmetro, 
substituição de comando, expansão aritmética e remoção de aspas antes 
que a coincidência seja testada.   Cada @var{pattern} está sujeita a 
expansão de til, expansão de parâmetro, substituição de comando e 
expansão aritmética.

Pode existir um número arbitrário de cláusulas @code{case}, cada uma das 
quais finalizada por um @samp{;;}, @samp{;&}, ou um @samp{;;&}.
O primeiro padrão que coincidir determina a lista de comandos a serem 
executados.
É bastante comum utilizar @samp{*} como o padrão final para definir o 
caso padrão, sabido que tal padrão sempre coincidirá.

Eis um exemplo utilizando @code{case} em um script que poderia ser 
utilizado para descrever uma característica interessante de um animal:

@example
echo -n "Informe o nome de um animal: "
read ANIMAL
echo -n "O $ANIMAL tem "
case $ANIMAL in
  cavalo | cachorro | gato) echo -n "quatro";;
  homem | canguru ) echo -n "duas";;
  *) echo -n "um número desconhecido de";;
esac
echo " pernas."
@end example

@noindent

Se o operador @samp{;;} for utilizado, então nenhuma coincidência 
subsequente é tentada após o primeiro padrão coincidir.
A utilização de um @samp{;&} no lugar de um @samp{;;} faz com que a 
execução continue com a @var{command-list} associada com a próxima 
cláusula, se existir alguma.
A utilização de um @samp{;&} no lugar de um @samp{;;} faz com que o 
shell teste os padrões na próxima cláusula, caso exista alguma, e 
execute quaisquer @var{command-list} associadas em cima de uma 
coincidência testada com sucesso.

O status de retorno é zero se nenhuma variável @var{pattern} coincidir.   
Por outro lado, o status de retorno é o status de saída da 
@var{command-list} executada.

@item select
@rwindex select

O construtor @code{select} permite a fácil geração de menus.
Ele tem quase a mesma sintaxe que o comando @code{for}:

@example
select @var{name} [in @var{words} @dots{}]; do @var{commands}; done
@end example

A lista de palavras seguintes a @code{in} é expandida, gerando uma lista 
de itens.   O conjunto de palavras expandidas é impresso no fluxo 
de saída padrão de erro, cada uma das quais precedida por um número.   
Se o @samp{in @var{words}} for omitido, os parâmetros posicionais serão 
impressos, como se @samp{in "$@@"} tivesse sido especificado.
O prompt @env{PS3} é então exibido e uma linha é lida a partir da 
entrada padrão.
Se a linha consistir de um número correspondente a uma das palavras 
exibidas, então o valor de @var{name} é configurada para aquela palavra.
Se a linha estiver vazia, então o comando @code{select} completa sua 
execução.
Qualquer outro valor lido faz com que @var{name} seja configurada para 
nulo.
A linha lida é salva na variável @env{REPLY}.

Os @var{commands} são executados após cada seleção até que um comando 
@code{break} seja executado, ponto no qual o comando @code{select} 
completa a sua execução.

Eis um exemplo que permite ao usuário pegar um nome de arquivo a partir 
do diretório de trabalho atual, e exibir o nome e índice do arquivo 
selecionado.

@example
select fname in *;
do
	echo você selecionou $fname \($REPLY\)
	break;
done
@end example

@item ((@dots{}))
@example
(( @var{expression} ))
@end example

A @var{expression} aritmética é calculada de acordo com as regras 
descritas abaixo (@ref{Aritmética de Shell}).
Se o valor da expressão for diferente de zero, então o status de retorno 
é 0; do contrário o status de retorno é 1.   Isso é exatamente 
equivalente a
@example
let "@var{expression}"
@end example
@noindent
Veja-se @ref{Comandos Internos ao Bash}, para uma descrição completa acerca do 
comando interno @code{let}.

@item [[@dots{}]]
@rwindex [[
@rwindex ]]
@example
[[ @var{expression} ]]
@end example

Retorna um status de 0 ou 1 dependendo da avaliação da expressão 
condicional @var{expression}.
Expressões são compostas de primários descritos abaixo em 
@ref{Expressões Condicionais de Bash}.
A divisão de palavras (word splitting) e a expansão de nome de arquivo 
não são feitas nas palavras contidas entre o @code{[[} e o @code{]]}; 
expansão de til, expansão de variável e parâmetro, expansão aritmética, 
substituição de comando, substituição de processo e remoção de aspas são 
feitas.
Operadores condicionais tais como @samp{-f} devem necessariamente estar 
fora de aspas para serem reconhecidos como primários.

Quando utilizados com @code{[[}, os operadores @samp{<} e @samp{>} 
ordenam lexicograficamente utilizando o locale atual.

Quando os operadores @samp{==} e @samp{!=} são utilizados, a sequência 
de caracteres à direita do operador é considerada um padrão e uma 
coincidência é tentada de acordo com as regras descritas abaixo em 
@ref{Coincidência de Modelo}, como se a opção de shell @code{extglob} 
estivesse habilitada.
O operador @samp{=} é idêntico ao @samp{==}.
Se a opção de shell @code{nocasematch} (veja-se a descrição de 
@code{shopt} em @ref{O Comando Interno Shopt}) estiver habilitada, então a 
coincidência é feita sem levar em consideração maiúsculas e minúsculas.
O valor de retorno é 0 se a sequência de caracteres coincidir 
(@samp{==}) ou não coincidir (@samp{!=}) com o padrão, e 1 nos outros 
casos.
Qualquer parte do padrão pode ser colocada entre aspas para forçar que 
tal porção seja testada como uma sequência de caracteres.

Um operador binário adicional, @samp{=~}, está disponível, com a mesma 
precedência que @samp{==} e @samp{!=}.
Quando esse operador é utilizado, a sequência de caracteres à direita do 
operador é considerada como sendo uma expressão regular estendida e uma 
coincidência é tentada de acordo (como em @i{regex}3)).
O valor de retorno é 0 se a sequência de caracteres coincidir com o 
padrão, e 1 caso contrário.
Se a expressão regular estiver sintaticamente incorreta, o valor de 
retorno da expressão condicional é igual a 2.
Se a opção de shell @code{nocasematch} (veja-se a descrição de 
@code{shopt} em @ref{O Comando Interno Shopt}) estiver habilitada, a 
coincidência é tentada sem levar em consideração maiúsculas e 
minúsculas.
Qualquer parte do padrão pode ser colocado entre aspas para forçar que 
essa porção seja tratada como sendo uma sequência de caracteres.
As expressões entre parênteses em expressões regulares devem 
necessariamente serem tratadas cuidadosamente, dado que caracteres 
normais para indicar aspas perdem seus significados entre parênteses.
Se o padrão for armazenado em uma variável de shell, então colocar-se a 
expansão da variável entre aspas força o padrão inteiro ser tratado como 
sendo uma sequência de caracteres.
As subsequências de caracteres testadas por sub expressões entre 
parênteses dentro da expressão regular são salvas na variável de vetor 
@code{BASH_REMATCH}.
O elemento do @code{BASH_REMATCH} cujo índice é 0 é a porção da 
sequência de caracteres coincidente com a expressão regular inteira.
O elemento do @code{BASH_REMATCH} cujo índice é @var{n} é a porção da 
sequência de caracteres coincidente com a @var{n}ésima sub expressão 
entre parênteses.

Por exemplo, o seguinte coincidirá com uma linha (armazenada na 
variável de shell @var{line})
Se existir uma sequência de caracteres no valor consistente de qualquer 
número, incluindo zero; de caracteres espaço; zero ou um instâncias de 
@samp{a}, então um @samp{b}:
@example
[[ $line =~ [[:space:]]*(a)?b ]]
@end example

@noindent
Isso significa que valores como @samp{aab} e @samp{  aaaaaab} 
coincidirão, como também coincidirá uma linha que contenha um @samp{b} 
em qualquer lugar no seu valor.

O armazenamento da expressão regular em uma variável de shell é 
frequentemente uma maneira útil de se evitar problemas com caracteres 
que fazem encapsulamento e que são especiais para o shell.
As vezes é difícil de se especificar uma expressão regular literalmente 
sem se utilizar aspas, ou se manter um controle do encapsulamento 
utilizado por expressões regulares enquanto se presta atenção à remoção 
de aspas do shell.

A utilização de uma variável de shell para armazenar o padrão reduz tais 
problemas.   Por exemplo, o seguinte é equivalente ao acima:
@example
pattern='[[:space:]]*(a)?b'
[[ $line =~ $pattern ]]
@end example

@noindent
Se você deseja coincidir um carácter que seja especial para a gramática 
da expressão regular, então esse carácter tem de ser encapsulado para 
remover o seu significado especial.
Isso significa que no padrão @samp{xxx.txt}, o @samp{.} coincide com 
qualquer carácter na sequência de caracteres (seu significado usual de 
expressão regular), porém no padrão @samp{"xxx.txt"} ele pode apenas 
coincidir com um @samp{.} literal.
Os programadores shell deveriam ter um cuidado especial com as barras 
invertidas, dado que as barras invertidas são utilizadas tanto pelo 
shell quanto por expressões regulares para remover o significado 
especial do carácter seguinte à barra invertida.
Os dois conjuntos de comandos seguintes @emph{não} são equivalentes:
@example
pattern='\.'

[[ . =~ $pattern ]]
[[ . =~ \. ]]

[[ . =~ "$pattern" ]]
[[ . =~ '\.' ]]
@end example

@noindent
Os primeiros dois terão sucesso, porém os dois últimos não, pois nos 
dois últimos a barra invertida será parte do padrão a ser testado.
Nos primeiros dois exemplos, a barra invertida remove o significado 
especial do @samp{.}, de forma que o @samp{.} literal coincide.
Se a sequência de caracteres nos dois primeiros exemplos fosse qualquer 
outra coisa que não o @samp{.}, diga-se @samp{a}, o padrão não 
coincidiria, pois o @samp{.} encapsulado no padrão perde seu significado 
especial de coincidir com qualquer carácter único.

As expressões podem ser combinadas utilizando-se os seguintes 
operadores, listados em ordem decrescente de precedência:

@table @code
@item ( @var{expression} )
Retorna o valor de @var{expression}.
Isso pode ser utilizado para anular a precedência normal de operadores.

@item ! @var{expression}
Verdadeiro se @var{expression} for falsa.

@item @var{expression1} && @var{expression2}
Verdadeiro se ambas @var{expression1} e @var{expression2} forem falsas.

@item @var{expression1} || @var{expression2}
Verdadeiro se ou @var{expression1} ou @var{expression2} for 
verdadeira.
@end table

@noindent
Os operadores @code{&&} e @code{||} não calculam @var{expression2} se o 
valor de @var{expression1} for suficiente para determinar o valor de 
retorno da expressão condicional inteira.
@end table

@node Agrupamento de Comandos
@subsubsection Grouping Commands
@cindex commands, grouping

Bash provê duas maneiras de agrupar uma lista de comandos a serem 
executados como uma unidade.   Quando comandos são agrupados, as 
redireções podem ser aplicadas à lista de comandos inteira.   Por 
exemplo, a saída de todos os comandos na lista pode ser redirecionada 
para um fluxo único.

@table @code
@item ()
@example
( @var{list} )
@end example

Colocar uma lista de comandos entre parênteses faz com que um ambiente 
de sub shell seja criado (@ref{Ambiente de Execução de Comando}), e cada 
um dos comandos na @var{list} sejam executados nesse sub shell.   Uma vez 
que a @var{list} seja executada em um sub shell, atribuições à variáveis 
não permanecem em efeito após a finalização do sub shell.

@item @{@}
@rwindex @{
@rwindex @}
@example
@{ @var{list}; @}
@end example

Colocar uma lista de comandos entre chaves faz com que a lista seja 
executada no contexto do shell atual.   Nenhum sub shell é criado.
O ponto e vírgula (ou newline) seguinte a @var{list} é obrigatório.
@end table

Adicionalmente à criação de um sub shell, existe uma diferença sútil 
entre essas duas construções devida a razões históricas.   As chaves são 
@code{reserved words}, de forma que elas devem necessariamente serem 
separadas da @var{list} por @code{blank}s ou outros meta caracteres de 
shell.
Os parênteses são @code{operators}, e são reconhecidos como tokens 
separados pelo shell mesmo se eles não forem separados da @var{list} por 
espaços em branco.

O status de saída de ambas dessas construções é o status de saída de 
@var{list}.

@node Coprocessos
@subsection Coprocessos
@cindex coprocess

Um @code{coprocess} é um comando de shell precedido pela palavra 
reservada @code{coproc}.
Um co-processo é executado assincronamente em um sub shell, como se o 
comando tivesse sido finalizado com o operador de controle @samp{&}, com 
um tubo de mão dupla estabelecido entre o shell em execução e o 
co-processo.

O formato de um co-processo é:
@example
coproc [@var{NAME}] @var{command} [@var{redirections}]
@end example

@noindent
Isso cria um co-processo chamado @var{NAME}.
Se @var{NAME} não for informado, então o nome padrão é @var{COPROC}.
@var{NAME} deve necessariamente não ser informado se @var{command} for 
um comando simples (@ref{Comandos Simples}); do contrário, @var{NAME} é 
interpretada como sendo a primeira palavra do comando simples.

Quando o co-processo é executado, o shell cria um vetor variável 
(@ref{Vetores}) chamado @env{NAME} no contexto do shell em execução.
A saída padrão de @var{command} é conectada via tubo ao arquivo 
descritor no shell em execução, e esse arquivo descritor é atribuído ao 
primeiro elemento do vetor que é @env{NAME}[0].
A entrada padrão de @var{command} é conectada via tubo ao arquivo 
descritor no shell em execução, e esse arquivo descritor é atribuído ao 
segundo elemento do vetor que é @env{NAME}[1].
Esse tubo é estabelecido antes de quaisquer redireções especificadas 
pelo comando (@ref{Redireções}).
Os descritores de arquivo podem ser utilizados como argumentos para 
redireções e comandos de shell utilizando-se expansões de palavras 
padrão.
Os descritores de arquivo não estão disponíveis em sub shells.

O Identificador (ID) de processo do shell gerado para executar o 
co-processo está disponível como sendo o valor da variável 
@env{NAME}_PID.
O comando interno @code{wait} pode ser utilizado para aguardar o 
co-processo finalizar.

Dado que o co-processo é criado como um comando assíncrono, o comando 
@code{coproc} sempre retorna sucesso.
O status de retorno de um co-processo é o status de saída de 
@var{command}.

@node GNU Parallel
@subsection GNU Parallel

Existem maneiras de executar comandos em paralelo os quais não são 
internos ao Bash.
GNU Parallel é uma ferramenta para fazer justamente isso.

GNU Parallel, como seu próprio nome sugere, pode ser utilizado para 
construir e executar comandos em paralelo.   Você pode executar o 
mesmo comando com argumentos diferentes, quer sejam nomes de arquivos, 
nomes de usuários, nomes de máquinas ou linhas lidas de um arquivo.   
GNU Parallel fornece referências de atalhos para muitas das mais comuns 
operações (linhas de entrada, várias porções da linha de entrada, 
maneiras diferentes de especificar a fonte de entrada e assim por 
diante).   GNU Parallel pode substituir @code{xargs} ou alimentar 
comandos a partir de suas fontes de entrada para várias instâncias 
distintas de Bash.

Para uma descrição completa, veja-se a documentação de GNU Parallel.   
Alguns exemplos deveriam fornecer uma introdução breve ao seu uso.

Por exemplo, é simples substituir @code{xargs} para compactar todos os 
arquivos html com gzip no diretório atual e seus subdiretórios:
@example
find . -type f -name '*.html' -print | parallel gzip
@end example
@noindent
Se você necessitar proteger caracteres especiais tais como newlines em 
nomes de arquivos, utilize a opção do find @option{-print0} e a opção do 
GNU Parallel @option{-0}.

Você pode utilizar GNU Parallel para mover arquivos do diretório atual 
quando o número de arquivos for demasiadamente grande para se processar 
com uma invocação de @code{mv}:
@example
ls | parallel mv @{@} destdir
@end example

Como se pode observar, o @{@} é substituído por cada linha lida a partir 
da entrada padrão.
Ao tempo em que a utilização de @code{ls} funcionará na maioria das 
instâncias, isso não é suficiente para lidar com todos os nomes de 
arquivos.
Caso se necessite acomodar caracteres especiais em nomes de arquivos, 
pode-se utilizar

@example
find . -depth 1 \! -name '.*' -print0 | parallel -0 mv @{@} destdir
@end example

@noindent
conforme mencionado acima.

Isso executará tantos comandos @code{mv} quantos sejam os arquivos no 
diretório de trabalho atual.
Pode-se simular um @code{xargs} paralelo adicionando-se a opção 
@option{-X}:
@example
find . -depth 1 \! -name '.*' -print0 | parallel -0 -X mv @{@} destdir
@end example

GNU Parallel pode substituir certos idiomas comuns que operam em linhas 
lidas a partir de um arquivo (nesse caso, nomes de arquivos listados um 
por linha):
@example
	while IFS= read -r x; do
		do-something1 "$x" "config-$x"
		do-something2 < "$x"
	done < file | process-output
@end example

@noindent
com uma sintaxe mais compacta reminiscente das anônimas:
@example
cat list | parallel "do-something1 @{@} config-@{@} ; do-something2 < @{@}" | process-output
@end example

GNU Parallel fornece um mecanismo implementado internamente para remover 
extensões de nomes de arquivos, o qual se presta a transformações de 
arquivos em lote ou renomeamento:
@example
ls *.gz | parallel -j+0 "zcat @{@} | bzip2 >@{.@}.bz2 && rm @{@}"
@end example
@noindent
Isso irá recompactar todos os arquivos no diretório de trabalho atual 
com nomes terminando em .gz utilizando bzip2, executando uma tarefa por 
CPU (-j+0) em paralelo.
(Utiliza-se @code{ls} para brevidade aqui; utilizando-se @code{find} 
como acima é mais robusto em face de nomes de arquivos contendo 
caracteres inesperados).
GNU Parallel pode obter argumentos a partir da linha de comando; o 
exemplo acima também pode ser escrito como

@example
parallel "zcat @{@} | bzip2 >@{.@}.bz2 && rm @{@}" ::: *.gz
@end example

Se um comando gerar saída, pode-se desejar preservar a ordem de entrada 
na saída.   Por exemplo, o comando seguinte
@example
@{ echo foss.org.my ; echo debian.org; echo freenetproject.org; @} | parallel traceroute
@end example
@noindent
Exibirá aquela saída da invocação de traceroute que finalizar primeiro.
Adicionando-se a opção @option{-k}
@example
@{ echo foss.org.my ; echo debian.org; echo freenetproject.org; @} | parallel -k traceroute
@end example
@noindent
se terá a certeza de que a saída de @code{traceroute foss.org.my} será 
exibida primeiro.

Finalmente, GNU Parallel pode ser utilizado para se executar uma 
sequência de comandos de shell em paralelo, similar a @samp{cat file | bash}.
Não é incomum tomar-se uma lista de nomes de arquivos, criar-se uma 
série de comandos de shell para operar em cima deles, e fornecer tal 
lista de comandos a um shell.
GNU Parallel pode acelerar isso.   Presumindo-se que @file{file} contém 
uma lista de comandos de shell, um por linha,

@example
parallel -j 10 < file
@end example

@noindent
irá avaliar os comandos utilizando o shell (dado que nenhum comando 
explícito é fornecido como um argumento), em blocos de dez (10) tarefas 
de shell por vez.

@node Funções de Shell
@section Funções de Shell
@cindex shell function
@cindex functions, shell

Funções de shell são uma maneira de agrupar comandos para execução 
posterior utilizando um nome único para o grupo.   Elas são executadas 
exatamente como um comando "regular".
Quando o nome de uma função de shell é utilizada como um nome de comando 
simples, a lista dos comandos associados com aquele nome de função é 
executada.
Funções de shell são executadas no contexto do shell atual; nenhum 
processo novo é criado para interpretá-los.

As funções são declaradas utilizando-se esta sintaxe:

@rwindex function
@example
@var{name} () @var{compound-command} [ @var{redirections} ]
@end example

or

@example
function @var{name} [()] @var{compound-command} [ @var{redirections} ]
@end example

Isso define uma função de shell chamada @var{name}.   A palavra 
reservada @code{function} é opcional.   Se a palavra reservada 
@code{function} for informada, então os parênteses são opcionais.
O @var{body} da função é o comando composto @var{compound-command} 
(@ref{Comandos Compostos}).
Esse comando é em regra uma @var{list} encapsulada entre @{ e @}, porém 
pode ser qualquer comando composto listado acima.
@var{compound-command} é executado sempre que @var{name} for 
especificado como o nome do comando.
Quando o shell está em modo @sc{posix} (@ref{O Modo POSIX de Bash}), 
@var{name} pode não ser o mesmo que um dos comandos internos especiais 
(@ref{Comandos Internos Especiais}).
Quaisquer redireções (@ref{Redireções}) associadas com a função de 
shell são feitas quando a função é executada.

Uma definição de função pode ser deletada utilizando-se a opção 
@option{-f} para o comando interno @code{unset} 
(@ref{Comandos Internos do Shell Bourne}).

O status de saída de uma definição de função é zero a menos que um erro 
de sintaxe ocorra ou uma função somente leitura com o mesmo nome já 
exista.
Quando executada, o status de saída de uma função é o status de saída do 
último comando executado no corpo dessa função.

Perceba que, por razões históricas, no uso mais comum as chaves que 
envolvem o corpo de uma função devem necessariamente serem separadas do 
corpo por caracteres @code{blank}s ou newlines.
Isso é porque as chaves são palavras reservadas e apenas são 
reconhecidas como tais quando elas estão separadas da lista de comando 
por espaço em branco ou um outro meta carácter de shell.
Também, quando da utilização de chaves, a @var{list} deve 
necessariamente ser finalizada por um ponto e vírgula, ou por um 
@samp{&}, ou por um newline.

Quando a função é executada, os argumentos para a função se tornam os 
parâmetros posicionais durante a execução da função 
(@ref{Parâmetros Posicionais}).
O parâmetro especial @samp{#} que é expandido para o número de 
parâmetros posicionais é atualizado para refletir a mudança.
O parâmetro especial @code{0} fica imodificado.
O primeiro elemento da variável @env{FUNCNAME} é configurado para o nome 
da função ao tempo em que a função é executada.

Todos os outros aspectos do ambiente de execução de shell são idênticos 
entre a função e quem a invoca, com as seguintes exceções:
os coletores @env{DEBUG} e @env{RETURN} não são herdados, a menos que a 
função tenha recebido o atributo @code{trace} utilizando o comando 
interno @code{declare} ou a opção @code{-o functrace} tenha sido 
habilitada com o comando interno @code{set}, (caso no qual todas as 
funções herdam os coletores @env{DEBUG} e @env{RETURN}, o coletor 
@env{ERR} não é herdado, a menos que a opção de shell @code{-o errtrace} 
tenha sido habilitada.
Veja-se @ref{Comandos Internos do Shell Bourne}, para a descrição do comando 
interno @code{trap}.

A variável @env{FUNCNEST}, se configurada para um valor numérico maior 
que zero, define um nível máximo de aninhamento de função.   As 
invocações de função que excederem o limite fazem com que o comando 
inteiro aborte.

Se o comando inteiro @code{return} for executado em uma função, então a 
função completa sua execução e reinicia com o próximo comando após a 
chamada de função.
Qualquer comando associado com o coletor @code{RETURN} é executado antes 
que a função reinicie sua execução.
Quando uma função completa sua execução, os valores dos parâmetros 
posicionais e o parâmetro especial @samp{#} são restaurados para os 
valores que eles tinham antes da execução da função.   Se um argumento 
numérico é dado ao @code{return}, então esse é o status de retorno da 
função; do contrário o status de retorno da função é o status de saída 
do último comando executado antes do @code{return}.

Variáveis locais para a função podem ser declaradas com o comando 
interno @code{local}.   Essas variáveis são visíveis apenas para a 
função e aos comandos que a função invocar.

Os nomes de função e definições podem ser listados com a opção 
@option{-f} para o comando interno @code{declare} (@code{typeset}) 
(@ref{Comandos Internos ao Bash}).
A opção @option{-F} para @code{declare} ou @code{typeset} listará 
apenas os nomes de funções (e opcionalmente o arquivo fonte e número da 
linha, se a opção de shell @code{extdebug} estiver habilitada).
As funções podem ser exportadas, de forma que sub shells automaticamente 
tenham elas definidas com a opção @option{-f} para o comando interno 
@code{export} (@ref{Comandos Internos do Shell Bourne}).
Perceba que as funções e variáveis de shell com o mesmo nome podem 
resultar em entradas múltiplas identicamente nomeadas no ambiente 
passadas para os filhos do shell.
Cuidado deveria ser tomado em casos onde isso pode causar um problema.

As funções podem ser recursivas.
A variável @code{FUNCNEST} pode ser utilizada para limitar a 
profundidade da pilha de chamada da função e restringir o número de 
invocações de função.
Por padrão, nenhum limite é colocado no número de chamadas recursivas.

@node Parâmetros de Shell
@section Parâmetros de Shell
@cindex parameters
@cindex variable, shell
@cindex shell variable

@menu
* Parâmetros Posicionais::	Os argumentos de linha de comando do 
shell.
* Parâmetros Especiais::		Parâmetros denotados por caracteres 
especiais.
@end menu

Um @var{parameter} é uma entidade que armazena valores.   Pode ser um 
@code{name}, um número, ou um dos caracteres especiais listados abaixo.
Uma @var{variable} é um parâmetro denotado por um @code{name}.
Uma variável tem um @var{value} e zero ou mais @var{attributes}.
Atributos são atribuídos utilizando-se o comando interno @code{declare} 
(veja-se a descrição do comando interno @code{declare} em 
@ref{Comandos Internos ao Bash}).

Um parâmetro é configurado se a ele foi atribuído um valor.   A frase 
null é um valor válido.   Uma vez que uma variável for configurada, ela 
pode ser desconfigurada apenas utilizando-se o comando interno 
@code{unset}.

Pode-se atribuir um valor a uma variável com uma declaração da forma
@example
@var{name}=[@var{value}]
@end example
@noindent
Se @var{value} não for dado, é atribuída para a variável a palavra null.  
Todos os @var{value}s estão sujeitos à expansão de til, expansão de 
parâmetro e variável, substituição de comando, expansão aritmética e 
remoção de aspas (detalhadas abaixo).   Se a variável tiver seu atributo 
@code{integer} configurado, então @var{value} é calculado como uma 
expressão aritmética mesmo se a expansão @code{$((@dots{}))} não for 
utilizada (veja-se @ref{Expansão Aritmética}).
Divisão de palavra não é feita, com a exceção de @code{"$@@"} conforme 
abaixo exposto.
Expansão de nome de arquivo não é feita.
Declarações de atribuição também podem aparecer como argumentos para os 
comandos internos @code{alias}, @code{declare}, @code{typeset}, 
@code{export}, @code{readonly}, e @code{local}.
Quando em modo @sc{posix} (veja-se @ref{O Modo POSIX de Bash}), esse comandos 
internos podem aparecer em um comando após uma ou mais instâncias do 
comando interno @code{command} e conservar essas propriedades de 
declaração de atribuição.

No contexto onde uma declaração de atribuição está atribuindo um valor 
para uma variável de shell ou índice de vetor (veja-se @ref{Vetores}), o 
operador @samp{+=} pode ser utilizado ou para acrescentar ou para somar 
ao valor prévio da variável.
Quando @samp{+=} é aplicado a uma variável para a qual o atributo 
@var{integer} tenha sido configurado, @var{value} é calculado como uma 
expressão aritmética e adicionado ao valor atual da variável, o qual 
também é calculado.
Quando @samp{+=} é aplicado a uma variável de vetor utilizando-se 
atribuição composta (veja-se @ref{Vetores}), o valor da variável não é 
desconfigurado (como o é ao se utilizar @samp{=}), e novos valores são 
acrescentados ao vetor iniciando naquele valor maior que o índice máximo 
do vetor (para vetores indexados), ou somados como pares de valor-chave 
adicionais em um vetor associativo.
Quando aplicado a uma variável de valor de sequência de caracteres, 
@var{value} é expandido e acrescentado ao valor da variável.

O atributo @var{nameref} de uma variável pode ser atribuído 
utilizando-se a opção @option{-n} para os comandos internos 
\fBdeclare\fP ou \fBlocal\fP (veja-se @ref{Comandos Internos ao Bash}) para criar 
uma @var{nameref}, ou uma referência a uma outra variável.
Isso permite que variáveis sejam manipuladas indiretamente.
Sempre que a variável nameref é referenciada ou é atribuída, a operação 
é atualmente feita na variável especificada pelo valor da variável 
nameref.
Uma variável nameref é usualmente utilizada dentro de funções de shell 
para referenciar uma variável cujo nome é passado como um argumento para 
a função.
Por exemplo, se um nome de variável é passado para uma função de shell 
como o seu primeiro argumento, executar
@example
declare -n ref=$1
@end example
@noindent
dentro da função cria uma variável nameref @var{ref} cujo valor é o nome 
da variável passado como o primeiro argumento.
Referências e atribuições a @var{ref} são tratadas como referências e 
atribuições à variável cujo nome foi passado como @code{$1}.

Se a variável de controle em um loop @code{for} tem o atributo nameref, 
a lista de palavras pode ser uma lista de variáveis de shell, e uma 
referência de nome será estabelecida para cada palavra na lista, em 
sequência, quando o loop é executado.
Às variáveis de vetores não pode ser atribuído o atributo @option{-n}.
Entretanto, variáveis nameref podem referenciar variáveis de vetor e 
variáveis de vetor subscritas.
Os nameref podem ser desconfigurados utilizando-se a opção @option{-n} 
para o comando interno @code{unset} 
(veja-se @ref{Comandos Internos do Shell Bourne}).
Do contrário, se @code{unset} for executado com o nome de uma variável 
nameref como um argumento, a variável referenciada pela variável nameref 
será desconfigurada.

@node Parâmetros Posicionais
@subsection Parâmetros Posicionais
@cindex parameters, positional

Um @var{positional parameter} é um parâmetro denotado por um ou mais 
dígitos, qualquer outro diferente do dígito único @code{0}.   Parâmetros 
posicionais são atribuídos via argumentos de shell quando esse é 
invocado, e podem ser reatribuídos utilizando-se o comando interno 
@code{set}.
O parâmetro posicional @code{N} pode ser referenciado como 
@code{$@{N@}}, ou como @code{$N} quando @code{N} consiste de um dígito 
único.
Parâmetros posicionais não podem ser atribuídos com declarações de 
atribuição.
Os comandos internos @code{set} e @code{shift} são utilizados para 
configurar e desconfigurar os parâmetros posicionais 
(veja-se @ref{Comandos Internos ao Shell}).
Os parâmetros posicionais são substituídos temporariamente quando uma 
função de shell é executada (veja-se @ref{Funções de Shell}).

Quando um parâmetro posicional consistindo de mais que um dígito único é 
expandido, ele deve necessariamente estar contido entre chaves.

@node Parâmetros Especiais
@subsection Parâmetros Especiais
@cindex parameters, special

O shell trata diversos parâmetros especialmente.   Tais parâmetros 
apenas podem ser referenciados; atribuição a eles não é permitida.

@vtable @code

@item *
@vindex $*
($*) Expande para os parâmetros posicionais, iniciando de um.
Quando a expansão não está dentro de aspas duplas, cada parâmetro 
posicional expande para uma palavra separada.
Em contextos nos quais tal expansão é feita, as mencionadas palavras são 
objeto de separação mais ampla de palavras e de expansão de nome de 
caminho.
Quando a expansão acontece dentro de aspas duplas, ela expande para uma 
palavra única com o valor de cada parâmetro separado pelo primeiro 
carácter da variável especial @env{IFS}.   Isto é, @code{"$*"} é 
equivalente a @code{"$1@var{c}$2@var{c}@dots{}"}, onde @var{c} é o 
primeiro carácter do valor da variável @code{IFS}.
Se @env{IFS} estiver desconfigurada, os parâmetros são separados por 
espaços.
Se @env{IFS} for null, os parâmetros são unidos sem separadores 
intervenientes.

@item @@
@vindex $@@
($@@) Expande para os parâmetros posicionais, iniciando em um.   Quando 
a expansão acontece dentro de aspas duplas, cada parâmetro expande para 
uma palavra separada.   Isto é, @code{"$@@"} é equivalente a @code{"$1" 
"$2" @dots{}}.
Se a expansão de aspas duplas ocorre dentro de uma palavra, a expansão 
do primeiro parâmetro é unido com a parte inicial da palavra original, e 
a expansão do último parâmetro é unido com a última parte da palavra 
original.
Quando não existem parâmetros posicionais, @code{"$@@"} e @code{$@@} 
expandem para nada (ou seja, os parâmetros posicionais são removidos).

@item #
@vindex $#
($#) Expande para o número de parâmetros posicionais em decimal.

@item ?
@vindex $?
($?) Expande para o status de saída do canal de comunicação executado em 
primeiro plano mais recentemente.

@item -
@vindex $-
($-, um hífen.)  Expande para as flags de opção atuais conforme 
especificadas ao tempo da invocação, pelo comando interno @code{set}, ou 
aquelas configuradas pelo próprio shell (tal como a opção @option{-i}).

@item $
@vindex $$
($$) Expande para o @sc{id} de processo do shell.   Dentro de um 
sub shell @code{()}, ele expande para o @sc{id} de processo do shell que 
invoca, não o do sub shell.

@item !
@vindex $!
($!) Expande para o @sc{id} de processo da tarefa colocada mais 
recentemente em segundo plano, seja executada como um comando assíncrono 
ou utilizando o comando interno @code{bg} 
(veja-se @ref{Comandos Internos do Controle de Tarefa}).

@item 0
@vindex $0
($0) Expande para o nome do shell ou o do script de shell.   Isso é 
configurado na inicialização do shell.   Se Bash for invocado com um 
arquivo de comandos (veja-se @ref{Scripts de Shell}), @code{$0} é 
configurado para o nome desse arquivo.
Se Bash for iniciado com a opção @option{-c} 
(veja-se @ref{Invocando o Bash}), então @code{$0} é configurado para o 
primeiro argumento após a sequência de caracteres ser executada, caso 
uma esteja presente.   Do contrário, é configurado para o nome do 
arquivo utilizado para invocar Bash, conforme dado pelo argumento zero.

@item _
@vindex $_
($_, um sublinhado.)
Na inicialização do shell, configurado para o nome de caminho absoluto 
utilizado para invocar o shell ou script de shell sendo executado 
conforme passado no ambiente ou na lista de argumento.
Subsequentemente, expande para o último argumento ao comando prévio, 
após expansão.
Também configurado para o nome de caminho completo utilizado para 
invocar cada comando executado e colocado no ambiente exportado para 
esse comando.
Quando da verificação de mensagem, esse parâmetro mantém o nome do 
arquivo de mensagem.
@end vtable

@node Expansões de Shell
@section Expansões de Shell
@cindex expansion

A expansão é realizada na linha de comando após ela ter sido dividida em 
@code{token}s.   Existem sete tipos de expansão realizadas:

@itemize @bullet
@item expansão de chave
@item expansão de til
@item expansão de parâmetro e variável
@item substituição de comando
@item expansão aritmética
@item divisão de palavra
@item expansão de nome de arquivo
@end itemize

@menu
* Expansão de Chave::		Expansão de expressões dentro de chaves.
* Expansão de Til::		Expansão do carácter ~.
* Expansão de Parâmetro de Shell::	Como Bash expande variáveis para seus 
				valores.
* Substituição de Comando::	Utilizando a saída de um comando como um 
				argumento.
* Expansão Aritmética::	Como utilizar aritmética em expansões de 
				shell.
* Substituição de Processo::	Uma maneira de escrever e ler para e de 
				um comando.
* Divisão de Palavra::	Como os resultados da expansão são divididos em 
			argumentos separados.
* Expansão de Nome de Arquivo::	Uma abreviação para especificar nomes de 
			arquivos que conferem com padrões.
* Remoção de Aspas::	Como e quando caracteres de aspas são removidos 
			de palavras.
@end menu

A ordem das expansões é: expansão de chave; expansão de til, expansão de 
parâmetro e variável, expansão aritmética, e substituição de comando 
(feita da esquerda para a direita); divisão de palavra; e expansão de 
nome de arquivo.

Em sistemas que podem suportar, existe uma expansão adicional 
disponível: @var{process substitution}.
Essa é realizada ao mesmo tempo que til, parâmetro, variável, e expansão 
aritmética e substituição de comando.

Apenas a expansão de chave, divisão de palavra e expansão de nome de 
arquivo podem mudar o número de palavras da expansão; outras expansões 
expandem a palavra única para uma palavra única.
As únicas exceções a isso são as expansões de @code{"$@@"} 
(veja-se @ref{Parâmetros Especiais}) e @code{"$@{@var{name}[@@]@}"}
(veja-se @ref{Vetores}).

Após todas as expansões @code{quote removal} 
(veja-se @ref{Remoção de Aspas}) é realizada.

@node Expansão de Chave
@subsection Expansão de Chave
@cindex brace expansion
@cindex expansion, brace

Expansão de chave é um mecanismo pelo qual sequências de caracteres 
arbitrárias podem ser geradas.
Esse mecanismo é similar a @var{filename expansion} 
(veja-se @ref{Expansão de Nome de Arquivo}), porém os nomes de arquivo gerados 
não podem existir.
Padrões para serem expandidos de chave assumem a forma de um 
@var{preamble} opcional, seguido de ou uma série de sequências de 
caracteres separadas por vírgulas ou uma expressão sequencial entre um 
par de chaves, seguida por um @var{postscript} opcional.
O preâmbulo é prefixado para cada sequência de caracteres contida nas 
chaves, e o postscript é então adicionado a cada sequência de caracteres 
resultante, expandindo da esquerda para a direita.

Expansões de chave podem ser aninhadas.
Os resultados de cada sequência de caracteres expandida não são 
ordenados; a ordem da esquerda para a direita é preservada.
Por exemplo,
@example
bash$ echo a@{d,c,b@}e
ade ace abe
@end example

Uma expressão sequencial assume a forma 
@code{@{@var{x}..@var{y}[..@var{incr}]@}}, onde @var{x} e @var{y} são ou 
inteiros ou caracteres simples, e @var{incr}, um incremento opcional, é 
um inteiro.
Quando inteiros são fornecidos, a expressão expande para cada número 
entre @var{x} e @var{y}, inclusive.
Inteiros informados podem ser prefixados com @samp{0} para forçar cada 
termo a ter o mesmo comprimento.
Quando ou @var{x} ou @var{y} começam com um zero, o shell tenta forçar 
todos os termos gerados a conterem o mesmo número de dígitos, 
completando com zeros onde necessário.
Quando caracteres são informados, a expressão expande para cada carácter 
lexicograficamente entre @var{x} e @var{y}, inclusive, utilizando o 
locale C padrão.
Note que ambas @var{x} e @var{y} devem necessariamente ser do mesmo 
tipo.
Quando o incremento é informado, ele é utilizado como a diferença entre 
cada termo.   O incremento padrão é um (1) ou -1 conforme for 
apropriado.

Expansão de chave é realizada antes de quaisquer outras expansões, e 
quaisquer caracteres especiais para outras expansões são preservados no 
resultado.   É estritamente textual.   O Bash não aplica qualquer 
interpretação sintática ao contexto da expansão ou ao texto entre as 
chaves.
Para evitar conflitos com a expansão de parâmetro, a sequência 
@samp{$@{} não é considerada apta para expansão de chave.

Uma expansão de chave corretamente formada deve necessariamente conter 
chaves que abrem e fecham fora de aspas, e ao menos uma vírgula fora de 
aspas ou uma expressão sequencial válida.
Qualquer expansão de chave incorreta é deixada não modificada.

Um @{ ou uma @samp{,} podem ser encapsuladas com uma barra invertida 
para prevenir que sejam considerados parte de uma expressão de chave.
Para evitar conflitos com a expansão de parâmetro, a sequência 
@samp{$@{} não é considerada apta para expansão de chave.

Esta construção é tipicamente utilizada como abreviação quando o prefixo 
comum das sequências de caracteres a serem geradas é maior que no 
exemplo acima:
@example
mkdir /usr/local/src/bash/@{old,new,dist,bugs@}
@end example
ou
@example
chown root /usr/@{ucb/@{ex,edit@},lib/@{ex?.?*,how_ex@}@}
@end example

@node Expansão de Til
@subsection Expansão de Til
@cindex tilde expansion
@cindex expansion, tilde

Se uma palavra se inicia com um carácter til fora de aspas (@samp{~}), 
todos os caracteres até a primeira barra fora de aspas (ou todos os 
caracteres, se não existir barra fora de aspas) são considerados como 
sendo um @var{tilde-prefix}.
Se nenhum dos caracteres dentro do tilde-prefix estiver dentro de aspas, 
os caracteres dentro do tilde-prefix seguinte ao til são tratados como 
sendo um possível @var{login name}.
Se esse nome de login for a sequência de caracteres "null", então o til 
é substituído pelo valor da variável de shell @env{HOME}.
Se @env{HOME} estiver desconfigurada, então o diretório home do usuário 
que executa o shell é substituído.
Do contrário, o tilde-prefix é substituído pelo diretório home associado 
com o nome de login especificado.

Se o prefix-tilde for @samp{~+}, então o valor da variável de shell 
@env{PWD} substitui o tilde-prefix.
Se o tilde-prefix for @samp{~-}, então o valor da variável de shell 
@env{OLDPWD}, se ele estiver configurado, é substituído.

Se os caracteres seguintes ao til dentro do tilde-prefix consistem de um 
número @var{N}, opcionalmente prefixado por um @samp{+} ou um @samp{-}, 
então o tilde-prefix é substituído com o elemento correspondente 
originado da pilha de diretório, como se ele pudesse ser exibido pelo 
comando interno @code{dirs} invocado com os caracteres seguindo til no 
tilde-prefix como um argumento (veja-se @ref{A Pilha de Diretório}).
Se o tilde-prefix, sem o til, consiste de um número sem um @samp{+} ou 
@samp{-} iniciais, então @samp{+} é presumido.

Se o nome de login for inválido, ou a expansão de til falhar, a palavra 
é deixada imodificada.

Cada atribuição a variável é testada para tilde-prefixes fora de aspas 
imediatamente seguinte a @samp{:} ou o primeiro @samp{=}.
Nesse casos, a expansão de til também é feita.
Consequentemente, pode-se utilizar nomes de arquivos com tios em 
atribuições a @env{PATH}, @env{MAILPATH}, e @env{CDPATH}, e o shell 
atribui o valor expandido.

A tabela seguinte mostra como Bash trata tilde-prefixes fora de aspas:

@table @code
@item ~
O valor de @code{$HOME}
@item ~/foo
@file{$HOME/foo}

@item ~fred/foo
O subdiretório @code{foo} do diretório home do usuário @code{fred}

@item ~+/foo
@file{$PWD/foo}

@item ~-/foo
@file{$@{OLDPWD-'~-'@}/foo}

@item ~@var{N}
A sequência de caracteres que poderia ser exibida por @samp{dirs 
+@var{N}}

@item ~+@var{N}
A sequência de caracteres que poderia ser exibida por @samp{dirs 
+@var{N}}

@item ~-@var{N}
A sequência de caracteres que poderia ser exibida por @samp{dirs 
-@var{N}}
@end table

@node Expansão de Parâmetro de Shell
@subsection Expansão de Parâmetro de Shell
@cindex parameter expansion
@cindex expansion, parameter

O carácter @samp{$} introduz a expansão de parâmetro, substituição de 
comando, ou expansão aritmética.   O nome de parâmetro ou símbolo a ser 
expandido pode ser encapsulado entre chaves, as quais são opcionais, 
porém servem para proteger a variável a ser expandida dos caracteres 
imediatamente seguintes a ela, os quais poderiam ser interpretados como 
sendo parte do nome.

Quando chaves são utilizadas, a chave que finaliza e confere é o 
primeiro @samp{@}} não encapsulado por uma barra invertida ou contido em 
uma sequência de caracteres encapsulada por aspas, e não contida em uma 
expansão aritmética embutida, substituição de comando, ou expansão de 
parâmetro.

A forma básica da expansão de parâmetro é $@{@var{parameter}@}.
O valor de @var{parameter} é substituído.
O @var{parameter} é um parâmetro de shell conforme descrito acima 
(veja-se @ref{Parâmetros de Shell}) ou uma referência de vetor 
(veja-se @ref{Vetores}).
As chaves são obrigatórias quando @var{parameter} é um parâmetro 
posicional com mais que um dígito, ou quando @var{parameter} for seguido 
por um carácter que não é para ser interpretado como sendo parte de seu 
nome.

Se o primeiro carácter de @var{parameter} for um ponto de exclamação 
(!), então isso introduz um nível de indireção de variável.
Bash utiliza o valor da variável formada a partir do resto de 
@var{parameter} como sendo o nome da variável; essa variável é então 
expandida e aquele valor é utilizado no restante da substituição, em vez 
do valor do próprio @var{parameter}.
Isso é conhecido como @code{indirect expansion}.
As exceções a isso são as expansões de $@{!@var{prefix}*@}
e $@{!@var{name}[@@]@} descritas abaixo.
O ponto de exclamação deve necessariamente imediatamente seguir o 
abre chaves com o objetivo de introduzir a expansão indireta.

Em cada um dos casos abaixo, @var{word} é objeto de expansão de til, 
expansão de parâmetro, substituição de comando, e expansão aritmética.

Quando não for realizada expansão de substring, utilizando a forma 
descrita abaixo (por exemplo, @samp{:-}), Bash testa se um parâmetro 
está desconfigurado ou é nulo.
A omissão dos dois pontos resulta em um teste apenas para um parâmetro 
que está desconfigurado.
Colocado de outra maneira, se os dois pontos forem incluídos, o operador 
verifica a existência de ambos os @var{parameter}s e se o seu valor não 
é nulo; se os dois pontos são omitidos, então o operador testa apenas a 
existência.

@table @code

@item $@{@var{parameter}:@minus{}@var{word}@}
Se @var{parameter} estiver desconfigurado ou for nulo, a expansão de 
@var{word} é substituída.   Do contrário, o valor de @var{parameter} é 
substituído.

@item $@{@var{parameter}:=@var{word}@}
Se @var{parameter} estiver desconfigurado ou for nulo, a expansão de 
@var{word} é atribuída a @var{parameter}.
O valor de @var{parameter} é então substituído.
Parâmetros posicionais e parâmetros especiais não podem ser atribuídos 
dessa maneira.

@item $@{@var{parameter}:?@var{word}@}
Se @var{parameter} for nulo ou estiver desconfigurado, a expansão de 
@var{word} (ou uma mensagem para esse efeito se @var{word} não estiver 
presente) é escrita para o descritor de erro padrão e o shell, se não 
for interativo, sai.   Do contrário, o valor de @var{parameter} é 
substituído.

@item $@{@var{parameter}:+@var{word}@}
Se @var{parameter} for nulo ou estiver desconfigurado, nada é 
substituído, do contrário a expansão de @var{word} é substituída.

@item $@{@var{parameter}:@var{offset}@}
@itemx $@{@var{parameter}:@var{offset}:@var{length}@}
Isso é referenciado como Expansão de Substring.
Ela expande até @var{length} caracteres do valor de @var{parameter} 
iniciando no carácter especificado por @var{offset}.
Se @var{parameter} for @samp{@@}, um vetor indexado subscrito por 
@samp{@@} ou @samp{*}, ou um nome de vetor associativo, os resultados 
diferem conforme descritos abaixo.
Se @var{length} for omitido, expande para a substring do valor de 
@var{parameter} iniciando no carácter especificado por @var{offset} e se 
estendo até o fim do valor.
@var{length} e @var{offset} são expressões aritméticas 
(veja-se @ref{Aritmética de Shell}).

Se o valor de @var{offset} for calculado para um número menor que zero, 
o valor é utilizado como um offset em caracteres a partir do fim do 
valor de @var{parameter}.
Se o valor de @var{length} for calculado para um número menor que zero, 
ela é interpretada como sendo um offset em caracteres a partir do fim do 
valor de @var{parameter} em vez de um número de caracteres, e a expansão 
são os caracteres entre @var{offset} e aquele resultado.
Perceba-se que um offset negativo deve necessariamente ser separado dos 
dois pontos por pelo menos um espaço para evitar que seja confundido com 
a expansão de @samp{:-}.

Aqui estão alguns exemplos ilustrando a Expansão de Substring sobre 
parâmetros e vetores subscritos:

@verbatim
$ string=01234567890abcdefgh
$ echo ${string:7}
7890abcdefgh
$ echo ${string:7:0}

$ echo ${string:7:2}
78
$ echo ${string:7:-2}
7890abcdef
$ echo ${string: -7}
bcdefgh
$ echo ${string: -7:0}

$ echo ${string: -7:2}
bc
$ echo ${string: -7:-2}
bcdef
$ set -- 01234567890abcdefgh
$ echo ${1:7}
7890abcdefgh
$ echo ${1:7:0}

$ echo ${1:7:2}
78
$ echo ${1:7:-2}
7890abcdef
$ echo ${1: -7}
bcdefgh
$ echo ${1: -7:0}

$ echo ${1: -7:2}
bc
$ echo ${1: -7:-2}
bcdef
$ array[0]=01234567890abcdefgh
$ echo ${array[0]:7}
7890abcdefgh
$ echo ${array[0]:7:0}

$ echo ${array[0]:7:2}
78
$ echo ${array[0]:7:-2}
7890abcdef
$ echo ${array[0]: -7}
bcdefgh
$ echo ${array[0]: -7:0}

$ echo ${array[0]: -7:2}
bc
$ echo ${array[0]: -7:-2}
bcdef
@end verbatim

Se @var{parameter} for @samp{@@}, o resultado é @var{length} parâmetros 
posicionais iniciando em @var{offset}.
Um @var{offset} negativo é tomado relativo a um maior que o maior 
parâmetro posicional, de maneira que um offset de -1 tem por resultado o 
último parâmetro posicional.
É um erro de expansão se @var{length} tiver por resultado um número 
menor que zero.

Os exemplos seguintes ilustram Expansão de Substring utilizando 
parâmetros posicionais:

@verbatim
$ set -- 1 2 3 4 5 6 7 8 9 0 a b c d e f g h
$ echo ${@:7}
7 8 9 0 a b c d e f g h
$ echo ${@:7:0}

$ echo ${@:7:2}
7 8
$ echo ${@:7:-2}
bash: -2: substring expression < 0
$ echo ${@: -7:2}
b c
$ echo ${@:0}
./bash 1 2 3 4 5 6 7 8 9 0 a b c d e f g h
$ echo ${@:0:2}
./bash 1
$ echo ${@: -7:0}

@end verbatim

Se @var{parameter} for um nome de vetor indexado subscrito por @samp{@@} 
ou @samp{*}, o resultado é o @var{length} de membros do vetor iniciando 
com @code{$@{@var{parameter}[@var{offset}]@}}.
Um @var{offset} negativo é tomado relativo ao um maior que o índice 
máximo do vetor especificado.
É um erro de expansão se @var{length} for calculado para um número menor 
que zero.

Estes exemplos mostram como se pode utilizar Expansão de Substring com 
vetores indexados:

@verbatim
$ array=(0 1 2 3 4 5 6 7 8 9 0 a b c d e f g h)
$ echo ${array[@]:7}
7 8 9 0 a b c d e f g h
$ echo ${array[@]:7:2}
7 8
$ echo ${array[@]: -7:2}
b c
$ echo ${array[@]: -7:-2}
bash: -2: substring expression < 0
$ echo ${array[@]:0}
0 1 2 3 4 5 6 7 8 9 0 a b c d e f g h
$ echo ${array[@]:0:2}
0 1
$ echo ${array[@]: -7:0}

@end verbatim

Expansão de Substring aplicada a um vetor associativo produz resultados 
indefinidos.

A indexação de substring é baseada em zero, a menos que os parâmetros 
posicionais sejam utilizados, caso no qual a indexação começa no um (1) 
por padrão.
Se @var{offset} for zero (0), e os parâmetros posicionais forem 
utilizados, @code{$@@} é prefixado à lista.

@item $@{!@var{prefix}*@}
@itemx $@{!@var{prefix}@@@}
Expande para os nomes das variáveis cujos nomes iniciam com 
@var{prefix}, separados pelo primeiro carácter da variável especial 
@env{IFS}.
Quando @samp{@@} for utilizada e a expansão aparece dentro de aspas 
duplas, cada nome de variável expande para uma palavra separada.

@item $@{!@var{name}[@@]@}
@itemx $@{!@var{name}[*]@}
Se @var{name} for uma variável de vetor, expande para a lista de índices 
de vetor (chaves) atribuídos em @var{name}.
Se @var{name} não for um vetor, expande para zero (0) se @var{name} 
estiver configurada e nulo caso contrário.
Quando @samp{@@} for utilizada e a expansão aparecer dentro de aspas 
duplas, cada chave expande para uma palavra separada.

@item $@{#@var{parameter}@}
O tamanho em caracteres do valor expandido de @var{parameter} é 
substituído.
Se @var{parameter} for @samp{*} ou @samp{@@}, o valor substituído é o 
número de parâmetros posicionais.
Se @var{parameter} for um nome de vetor subscrito por @samp{*} ou 
@samp{@@}, o valor substituído é o número de elementos no vetor.
Se @var{parameter} for um nome de vetor indexado subscrito por um número 
negativo, esse número é interpretado como relativo a um maior que o 
índice máximo de @var{parameter}, de maneira que índices negativos 
contam de volta do fim do vetor, e um índice de -1 referencia o último 
elemento.

@item $@{@var{parameter}#@var{word}@}
@itemx $@{@var{parameter}##@var{word}@}
A @var{word} é expandida para produzir um padrão exatamente como em 
expansão de nome de arquivo (veja-se @ref{Expansão de Nome de Arquivo}).   Se o 
padrão coincidir com o inicio do valor expandido de @var{parameter}, 
então o resultado da expansão é o valor expandido de @var{parameter} com 
o padrão mais curto que coincidir (o caso do @samp{#}) ou o padrão mais 
longo que coincidir (o caso do @samp{##}) deletado.
Se @var{parameter} for @samp{@@} ou @samp{*}, a operação de remoção do 
padrão é aplicada a cada parâmetro posicional em sequência, e a expansão 
é a lista resultante.
Se @var{parameter} for uma variável de vetor subscrito com @samp{@@} ou 
@samp{*}, a operação de remoção de padrão é aplicada a cada membro do 
vetor em sequência, e a expansão é a lista resultante.

@item $@{@var{parameter}%@var{word}@}
@itemx $@{@var{parameter}%%@var{word}@}
A @var{word} é expandida para produzir um padrão exatamente como na 
expansão de nome de arquivo.
Se o padrão coincidir com uma porção ao final do valor expandido de 
@var{parameter}, então o resultado da expansão é o valor de 
@var{parameter} com o padrão mais curto que coincidir (o caso do 
@samp{%}) ou o padrão mais longo que coincidir (o caso do @samp{%%}) 
deletado.
Se @var{parameter} for @samp{@@} ou @samp{*}, a operação de remoção de 
padrão é aplicada a cada parâmetro posicional em sequência, e a expansão 
é a lista resultante.
Se @var{parameter} for uma variável de vetor subscrito com @samp{@@} ou 
@samp{*}, a operação de remoção de padrão é aplicada a cada membro do 
vetor em sequência, e a expansão é a lista resultante.

@item $@{@var{parameter}/@var{pattern}/@var{string}@} 
O @var{pattern} é expandido para produzir um padrão exatamente como em 
expansão de nome de arquivo.
@var{Parameter} é expandido e a coincidência mais longa de @var{pattern} 
contra seu valor é substituída com @var{string}.
Se @var{pattern} iniciar com uma @samp{/}, todas as coincidências de 
@var{pattern} são substituídas com @var{string}.   Normalmente apenas a 
primeira coincidência é substituída.
Se @var{pattern} se iniciar com @samp{#}, é necessário coincidir no 
início do valor expandido de @var{parameter}.
Se @var{pattern} se iniciar com @samp{%}, é necessário coincidir no 
final do valor expandido de @var{parameter}.
Se @var{string} for nula, as coincidências de @var{pattern} são 
deletadas e a @code{/} que se seguir a @var{pattern} pode ser omitida.
Se @var{parameter} for @samp{@@} ou @samp{*}, a operação de substituição 
é aplicada a cada parâmetro posicional em sequência, e a expansão é a 
lista resultante.
Se @var{parameter} for uma variável de vetor subscrito com @samp{@@} ou 
@samp{*}, a operação de substituição é aplicada a cada parâmetro 
posicional em sequência, e a expansão é a lista resultante.
Se @var{parameter} for uma variável de vetor subscrito com @samp{@@} ou 
@samp{*}, a operação de substituição é aplicada a cada membro do vetor 
em sequência, e a expansão é a lista resultante.

@item $@{@var{parameter}^@var{pattern}@}
@itemx $@{@var{parameter}^^@var{pattern}@}
@itemx $@{@var{parameter},@var{pattern}@}
@itemx $@{@var{parameter},,@var{pattern}@}
Esta expansão modifica o tipo dos caracteres alfabéticos em @var{parameter}.
O @var{parameter} é expandido para produzir um padrão exatamente como na 
expansão de nome de arquivo.
Cada carácter no valor expandido de @var{parameter} é testado contra 
@var{pattern}, e, se coincidir com o padrão, acontece a conversão de 
caso.
O padrão não deveria tentar coincidir mais que um carácter.
O operador @samp{^} converte letras minúsculas coincidentes com 
@var{pattern} para maiúsculas; o operador @samp{,} converte letras 
maiúsculas coincidentes com @var{pattern} para minúsculas.
As expansões @samp{^^} e @samp{,,} convertem cada carácter coincidido no 
valor expandido; as expansões @samp{^} e @samp{,} coincidem e convertem 
apenas o primeiro carácter no valor expandido.
Se @var{pattern} for omitido, ele é tratado como um @samp{?}, o qual 
coincide com cada carácter.
Se @var{parameter} for @samp{@@} ou @samp{*}, a operação de modificação 
de caso é aplicada a cada parâmetro posicional em sequência, e a 
expansão é a lista resultante.
Se @var{parameter} for uma variável de vetor subscrito com @samp{@@} ou 
@samp{*}, a operação de modificação de caso é aplicada a cada membro do 
vetor em sequência, e a expansão é a lista resultante.
@end table

@node Substituição de Comando
@subsection Substituição de Comando
@cindex command substitution

A substituição de comando permite que a saída de um comando substitua o 
próprio comando.
A substituição de comando ocorre quando um comando é encapsulado 
conforme segue:
@example
$(@var{command})
@end example
@noindent
ou
@example
`@var{command}`
@end example

@noindent
Bash realiza a expansão executando @var{command} e substituindo a 
substituição de comando com a saída padrão do comando, com cada marcador 
de nova linha sendo deletado.
Os marcadores de nova linha embutidos não são deletados, porém eles 
podem ser removidos durante a divisão de palavra.
A substituição de comando @code{$(cat @var{file})} pode ser substituída 
pelo equivalente, mas mais rápido @code{$(< @var{file})}.

Quando a forma de substituição estilo antigo de aspa invertida é 
utilizada, a barra invertida mantém o seu significado literal exceto 
quando seguido por @samp{$}, @samp{`}, ou @samp{\}.
A primeira aspa invertida não precedida por uma barra invertida termina 
a substituição de comando.
Quando da utilização da forma @code{$(@var{command})}, todos os 
caracteres entre os parênteses compõem o comando; nenhum é tratado 
especialmente.

As substituições de comando podem ser aninhadas.   Para aninhar quando 
da utilização da forma de aspa invertida, encapsule as aspas invertidas 
internas com barras invertidas.

Se a substituição aparece dentro de aspas duplas, divisão de palavra e 
expansão de nome de arquivo não são realizadas sobre os resultados.

@node Expansão Aritmética
@subsection Expansão Aritmética
@cindex expansion, arithmetic
@cindex arithmetic expansion

A expansão aritmética permite o cálculo de uma expressão aritmética e a 
substituição do resultado.   O formato para expansão aritmética é:

@example
$(( @var{expression} ))
@end example

A expressão é tratada como se ela estivesse contida entre aspas duplas, 
porém uma aspa dupla dentro de parênteses não é tratada especialmente.
Todos os tokens na expressão estão sujeitos a expansão de parâmetro e 
variável, substituição de comando, e remoção de aspas.
O resultado é tratado como a expressão aritmética a ser calculada.
Expansões aritméticas podem ser aninhadas.

O cálculo é realizado de acordo com as regras listadas abaixo 
(veja-se @ref{Aritmética de Shell}).
Se a expressão for inválida, Bash imprime uma mensagem indicando a falha 
para o descritor de erro padrão e não ocorre substituição.

@node Substituição de Processo
@subsection Substituição de Processo
@cindex process substitution

A substituição de processo é suportada em sistemas que suportam tubos 
nomeados (@sc{fifo}s) ou o método @file{/dev/fd} de nomear arquivos 
abertos.
A substituição de processo assume a forma de
@example
<(@var{list})
@end example
@noindent
ou
@example
>(@var{list})
@end example
@noindent
A @var{list} de processo é executada com a entrada ou saída dela 
conectada ao @sc{fifo} ou algum arquivo em @file{/dev/fd}.   O nome 
desse arquivo é passado como um argumento para o comando atual como 
resultado da expansão.   Se a forma @code{>(@var{list})} for utilizada, 
então a escrita para o arquivo fornecerá entrada para @var{list}.   Se a 
forma @code{<(@var{list})} for utilizada, o arquivo passado como um 
argumento deveria ser lido para obter a saída de @var{list}.
Perceba-se que nenhum espaço pode aparecer entre o @code{<} ou @code{>} 
e o abre parênteses, do contrário a construção seria interpretada como 
sendo uma redireção.

Quando disponível, a substituição de processo é realizada 
simultaneamente com a expansão de parâmetro e variável, substituição de 
comando, e expansão aritmética.

@node Divisão de Palavra
@subsection Divisão de Palavra
@cindex word splitting

O shell escaneia os resultados da expansão de parâmetro, substituição de 
comando, e expansão aritmética que não ocorreu dentro de aspas duplas 
para divisão de palavra.

O shell trata cada carácter de @env{$IFS} como sendo um delimitador, e 
reparte os resultado das outras expansões em palavras utilizando esses 
caracteres como terminadores de campo.
Se @env{IFS} estiver desconfigurada, ou o valor dela for exatamente 
@code{<space><tab><newline>}, o padrão, então as sequências de @code{ 
<space>}, @code{<tab>}, e @code{<newline>} no início e final dos 
resultados das expansões prévias são ignoradas, e quaisquer sequências 
de @env{IFS} caracteres que não estejam no início ou no final servem 
para delimitar palavras.
Se @env{IFS} tiver um outro valor qualquer diferente do padrão, então 
as sequências de caracteres de espaço em branco @code{space} e 
@code{tab} são ignoradas no início e no final da palavra, até onde o 
carácter espaço em branco esteja no valor de @env{IFS} (um carácter de 
espaço em branco @env{IFS}).
Qualquer carácter em @env{IFS} que não um espaço em branco @env{IFS}, 
junto com quaisquer caracteres espaço em branco @env{IFS} adjacentes, 
delimitam o campo.   Uma sequência de caracteres espaço em 
branco @env{IFS} também é tratada como um delimitador.
Se o valor de @env{IFS} for nulo, não ocorre a divisão de palavra.

Os argumentos "null" explícitos (@code{""} or @code{''}) são mantidos.
Os argumentos "null" implícitos fora de aspas, resultantes da expansão 
de parâmetros que não tem valores, são removidos.
Se um parâmetro sem um valor for expandido dentro de aspas duplas, um 
argumento "null" resulta e é mantido.

Note-se que se não ocorrer expansão, divisão não é realizada.

@node Expansão de Nome de Arquivo
@subsection Expansão de Nome de Arquivo
@menu
* Coincidência de Modelo::	Como o shell combina padrões.
@end menu
@cindex expansion, filename
@cindex expansion, pathname
@cindex filename expansion
@cindex pathname expansion

Após a divisão de palavra, a menos que a opção @option{-f} tenha sido 
configurada (veja-se @ref{O Comando Interno Set}), Bash escaneia cada palavra 
a procura dos caracteres @samp{*}, @samp{?}, e @samp{[}.
Se um desses caracteres aparece, então a palavra é considerada como 
sendo um @var{pattern}, e substituída com uma lista de nomes de arquivos 
ordenada alfabeticamente coincidindo com o padrão 
(veja-se @ref{Coincidência de Modelo}).
Se nomes de arquivo que coincidam não forem encontrados, e a opção de 
shell @code{nullglob} estiver desabilitada, então a palavra é deixada 
imodificada.
Se a opção @code{nullglob} estiver configurada, e nenhuma coincidência 
for encontrada, então a palavra é removida.
Se a opção de shell @code{failglob} estiver configurada, e nenhuma 
coincidência for encontrada, uma mensagem de erro é impressa e o comando 
não é executado.
Se a opção de shell @code{nocaseglob} estiver habilitada, o teste de 
coincidência é tentado sem considerar maiúsculas e minúsculas.

Quando um padrão é utilizado para expansão de nome de arquivo, o 
carácter @samp{.} no início de um nome de arquivo ou imediatamente 
seguinte a uma barra deve necessariamente ser coincidido explicitamente, 
a menos que a opção de shell @code{dotglob} esteja configurada.
Quando da coincidência de um nome de arquivo, o carácter barra deve 
necessariamente sempre ser coincidido explicitamente.
Em outros casos, o carácter @samp{.} não é tratado especialmente.

Veja-se a descrição de @code{shopt} na @ref{O Comando Interno Shopt}, para uma 
descrição das opções @code{nocaseglob}, @code{nullglob}, 
@code{failglob}, e @code{dotglob}.

A variável de shell @env{GLOBIGNORE} pode ser utilizada para restringir 
o conjunto de nomes de arquivo coincidentes com um padrão.   Se 
@env{GLOBIGNORE} estiver configurada, cada nome de arquivo coincidente 
que também coincidir com um dos padrões em @env{GLOBIGNORE} é removido 
da lista de coincidências.   Os nomes de arquivos @file{.} e @file{..} 
sempre são ignorados quando @env{GLOBIGNORE} estiver configurada e não 
for nula.
Entretanto, a configuração de @env{GLOBIGNORE} para um valor não nulo 
tem o efeito de habilitar a opção de shell @code{dotglob}, de maneira 
que todos os outros nomes de arquivos iniciando com um @samp{.} 
coincidirão.
Para se ter o comportamento antigo de ignorar nomes de arquivos 
iniciando com um @samp{.}, torne-se @samp{.*} um dos padrões em 
@env{GLOBIGNORE}.
A opção @code{dotglob} é desabilitada quando @env{GLOBIGNORE} estiver 
desconfigurada.

@node Coincidência de Modelo
@subsubsection Coincidência de Modelo
@cindex pattern matching
@cindex matching, pattern

Qualquer carácter que apareça em um padrão, que não os caracteres 
especiais de padrão descritos abaixo, coincidem com eles próprios.
O carácter @sc{null} pode não ocorrer em um padrão.
Uma barra invertida encapsula o carácter seguinte a ela; a barra 
invertida de encapsulamento é descartada quando da coincidência.
Os caracteres especiais de padrão devem necessariamente serem 
encapsulados em aspas se eles são para serem coincididos literalmente.

Os caracteres especiais de padrão tem os significados seguintes:
@table @code
@item *
Coincide com qualquer sequência de caracteres, incluindo a sequência de 
caracteres "null".
Quando a opção de shell @code{globstar} está habilitada, e @samp{*} for 
utilizado em um contexto de expansão de nome de arquivo, dois @samp{*}s 
adjacentes utilizados como um padrão único coincidirá com todos os 
arquivos e zero ou mais diretórios e subdiretórios.
Se seguido por uma @samp{/}, dois @samp{*}s adjacentes coincidirão 
apenas com diretórios e subdiretórios.
@item ?
Coincide com qualquer carácter singular.
@item [@dots{}]
Coincide com qualquer um dos caracteres encapsulados.   Um par de 
caracteres separados por um hífen denota uma @var{range expression}; 
qualquer carácter que cair entre esses dois caracteres, inclusive, 
utilizando o conjunto de caracteres e sequência de recolha do locale 
atual, é coincidida.   Se o primeiro carácter seguinte a @samp{[} for 
um @samp{!} ou um @samp{^}, então qualquer carácter não encapsulado é 
coincidido.   Um @samp{@minus{}} pode ser coincidido incluindo-se ele 
como o primeiro ou último carácter no conjunto.   Um @samp{]} pode ser 
coincidido incluindo-se ele como o primeiro carácter no conjunto.
A ordem de arranjo dos caracteres em expressões de intervalo é 
determinada pelo locale atual e os valores das variáveis de shell 
@env{LC_COLLATE} e @env{LC_ALL}, se configuradas.

Por exemplo, no locale C padrão, @samp{[a-dx-z]} é equivalente a 
@samp{[abcdxyz]}.   Muitos locales ordenam caracteres na ordem do 
dicionário, e em tais locales @samp{[a-dx-z]} é tipicamente não 
equivalente a @samp{[abcdxyz]};
poderia ser equivalente a @samp{[aBbCcDdxXyYz]}, por exemplo.   Para se 
obter a interpretação de intervalos tradicional em expressões de 
parêntese, pode-se forçar o uso do locale C configurando-se 
a variável de ambiente @env{LC_COLLATE} ou @env{LC_ALL} para o valor 
@samp{C}, ou habilitar a opção de shell @code{globasciiranges}.
Dentro de @samp{[} e @samp{]}, @var{character classes} podem ser 
especificadas utilizando-se a sintaxe @code{[:}@var{class}@code{:]}, 
onde @var{class} é uma das classes seguintes definidas no padrão 
@sc{posix}:
@example
alnum   alpha   ascii   blank   cntrl   digit   graph   lower
print   punct   space   upper   word    xdigit
@end example
@noindent
Uma classe de caracteres coincide com qualquer carácter pertencente 
àquela classe.
A classe de carácter @code{word} coincide com letras, dígitos, e com o 
carácter @samp{_}.

Dentro de @samp{[} e @samp{]}, uma @var{equivalence class} pode ser 
especificada utilizando-se a sintaxe @code{[=}@var{c}@code{=]}, a qual 
coincide com todos os caracteres com o mesmo peso de recolha (conforme 
definido pelo locale atual) como o carácter @var{c}.

Dentro de @samp{[} e @samp{]}, a sintaxe @code{[.}@var{symbol}@code{.]} 
coincide com o símbolo de recolha @var{symbol}.
@end table

Se a opção de shell @code{extglob} for habilitada utilizando o comando 
interno @code{shopt}, então vários operadores estendidos de padrões de 
coincidência são reconhecidos.
Na descrição seguinte, uma @var{pattern-list} é uma lista de um ou mais 
padrões separados por um @samp{|}.
Padrões de composição podem serem formados utilizando-se um ou mais dos 
sub-padrões seguintes:

@table @code
@item ?(@var{pattern-list})
Coincide com zero ou uma ocorrência dos padrões dados.

@item *(@var{pattern-list})
Coincide com zero ou mais ocorrências dos padrões dados.

@item +(@var{pattern-list})
Coincide com uma ou mais ocorrências dos padrões dados.

@item @@(@var{pattern-list})
Coincide com um dos padrões dados.

@item !(@var{pattern-list})
Coincide com qualquer coisa, exceto um dos padrões dados.
@end table

@node Remoção de Aspas
@subsection Remoção de Aspas

Após as expansões precedentes, todas as ocorrências não aspeadas dos 
caracteres @samp{\}, @samp{'}, e @samp{"} que não resultaram de uma das 
expansões acima são removidos.

@node Redireções
@section Redireções
@cindex redirection

Antes que um comando seja executado, a entrada e a saída dele podem ser 
@var{redirected} utilizando-se uma notação especial interpretada pelo 
shell.   A redireção permite que manipuladores de arquivo de comandos 
sejam duplicados, abertos, fechados, construídos para referenciar 
arquivos diferentes, e podem modificar os arquivos a partir dos quais o 
comando lê ou para os quais escreve.
A redireção também pode ser utilizada para modificar manipuladores de 
arquivos no ambiente de execução do shell atual.   Os seguintes 
operadores de redireção podem preceder ou aparecer em qualquer lugar 
dentro de um comando simples ou podem se seguir a um comando.
As redireções são processadas na ordem em que elas aparecem, desde a 
esquerda até a direita.

Cada redireção que pode ser precedida por um número de descritor de 
arquivo pode ao invés ser precedida por uma palavra da forma 
@{@var{varname}@}.   Nesse caso, para cada operador de redireção, exceto 
>&- e <&-, o shell alocará um descritor de arquivo maior que dez (10) e 
o atribuirá a @{@var{varname}@}.   Se >&- ou <&- forem precedidos por 
@{@var{varname}@}, então o valor de @var{varname} define o descritor de 
arquivo a fechar.

Nas descrições seguintes, se o número do descritor de arquivo for 
omitido, e o primeiro carácter do operador de redireção for @samp{<}, 
então a redireção se refere à entrada padrão (descritor de arquivo 0).   
Se o primeiro carácter do operador de redireção for @samp{>}, então a 
redireção se refere à saída padrão (descritor de arquivo 1).

A palavra que se segue ao operador de redireção nas descrições 
seguintes, a menos que apontado de outra maneira, está sujeita à 
expansão de chave, expansão de til, expansão de parâmetro, substituição 
de comando, expansão aritmética, remoção de aspas, expansão de nome de 
arquivo e divisão de palavra.
Se ela expandir para mais que uma palavra, então Bash reportará um erro.

Perceba que a ordem das redireções é importante.   Por exemplo, o 
comando
@example
ls > @var{dirlist} 2>&1
@end example
@noindent
direciona ambos saída padrão (descritor de arquivo 1) e erro padrão 
(descritor de arquivo 2) para o arquivo @var{dirlist}, ao passo que o 
comando
@example
ls 2>&1 > @var{dirlist}
@end example
@noindent
direciona apenas a saída padrão para o arquivo @var{dirlist}, pois o 
erro padrão foi feito como que uma cópia da saída padrão antes que a 
saída padrão fosse redirecionada para @var{dirlist}.

Bash manipula diversos nomes de arquivos de forma especial quando tais 
arquivos são utilizados em redireções, conforme descrito na tabela 
seguinte:

@table @code
@item /dev/fd/@var{fd}
Se @var{fd} for um número inteiro válido, o descritor de arquivo 
@var{fd} é duplicado.

@item /dev/stdin
O descritor de arquivo zero (0) é duplicado.

@item /dev/stdout
O descritor de arquivo um (1) é duplicado.

@item /dev/stderr
O descritor de arquivo dois (2) é duplicado.

@item /dev/tcp/@var{host}/@var{port}
Se @var{host} for um nome de máquina válido ou um endereço de Internet, 
e @var{port} for um número inteiro de porta ou um nome de serviço, então 
Bash tenta abrir o soquete TCP correspondente.

@item /dev/udp/@var{host}/@var{port}
Se @var{host} for um nome de máquina válido ou um endereço Internet, e 
@var{port} for um número inteiro de porta ou um nome de serviço, então 
Bash tenta abrir o soquete UDP correspondente.
@end table

Uma falha em abrir ou em criar um arquivo faz com que a redireção falhe.

Redireções que utilizem descritores de arquivos maiores que nove (9) 
deveriam ser utilizados com cuidado, uma vez que eles podem conflitar 
com descritores de arquivo que o shell utiliza internamente.

@subsection Redirecting Input
A redireção de entrada faz com que o arquivo cujo nome resulte da 
expansão de @var{word} seja aberto para leitura no descritor de arquivo 
@code{n}, ou na entrada padrão (descritor de arquivo zero (0)) se 
@code{n} não for especificado.

O formato geral para redirecionar entrada é:
@example
[@var{n}]<@var{word}
@end example

@subsection Redirecting Output
A redireção de saída faz com que o arquivo cujo nome resulte da expansão 
de @var{word} seja aberto para escrita no descritor de arquivo @var{n}, 
ou na saída padrão (descritor de arquivo um (1)) se @var{n} não for 
especificado.   Se o arquivo não existir, ele é criado; se ele já 
existir, ele é truncado para tamanho zero.

O formato geral para redirecionar saída é:
@example
[@var{n}]>[|]@var{word}
@end example

Se o operadores de redirecionamento for @samp{>}, e a opção 
@code{noclobber} para o comando interno @code{set} tiver sido 
habilitada, então a redireção falhará se o arquivo cujo nome resulte da 
expansão de @var{word} existir e for um arquivo regular.
Se o operador de redireção for @samp{>|}, ou o operador de redireção for 
@samp{>} e a opção @code{noclobber} não estiver habilitada, então a 
redireção é tentada, mesmo se o arquivo nomeado por @var{word} existir.


@subsection Appending Redirected Output
A redireção da saída nesta maneira faz com que o arquivo cujo nome 
resulte da expansão de @var{word} seja aberto, para acrescentar 
conteúdo, no descritor de arquivo @var{n}, ou na saída padrão (descritor 
de arquivo um (1)) caso @var{n} não seja especificado.   Se o arquivo 
não existir, então ele é criado.

O formato geral para acrescentar conteúdo de saída é:
@example
[@var{n}]>>@var{word}
@end example

@subsection Redirecting Standard Output and Standard Error
Este construtor permite que ambas, a saída padrão (descritor de arquivo 
um (1)) e a saída de erro padrão (descritor de arquivo dois (2)), sejam 
redirecionadas para o arquivo cujo nome é a expansão de @var{word}.

Existem dois formatos para o redirecionamento da saída padrão e do erro 
padrão:
@example
&>@var{word}
@end example
@noindent
e
@example
>&@var{word}
@end example
@noindent
Das duas formas, a primeira é a preferida.
Isso é semanticamente equivalente a:
@example
>@var{word} 2>&1
@end example
Quando se utilizar a segunda forma, @var{word} pode não expandir para um 
número ou @samp{-}.   Se expandir, outros operadores de redireção se 
aplicam (veja-se Duplicando Descritores de Arquivo abaixo) por razões de 
compatibilidade.

@subsection Appending Standard Output and Standard Error
Este construtor permite que ambas, a saída padrão (descritor de arquivo 
um (1)) e a saída de erro padrão (descritor de arquivo dois (2)), sejam 
acrescentadas ao arquivo cujo nome é a expansão de @var{word}.

O formato para acrescentar a saída padrão e o erro padrão é:
@example
&>>@var{word}
@end example
@noindent
Isso é semanticamente equivalente a:
@example
>>@var{word} 2>&1
@end example
(veja-se Duplicando Descritores de Arquivo abaixo).

@subsection Here Documents
Este tipo de redireção instrui o shell a ler entrada vinda da fonte 
atual até que uma linha contendo apenas @var{word} (sem espaços em 
branco seguintes) seja vista.   Todas as linhas lidas até tal ponto são 
então utilizadas como entrada padrão para um comando.

O formato de here-documents é:
@example
<<[@minus{}]@var{word}
        @var{here-document}
@var{delimiter}
@end example

Nenhuma expansão de variável e de parâmetro, substituição de comando, 
expansão aritmética ou expansão de nome de arquivo é efetuada sobre 
@var{word}.   Se quaisquer caracteres em @var{word} estiverem entre 
aspas, o @var{delimiter} é o resultado da remoção das aspas sobre 
@var{word}, e as linhas no documento-aqui não são expandidas.
Se @var{word} estiver fora de aspas, todas as linhas do documento-aqui 
ficam sujeitas a expansão de parâmetro, substituição de comando, e 
expansão aritmética, a sequência de carácter @code{\newline} é ignorada, 
e @samp{\} deve necessariamente ser utilizado para encapsular os 
caracteres @samp{\}, @samp{$}, e @samp{`}.

Se o operador de redireção for @samp{<<-}, então todos os caracteres tab 
iniciais são retirados das linhas de entrada e da linha que contém o 
@var{delimiter}.
Isso permite que documentos-aqui dentro de shell scripts sejam 
indentados em uma forma natural.

@subsection Here Strings
Uma variante dos documentos aqui, o formato é:
@example
<<< @var{word}
@end example

A @var{word} está sujeita a expansão de chave, expansão de til, expansão 
de variável e de parâmetro, substituição de comando, expansão 
aritmética, e remoção de aspas.
A expansão de nome de caminho e a divisão de palavra não são efetuadas.
O resultado é fornecido como uma sequência de caracteres única para o 
comando na entrada padrão dele.

@subsection Duplicating File Descriptors
O operador de redireção
@example
[@var{n}]<&@var{word}
@end example
@noindent
é utilizado para duplicar descritores de arquivo de entrada.
Se @var{word} expandir para um ou mais dígitos, o descritor de arquivo 
denotado por @var{n} é feito como que uma cópia desse descritor de 
arquivo.
Se os dígitos em @var{word} não especificarem um descritor de arquivo 
aberto para entrada, um erro de redireção ocorre.
Se @var{word} resultar em @samp{-}, então o descritor de arquivo @var{n} 
é fechado.
Se @var{n} não for especificado, então a entrada padrão (descritor de 
arquivo zero (0)) é utilizado.

O operador
@example
[@var{n}]>&@var{word}
@end example
@noindent
é utilizado similarmente para duplicar descritores de arquivo de saída.   
Se @var{n} não for especificado, então a saída padrão (descritor de 
arquivo um (1)) é utilizado.
Se os dígitos em @var{word} não especificarem um descritor de arquivo 
aberto para saída, então um erro de redireção ocorre.
Se @var{word} resultar em @samp{-}, então o descritor de arquivo @var{n} 
é fechado.
Como um caso especial, se @var{n} for omitido, e @var{word} não expandir 
para um ou mais dígitos ou @samp{-}, então a saída padrão e o erro 
padrão são redirecionados conforme descrito previamente.

@subsection Moving File Descriptors
O operador de redireção
@example
[@var{n}]<&@var{digit}-
@end example
@noindent
move o descritor de arquivo @var{digit} para o descritor de arquivo 
@var{n}, ou a entrada padrão (descritor de arquivo zero (0)), se @var{n} 
não for especificado.   @var{digit} é fechado após ser duplicado em 
@var{n}.

Similarmente, o operador de redireção
@example
[@var{n}]>&@var{digit}-
@end example
@noindent
move o descritor de arquivo @var{digit} para descritor de arquivo 
@var{n}, ou a saída padrão (descritor de arquivo um (1)) se @var{n} não 
for especificado.

@subsection Opening File Descriptors for Reading and Writing
O operador de redireção
@example
[@var{n}]<>@var{word}
@end example
@noindent
faz com que o arquivo cujo nome é a expansão de @var{word} seja aberto 
tanto para leitura quanto para escrita no descritor de arquivo @var{n}, 
ou no descritor de arquivo zero (0) se @var{n} não for especificado.   
Se o arquivo não existir, ele é criado.

@node Execução de Comandos
@section Execução de Comandos

@menu
* Expansão de Comando Simples::	Como Bash expande comandos simples antes 
				de executá-los.
* Busca de Comando e Execução::	Como Bash encontra comandos e os 
					executa.
* Ambiente de Execução de Comando::	O ambiente no qual Bash executa 
					comandos que não são comandos 
					internos ao shell.
* Ambiente::		O ambiente dado a um comando.
* Situação de Saída::		O status retornado por comandos e como Bash os 
			interpreta.
* Sinais::		O que acontece quando Bash ou um comando que ele 
			executa recebe um sinal.
@end menu

@node Expansão de Comando Simples
@subsection Expansão de Comando Simples
@cindex command expansion

Quando um comando simples é executado, o shell executa as seguintes 
expansões, atribuições, e redireções, da esquerda para a direita.

@enumerate
@item
As palavras que o interpretador já marcou como atribuições de variáveis 
(aquelas precedendo o nome do comando) e redireções são salvas para 
processamento posterior.

@item
As palavras que não são atribuições de variável ou redireções são 
expandidas (@ref{Expansões de Shell}).
Se quaisquer palavras permanecerem após a expansão, a primeira palavra é 
considerada como sendo o nome do comando e as palavras restantes são os 
argumentos.

@item
As redireções são implementadas conforme descrito acima 
(@ref{Redireções}).

@item
O texto após o sinal @samp{=} em cada atribuição de variável está 
submetido a expansão de til, expansão de parâmetro, substituição de 
comando, expansão aritmética e remoção de aspas antes de ser atribuída 
para a variável.
@end enumerate

Se não houver um nome de comando como resultado, as atribuições de 
variável afetam o ambiente de shell atual.   Do contrário, as variáveis 
são adicionadas ao ambiente do comando executado e não afetam o ambiente 
de shell atual.   Se quaisquer das atribuições tenta atribuir um valor 
para uma variável configurada como apenas leitura, um erro ocorre e o 
comando sai com um código de saída diferente de zero.

Se não houver um nome de comando como resultado, as redireções são 
implementadas, porém não afetam o ambiente shell atual.   Um erro de 
redireção faz com que o comando saia com um código de saída diferente de 
zero.

Se existir um nome de comando deixado após a expansão, a execução 
procede conforme descrito abaixo.   Do contrário, o comando sai.   Se 
uma das expansões continha uma substituição de comando, o código de 
saída do comando é o código de saída da última substituição 
implementada.   Se não houve substituições de comandos, o comando sai 
com um código de saída igual a zero.

@node Busca de Comando e Execução
@subsection Busca de Comando e Execução
@cindex command execution
@cindex command search

Após um comando ter sido dividido em palavras, se ele resultar em um 
comando simples e uma lista opcional de argumentos, as seguintes ações 
são tomadas.

@enumerate
@item
Se o nome do comando não contiver barras, então o shell tenta 
localizá-lo.   Se existir uma função de shell para aquele nome, então 
aquela função é invocada conforme descrito em @ref{Funções de Shell}.

@item
Se o nome não coincidir com o de uma função, então o shell busca por ele 
na lista de comando internos ao shell.   Se uma coincidência for 
encontrada, então aquele comando interno é invocado.

@item
Se o nome não for nem uma função de shell, nem um comando interno, e nem 
contiver barras, então Bash pesquisa em cada elemento de @env{$PATH} 
procurando por um diretório que contenha um arquivo executável para 
aquele nome.   O Bash utiliza uma tabela de hash para lembrar os nomes 
completos de caminhos dos arquivos executáveis para evitar múltiplas 
buscas no @env{$PATH} (veja-se a descrição de @code{hash} em 
@ref{Comandos Internos do Shell Bourne}).   Uma pesquisa completa dos diretórios em @env{$PATH} 
é implementada apenas se o comando não for encontrado na tabela hash.   
Se a busca não tiver sucesso, então o shell busca uma função de shell 
definida chamada @code{command_not_found_handle}.   Se tal função 
existir, ela é invocada com o comando original e os argumentos do 
comando original como os argumentos dela própria, e o código de saída da 
função se torna o código de saída do shell.   Se tal função não estiver 
definida, então o shell imprime uma mensagem de erro e retorna um código 
de saída igual a 127.

@item
Se a busca tiver sucesso, ou se o nome do comando contém uma ou mais 
barras, então o shell executa o aplicativo nomeado em um ambiente de 
execução separado.   O argumento 0 é configurado para o nome dado, e os 
argumentos restantes para o comando são configurados para os argumentos 
fornecidos, se existir algum.

@item
Se tal execução falhar pelo fato de o arquivo não estar em formato 
executável, e o arquivo não for um diretório, então é presumido ser um 
@var{shell script} e o shell o executa conforme descrito em 
@ref{Scripts de Shell}.

@item
Se o comando não foi iniciado assincronamente, então o shell aguarda que 
o comando termine sua execução e coleta o código de saída dele.

@end enumerate

@node Ambiente de Execução de Comando
@subsection Ambiente de Execução de Comando
@cindex execution environment

O shell tem um @var{execution environment}, o qual consiste do seguinte:

@itemize @bullet
@item
arquivos abertos herdados pelo shell quando da invocação, conforme 
modificado pelas redireções fornecidas ao comando interno @code{exec}

@item
o diretório atual de trabalho conforme configurado por @code{cd}, 
@code{pushd}, ou @code{popd}, ou herdado pelo shell quando da invocação

@item
a máscara de modo de criação de arquivo conforme configurado por 
@code{umask} ou herdado do pai do shell

@item
coletores atuais configurados por @code{trap}

@item
parâmetros de shell que são configurados por atribuição de variáveis 
ou com @code{set} ou herdados do pai do shell no ambiente

@item
funções de shell definidas durante a execução ou herdadas do pai do 
shell no ambiente

@item
opções habilitadas quando da invocação (ou por padrão ou com argumentos 
de linha de comando) ou por @code{set}

@item
opções habilitadas por @code{shopt} (veja-se @ref{O Comando Interno Shopt})

@item
apelidos (aliases) de shell definidos com @code{alias} (veja-se 
@ref{Apelidos})

@item
vários @sc{id}s de processos, incluindo aqueles das tarefas de segundo 
plano (veja-se @ref{Listas}), o valor de @code{$$}, e o valor de 
@env{$PPID}

@end itemize

Quando outro comando simples que não um comando interno ao shell ou uma 
função de shell está para ser executada, ele (o comando simples) é 
invocado em um ambiente de execução separado que consiste do seguinte.   
A menos que anotado de outra forma, os valores são herdados do shell.

@itemize @bullet
@item
os arquivos abertos do shell, mais quaisquer modificações e adições 
especificadas por redireções ao comando

@item
o diretório de trabalho atual

@item
a máscara de modo de criação de arquivo

@item
funções e variáveis de shell marcadas para exportar, juntamente com 
variáveis exportadas pelo comando, passadas no ambiente 
(veja-se @ref{Ambiente})

@item
coletores capturados pelo shell são reconfigurados para os valores 
herdados do pai do shell, e coletores ignorados pelo shell são ignorados

@end itemize

Um comando invocado nesse ambiente separado não pode afetar o ambiente 
de execução do shell.

Substituição de comando, comandos agrupados entre parênteses, e comandos 
assíncronos são invocados em um ambiente de sub-shell que é uma cópia do 
ambiente de shell, exceto que os coletores capturados pelo shell são 
reconfigurados para os valores que o shell herdou do pai dele quando da 
invocação.   Comandos internos que são invocados como parte de um canal 
de comunicação (pipeline) são executados também em um ambiente de 
sub-shell.   Mudanças feitas no ambiente de sub-shell não podem afetar o 
ambiente de execução do shell.

Sub-shell gerados para executar substituições de comandos herdam o valor 
da opção @option{-e} do shell pai.   Quando não em modo @sc{posix}, Bash 
limpa a opção @option{-e} em tais sub-shells.

Se um comando for seguido por um sinal @samp{&} e o controle de tarefa 
não estiver ativo, o arquivo descritor de entrada padronizada padrão 
para o comando é o arquivo vazio @file{/dev/null}.   Do contrário, o 
comando invocado herda os descritores de arquivo do shell invocante 
conforme modificado pelas redireções.

@node Ambiente
@subsection Ambiente
@cindex environment

Quando um aplicativo é invocado, um vetor de sequência de caracteres é 
dado a tal aplicativo, vetor esse chamado de @var{environment}.
Esse vetor é uma lista de pares nome-valor, no formato 
@code{name=value}.

O Bash provê várias maneiras de manipular o ambiente.   Quando da 
invocação, o shell escaneia o próprio ambiente dele e cria um parâmetro 
para cada nome encontrado, automaticamente marcando tais parâmetros para 
@var{export} para processos filhos.   Os comandos executados herdam o 
ambiente.   Os comandos @code{export} e @samp{declare -x} permitem que 
parâmetros e funções sejam adicionados a e deletados do ambiente.   Se o 
valor de um parâmetro no ambiente for modificado, o valor novo se torna 
parte do ambiente, substituindo o antigo.   O ambiente herdado por 
qualquer comando executado consiste do ambiente inicial do shell, cujos 
valores podem ser modificados dentro do shell, exceto quaisquer pares 
removidos pelos comandos @code{unset} e @samp{export -n}, mais quaisquer 
adições via comandos @code{export} e @samp{declare -x}.

O ambiente para qualquer comando simples ou função pode ser aumentado 
temporariamente prefixando tal ambiente com atribuições de parâmetros, 
conforme descrito em @ref{Parâmetros de Shell}.   Tais declarações de 
atribuição afetam apenas o ambiente visto pelo comando.

Se a opção @option{-k} for configurada (veja-se @ref{O Comando Interno Set}), 
então todas as atribuições de parâmetro são colocadas no ambiente para 
um comando, não apenas aquelas que precedem o nome do comando.

Quando Bash invoca um comando externo, a variável @samp{$_} é 
configurada para o nome de caminho completo do comando e passada para 
aquele comando dentro do ambiente dele.

@node Situação de Saída
@subsection Situação de Saída
@cindex exit status

O código de saída de um comando executado é o valor retornado pela 
chamada de sistema @var{waitpid} ou função equivalente.   Os códigos de 
saída estão entre o e 255, embora, conforme explanado abaixo, o shell 
pode utilizar especialmente valores acima de 125.   Os códigos de saída 
originados de comandos internos ao shell e de comandos compostos também 
são limitados ao intervalo mencionado.   Sob certas circunstâncias, o 
shell utilizará valores especiais para indicar modos de falha 
específicos.

Para os propósitos do shell, um comando o qual sai com um código de 
saída igual a zero teve sucesso.   Um código de saída diferente de zero 
indica uma falha.   Esse aparentemente esquema de intuitivo de contagem 
é utilizado de forma que existe uma maneira bem definida para indicar 
sucesso e uma variedade de maneiras de se indicar vários modos de falha.
Quando um comando termina em um sinal fatal cujo número é @var{N}, Bash 
utiliza o valor 128+@var{N} como o código de saída.

Se um comando não for encontrado, então o processo filho criado para 
executá-lo retorna o código de saída 127.   Se um comando é encontrado, 
porém não é um executável, então 'código de saída é o 126.

Se um comando falha por causa de um erro durante a operação de expansão 
ou a de redireção, então e código de saída é um maior que zero.

O código de saída é utilizado pelos comandos condicionais de Bash 
(veja-se @ref{Construtores Condicionais}) e por alguns dos construtores de 
lista (veja-se @ref{Listas}).

Todos os comandos internos ao Bash retornam um código de saída de zero 
se forem bem sucedidos e um código de saída diferente de zero na falha, 
de forma que tais códigos de saída podem ser utilizados pelos 
construtores de lista e condicional.   Todos os comandos internos 
retornam um código de saída de 2 para indicar utilização incorreta.

@node Sinais
@subsection Sinais
@cindex signal handling

Quando Bash está em modo interativo, na ausência de qualquer coletor, 
ele ignora @code{SIGTERM} (de forma que @samp{kill 0} não mata um shell 
interativo), e @code{SIGINT} é capturado e manipulado (de forma que o 
comando interno @code{wait} pode ser interrompido).   Quando Bash recebe 
um @code{SIGINT}, ele se liberta de quaisquer loops em execução.   Em 
todos os casos, Bash ignora @code{SIGQUIT}.   Se o controle de tarefa 
estiver em efeito (veja-se @ref{Controle de Tarefa}), Bash ignora 
@code{SIGTTIN}, @code{SIGTTOU}, e @code{SIGTSTP}.

Os comandos não internos iniciados por Bash tem manipuladores de sinal 
configurados para os valores herdados pelo shell originados dos pais 
dele.   Quando o controle de tarefa não está em efeito, os comandos 
assíncronos ignoram @code{SIGINT} e @code{SIGQUIT} em adição àqueles 
manipuladores herdados.   Os comandos executados como um resultado da 
substituição de comando ignoram os sinais de controle de tarefa gerados 
pelo teclado: @code{SIGTTIN}, @code{SIGTTOU}, e @code{SIGTSTP}.

O shell sai por padrão assim que receber um @code{SIGHUP}.   Antes de 
sair, um shell interativo reenvia o @code{SIGHUP} para todas as tarefas, 
em execução ou paradas.   Para as tarefas paradas é enviado 
@code{SIGCONT} para se assegurar que elas receberam o @code{SIGHUP}.
Para prevenir que o shell envie o sinal @code{SIGHUP} para uma tarefa em 
particular, tal tarefa deveria ser removida da tabela com o comando 
interno @code{disown} (veja-se @ref{Comandos Internos do Controle de Tarefa}) ou 
assinaladas para não receber @code{SIGHUP} utilizando-se @code{disown 
-h}.

Se a opção de shell @code{huponexit} tiver sido configurada com 
@code{shopt} (veja-se @ref{O Comando Interno Shopt}), então Bash envia um 
@code{SIGHUP} a todas as tarefas quando um shell de login interativo 
sai.

Se Bash estiver aguardando que um comando complete sua execução e recebe 
um sinal para o qual um coletor tenha sido configurado, o coletor não 
será executado até que o comando complete sua execução.
Quando Bash está aguardando um comando assíncrono, via comando interno 
@code{wait}, a recepção de um sinal para o qual um coletor tenha sido 
configurado fará com que o comando interno @code{wait} retorne 
imediatamente com um código de saída maior que 128, imediatamente após o 
que o coletor é executado.

@node Scripts de Shell
@section Scripts de Shell
@cindex shell script

Um script de shell é um arquivo de texto contendo comandos de shell.   
Quando um tal arquivo é utilizado como o primeiro argumento não opção 
quando da invocação de Bash, e nem a opção @option{-c} nem a @option{-s} 
for fornecida (veja-se @ref{Invocando o Bash}), Bash lê e executa comandos 
a partir do arquivo, e sai.   Tal modo de operação cria um shell não 
interativo.   O shell primeiro procura pelo arquivo no diretório de 
trabalho atual, e olha nos diretórios em @env{$PATH} se não for 
encontrado lá.

Quando Bash executa um script de shell, ele configura o parâmetro 
especial @code{0} para o nome do arquivo, ao invés do nome do shell, e 
os parâmetros posicionais são configurados para o restante dos 
argumentos, se alguns são dados.   Se nenhum argumento adicional forem 
fornecidos, então os parâmetros posicionais são desconfigurados.

Um script de shell pode ser feito executável utilizando-se o comando 
@code{chmod} para se ligar o bit executável.   Quando Bash encontra um 
tal arquivo enquanto procura por um comando no @env{$PATH}, ele gera um 
sub-shell para executá-lo.   Em outras palavras, executar
@example
nome_arquivo @var{arguments}
@end example
@noindent
é equivalente a executar
@example
bash nome_arquivo @var{arguments}
@end example
@noindent
Se @code{nome_arquivo} for um script de shell executável.
Tal sub-shell reinicializa a si próprio, de maneira que o efeito é como 
se um shell novo tivesse sido invocado para interpretar o script, com a 
exceção de que as localizações dos comandos relembradas pelo pai 
(veja-se a descrição de @code{hash} em @ref{Comandos Internos do Shell Bourne}) são 
mantidas pelo filho.

A maioria das versões de Unix faz disso uma parte do mecanismo de 
execução de comando do sistema operacional.   Se a primeira linha de um 
script inicia com os dois caracteres @samp{#!}, o restante daquela linha 
especifica um interpretador para o aplicativo.
Assim, você pode especificar para o Bash, @code{awk}, Perl, ou algum 
outro interpretador e escrever o resto do arquivo de script naquela 
linguagem.

Os argumentos para o interpretador consistem de um argumento opcional 
único seguido do nome do interpretador na primeira linha do arquivo de 
script, seguido pelo nome do arquivo de script, seguido pelo resto dos 
argumentos.   Bash realizará tal ação em sistemas operacionais que não 
manipulam isso por eles próprios.   Perceba que algumas versões antigas 
de Unix limitam o nome do interpretador e argumento a um máximo de 32 
caracteres.

Os scripts de Bash frequentemente começam com @code{#! /bin/bash} 
(presumindo que Bash tenha sido instalado em @file{/bin}), dado que isso 
assegura que Bash será utilizado para interpretar o script, mesmo que o 
script seja executado sob um outro shell.

@node Comandos Internos ao Shell
@chapter Comandos Internos ao Shell

@menu
* Comandos Internos do Shell Bourne::	Comandos internos herdados do Shell 
				Bourne.
* Comandos Internos ao Bash::		Tabela de comandos internos específicos 
				ao Bash.
* Modificando o Comportamento do Shell::	Comandos internos para modificar 
				atributos do shell e comportamento 
				opcional.
* Comandos Internos Especiais::		Comandos internos classificados 
				especialmente por POSIX.
@end menu

Comandos internos são contidos no próprio shell.   Quando o nome de um 
comando interno é utilizado como a primeira palavra de um comando 
simples (veja-se @ref{Comandos Simples}), o shell executa o comando 
diretamente, sem invocar outro programa.   Comandos internos são 
necessários para implementar funcionalidade impossível ou inconveniente 
de se obter com utilitários separados.

Esta seção descreve brevemente os comandos internos os quais Bash herda 
do Shell Bourne, bem como comandos internos os quais são únicos ao ou 
foram estendidos no Bash.

Vários comandos internos são descritos em outros capítulos: comandos 
internos os quais proveem a interface do Bash para as facilidades de 
controle de tarefas (veja-se @ref{Comandos Internos do Controle de Tarefa}), a pilha de 
diretório (veja-se @ref{Comandos Internos da Pilha de Diretório}), o histórico de 
comando (veja-se @ref{Bash History Builtins}), e as facilidades de 
complementação programável (veja-se @ref{Programmable Completion 
Builtins}).

Muitos dos comandos internos foram estendidos por @sc{posix} ou Bash.

A menos que informado do contrário, cada comando interno documentado 
como que aceita opções precedidas por @samp{-} também aceita @samp{--} 
para significar o fim das opções.
Os comandos internos @code{:}, @code{true}, @code{false}, e @code{test} 
não aceitam opções e não tratam @samp{--} especialmente.
Os comandos internos @code{exit}, @code{logout}, @code{break}, 
@code{continue}, @code{let}, e @code{shift} aceitam e processam 
argumentos começando com @samp{-} sem exigir @samp{--}.
Outros comandos internos que aceitam argumentos, mas não são 
especificados como aceitantes de opções, interpretam argumentos 
começando com @samp{-} como opções inválidas e exigem @samp{--} para 
prevenir tal interpretação.

@node Comandos Internos do Shell Bourne
@section Comandos Internos do Shell Bourne

Os comandos internos de shell seguintes são herdados do Shell Bourne.
Estes comandos são implementados conforme especificado pelo padrão 
@sc{posix}.

@table @code
@item :    @r{(dois pontos)}
@btindex :
@example
: [@var{argumentos}]
@end example

Não faz nada além de expandir @var{argumentos} e implementar redireções.
O código de retorno é zero.

@item .    @r{(um ponto)}
@btindex .
@example
. @var{nome_arquivo} [@var{argumentos}]
@end example

Lê e executa comandos a partir do argumento @var{nome_arquivo} no 
contexto do shell atual.   Se @var{nome_arquivo} não contiver uma barra, 
então a variável @env{PATH} é utilizada para encontrar 
@var{nome_arquivo}.   Quando Bash não está em modo @sc{posix}, o 
diretório atual é pesquisado se @var{nome_arquivo} não for encontrado em 
@env{$PATH}.
Se quaisquer @var{argumentos} forem fornecidos, então eles se tornam os 
parâmetros posicionais quando @var{nome_arquivo} for executado.   Do 
contrário, os parâmetros posicionais não são modificados.
O código de retorno é o código de saída do último comando executado, ou 
zero se nenhum dos comandos for executado.   Se @var{nome_arquivo} não 
for encontrado, ou não puder ser lido, o código de retorno é diferente 
de zero.
Esse comando interno é equivalente a @code{source}.

@item break
@btindex break
@example
break [@var{n}]
@end example

Sai de um loop @code{for}, @code{while}, @code{until}, ou @code{select}.
Se @var{n} for fornecido, então o @var{n}ésimo loop envolvente é 
terminado.
@var{n} deve necessariamente ser maior que ou igual a 1.
O código de retorno é zero a menos que @var{n} não seja maior que ou 
igual a 1.

@item cd
@btindex cd
@example
cd [-L|[-P [-e]] [-@@] [@var{diretório}]
@end example

Muda o diretório de trabalho atual para @var{diretório}.
Se @var{diretório} não for fornecido, então o valor da variável de shell 
@env{HOME} é utilizado.   Quaisquer argumentos adicionais seguintes a 
@var{diretório} são ignorados.   Se a variável de shell @env{CDPATH} 
existir, ela é utilizada como um caminho de busca: cada nome de 
diretório em @env{CDPATH} é comparado com @var{diretório}, com nomes de 
diretório alternativos separados por um sinal de dois pontos (@samp{:}).
Se @var{diretório} começar com uma barra, então @env{CDPATH} não é 
utilizada.

A opção @option{-P} significa não seguir links simbólicos: links 
simbólicos são resolvidos enquanto @code{cd} está atravessando 
@var{diretório} e antes de processar uma instância de @samp{..} em 
@var{diretório}.

Por padrão, ou quando a opção @option{-L} for fornecida, links 
simbólicos em @var{diretório} são resolvidos após @code{cd} processar 
uma ocorrência de @samp{..} em @var{diretório}.

Se @samp{..} aparecer em @var{diretório}, então essa ocorrência é 
processada removendo-se o componente de nome de caminho imediatamente 
precedente, de volta até uma barra ou o início de @var{diretório}.

Se a opção @option{-e} for fornecida com @option{-P} e o diretório de 
trabalho atual não puder ser determinado com sucesso após uma mudança de 
diretório exitosa, então @code{cd} retornará um código de saída de 
insucesso.

Em sistemas que suportam isto, a opção @option{-@@} apresenta os 
atributos estendidos associados com um arquivo como um diretório.

Se @var{diretório} for @samp{-}, então ele é convertido para 
@env{$OLDPWD} antes que a mudança de diretório seja tentada.

Se um nome de diretório não vazio de @env{CDPATH} for utilizado, ou se 
@samp{-} for o primeiro argumento, e a mudança de diretório tiver 
sucesso, então e nome de caminho absoluto do novo diretório de trabalho 
é escrito na saída padrão.

O código de retorno é zero se o diretório for mudado com sucesso, e 
diferente de zero do contrário.

@item continue
@btindex continue
@example
continue [@var{n}]
@end example

Retoma a próxima interação de um loop envolvente @code{for}, @code{while},
@code{until}, ou @code{select}.
Se @var{n} for fornecido, então a execução do @var{n}ésimo loop 
envolvente é retomada.
@var{n} deve necessariamente ser maior que ou igual a 1.
O código de retorno é zero a menos que @var{n} não seja maior que ou 
igual a 1.

@item eval
@btindex eval
@example
eval [@var{argumentos}]
@end example

Os argumentos são concatenados juntos em um único comando, o qual é 
então lido e executado, e o código de saída dele é retornado como o 
código de saída de @code{eval}.
Se não existirem argumentos ou apenas argumentos vazios, o código de 
retorno é zero.

@item exec
@btindex exec
@example
exec [-cl] [-a @var{nome}] [@var{comando} [@var{argumentos}]]
@end example

If @var{comando} for fornecido, então ele substitui o shell sem criar um 
processo novo.
Se a opção @option{-l} for fornecida, então o shell coloca um traço no 
início do argumento zero passado para @var{comando}.
Isso é o que o aplicativo @code{login} faz.
A opção @option{-c} faz com que @var{comando} seja executado com um 
ambiente vazio.
Se a opção @option{-a} for fornecida, então o shell passa @var{nome} 
como o argumento zero para @var{comando}.
Se @var{comando} não puder ser executado por alguma razão, então um 
shell não-interativo sai, a menos que a opção de shell @code{execfail} 
esteja habilitada.   Nesse caso, é retornado uma falha.
Um shell interativo retorna falha se o arquivo não puder ser executado.
Se @var{comando} não for especificado, então as redireções podem ser 
utilizadas para afetar o ambiente de shell atual.   Se não existirem 
erros de redireção, então o código de retorno é zero; do contrário, o 
código de retorno é diferente de zero.

@item exit
@btindex exit
@example
exit [@var{n}]
@end example

Sai do shell, retornando um código de saída @var{n} para o pai do shell.
Se @var{n} for omitida, o código de saída é aquele do último comando 
executado.
Qualquer coletor em @code{EXIT} é executado antes que o shell termine.

@item export
@btindex export
@example
export [-fn] [-p] [@var{nome}[=@var{valor}]]
@end example

Marca cada @var{nome} a ser passado para processos filho no ambiente.   
Se a opção @option{-f} for fornecida, então os @var{nome}s se referem a 
funções de shell; do contrário, os nomes se referem a variáveis de 
shell.
A opção @option{-n} significa que não mais marcar cada @var{nome} para 
exportar.

Se nenhum @var{nome}s são fornecidos, ou se a opção @option{-p} é dada, 
então uma lista de nomes de todas as variáveis exportadas é mostrada.
A opção @option{-p} mostra saída em uma forma que pode ser reutilizada 
como entrada.
Se a variável nome for seguida por =@var{valor}, então o valor da 
variável é configurado para @var{valor}.

O código de retorno é zero a menos que uma opção inválida seja 
fornecida, um dos nomes não seja um nome de variável válido do shell, ou 
a opção @option{-f} seja fornecida com um nome que não seja uma função 
de shell.

@item getopts
@btindex getopts
@example
getopts @var{optstring} @var{nome} [@var{args}]
@end example

@code{getopts} é utilizado por scripts de shell para analisar parâmetros 
posicionais.   @var{optstring} contém os caracteres opcionais a serem 
reconhecidos; se um carácter for seguido por um sinal de dois pontos, 
então é esperado que a opção tenha um argumento, o qual deveria estar 
separado da opção por um espaço em branco.
O sinal de dois pontos (@samp{:}) e o de interrogação (@samp{?}) podem 
não serem utilizados como caracteres opcionais.
A cada vez que é invocado, @code{getopts} coloca a próxima opção na 
variável de shell @var{nome}, inicializando @var{nome} caso ela não 
exista, e o índice do próximo argumento a ser processado na variável 
@env{OPTIND}.
@env{OPTIND} é inicializada em 1 a cada vez que o shell ou um script de 
shell for invocado.
Quando uma opção exige um argumento, @code{getopts} coloca aquele 
argumento na variável @env{OPTARG}.
O shell não reconfigura @env{OPTIND} automaticamente; ela deve 
necessariamente ser reconfigurada manualmente entre múltiplas chamadas a 
@code{getopts} dentro da mesma invocação de shell se um conjunto novo de 
parâmetros está para ser utilizado.

Quando o final das opções é encontrado, @code{getopts} sai com um código 
de retorno maior que zero.
@env{OPTIND} é configurada para o índice do primeiro argumento 
não-opção, e @var{nome} é configurada para @samp{?}.

@code{getopts} normalmente analisa os parâmetros posicionais, porém se 
mais argumentos são dados em @var{args}, @code{getopts} analisa esses 
argumentos em vez disso.

@code{getopts} pode relatar erros de duas maneiras.   Se o primeiro 
carácter de @var{optstring} for um sinal de dois pontos, então 
o relatador de erro @var{silent} é utilizado.   Em operação normal, 
mensagens de diagnóstico são impressas quando opções inválidas ou a 
falta de argumentos de opção são encontrados.
Se a variável @env{OPTERR} for configurada para zero (0), então nenhuma 
mensagem de erro será mostrada, mesmo que o primeiro carácter de 
@code{optstring} não seja o sinal de dois pontos.

Se uma opção inválida é vista, @code{getopts} coloca @samp{?} dentro de 
@var{nome} e, se não silêncio, imprime uma mensagem de erro e 
desconfigura @env{OPTARG}.
Se @code{getopts} for silente, então o carácter de opção encontrado é 
colocado em @env{OPTARG} e nenhuma mensagem de diagnóstico é impressa.

Se um argumento exigido não for encontrado, e @code{getopts} não for 
silente, um ponto de interrogação (@samp{?}) é colocado em @var{nome}, 
@code{OPTARG} é desconfigurada, e uma mensagem de diagnóstico é 
impressa.
Se @code{getopts} for silente, então um sinal de dois pontos (@samp{:}) 
é colocado em @var{nome} e @env{OPTARG} é configurada para o caracteres 
de opção encontrado.

@item hash
@btindex hash
@example
hash [-r] [-p @var{nome_arquivo}] [-dt] [@var{nome}]
@end example

A cada vez que @code{hash} é invocado, ele se lembra dos nomes completos 
de caminhos dos comandos especificados como argumentos @var{nome}, de 
maneira que não se precisa procurar nos caminhos em subsequentes 
invocações.   Os comandos são encontrados pesquisando-se em todos os 
diretórios listados em @env{$PATH}.
Quaisquer nome de caminho previamente relembrados são descartados.
A opção @option{-p} inibe a procura de caminho, e @var{nome_arquivo} é 
utilizado como a localização de @var{nome}.
A opção @option{-r} faz com que o shell se esqueça de todas as 
localizações relembradas.
A opção @option{-d} faz com que o shell se esqueça da localização 
relembrada de cada @var{nome}.
Se a opção @option{-t} for fornecida, então o nome completo de caminho 
para o qual cada @var{nome} corresponda é impresso.   Se múltiplos 
argumentos @var{nome} forem fornecidos com @option{-t}, o @var{nome} é 
impresso antes do nome completo do caminho esmiuçado.
A opção @option{-l} faz com que a saída seja exibida em um formato que 
pode ser reutilizado como entrada.
Se nenhum argumento é dado, ou se apenas @option{-l} for fornecida, 
então informação sobre comandos relembrados é impressa.
O código de retorno é zero, a menos que um @var{nome} não seja 
encontrado ou uma opção inválida seja fornecida.

@item pwd
@btindex pwd
@example
pwd [-LP]
@end example

Imprime o nome de caminho absoluto do diretório de trabalho atual.
Se a opção @option{-P} for fornecida, então o nome de caminho impresso 
pode conter links simbólicos.
O código de retorno é zero, a menos que um erro seja encontrado quando 
da determinação do nome do diretório atual ou uma opção inválida seja 
fornecida.

@item readonly
@btindex readonly
@example
readonly [-aAf] [-p] [@var{nome}[=@var{valor}]] @dots{}
@end example

Marca cada @var{nome} como apenas leitura.
Os valores desses nomes não podem ser modificados por atribuição 
subsequente.
Se a opção @option{-f} for fornecida, então cada @var{nome} se refere a 
uma função de shell.
A opção @option{-a} significa que cada @var{nome} se refere a uma 
variável de vetor indexado; a opção @option{-A} significa que cada 
@var{nome} se refere a uma variável de vetor associativo.
Se ambas as opções são fornecidas, então @option{-A} tem precedência.
Se nenhum argumento @var{nome} for dado, ou se a opção @option{-p} for 
fornecida, então uma lista de todos os nomes apenas leitura é impressa.
As outras opções podem ser utilizadas para restringir a saída a um 
subconjunto do conjunto de nomes apenas leitura.
A opção @option{-p} faz com que a saída seja exibida em um formato que 
pode ser reutilizada como entrada.
Se um nome de variável for seguido por =@var{valor}, então o valor da 
variável é configurada para @var{valor}.
O código de retorno é zero, a menos que uma opção inválida seja 
fornecida, um dos argumentos @var{nome} não seja uma variável de shell 
válida ou um nome de função, ou a opção @option{-f} seja fornecida com 
um nome que não seja uma função de shell.

@item return
@btindex return
@example
return [@var{n}]
@end example

Faz com que uma função de shell pare a sua execução e retorne o valor 
@var{n} a quem a chamou.   Se @var{n} não for fornecida, o código de 
retorno é o código de saída do último comando executado na função.
@code{return} também pode ser utilizado para finalizar a execução de um 
script sendo executado com o comando interno @code{.} (@code{source}), 
retornando ou @var{n} ou o código de saída do último comando executado 
dentro do script como o código de saída do script.
Se @var{n} for fornecida, então o valor do código de retorno são os 
últimos 8 bits significantes da variável.
Qualquer comando associado com o coletor @code{RETURN} é executado antes 
da retomada da execução após a função ou script.
O código de retorno é diferente de zero se a @code{return} for fornecido 
um argumento não numérico ou for utilizado do lado de fora da função e 
não durante a execução do script por @code{.} ou @code{source}.

@item shift
@btindex shift
@example
shift [@var{n}]
@end example

Desloca os parâmetros posicionais @var{n} para a esquerda.
Os parâmetros posicionais a partir de @var{n}+1 @dots{} @code{$#} são 
renomeados para @code{$1} @dots{} @code{$#}-@var{n}.
Os parâmetros representados pelos números @code{$#} até 
@code{$#}-@var{n}+1 são desconfigurados.
@var{n} deve necessariamente ser um número não-negativo menor que ou 
igual a @code{$#}.
Se @var{n} for zero ou maior que @code{$#}, então os parâmetros 
posicionais não são modificados.
Se @var{n} não for fornecido, então presume-se que seja igual a 1.
O código de retorno é zero, a menos que @var{n} seja maior que @code{$#} 
ou menor que zero, e diferente de zero do contrário.

@item test
@itemx [
@btindex test
@btindex [
@example
test @var{expr}
@end example

Avalia uma expressão condicional @var{expr} e retorna um código 0 
(verdadeiro) ou 1 (falso).
Cada operador e operando deve necessariamente ser um argumento separado.
Expressões são compostas dos primários descritos abaixo em 
@ref{Expressões Condicionais de Bash}.
@code{test} não aceita quaisquer opções, nem aceita e ignora um 
argumento de @option{--} como significando o final das opções.

Quando a forma @code{[} é utilizada, o último argumento para o comando 
deve necessariamente ser um @code{]}.

Expressões podem ser combinadas utilizando-se os seguintes operadores, 
listados em ordem decrescente de precedência.
A avaliação depende do número de argumentos; veja-se abaixo.
A precedência de operador é utilizada quando existem cinco ou mais 
argumentos.

@table @code
@item ! @var{expr}
Verdadeiro se @var{expr} for falso.

@item ( @var{expr} )
Retorna o valor de @var{expr}.
Isso pode ser utilizado para substituir a precedência normal de 
operadores.

@item @var{expr1} -a @var{expr2}
Verdadeiro se ambas @var{expr1} e @var{expr2} forem verdadeiras.

@item @var{expr1} -o @var{expr2}
Verdadeiro se ou @var{expr1} ou @var{expr2} for verdadeira.
@end table

Os comandos internos @code{test} e @code{[} avaliam expressões 
condicionais utilizando um conjunto de regras baseadas no número de 
argumentos.

@table @asis
@item 0 argumentos
A expressão é falsa.

@item 1 argumento
A expressão é verdadeira se e somente se o argumento não nulo.

@item 2 argumentos
Se o primeiro argumento for @samp{!}, então a expressão é verdadeira se 
e somente se o segundo argumento for nulo.
Se o primeiro argumento for um dos operadores condicionais unários 
(veja-se @ref{Expressões Condicionais de Bash}), então a expressão é 
verdadeira se o teste unário for verdadeiro.
Se o primeiro argumento não for um operador unário válido, então a 
expressão é falsa.

@item 3 argumentos
As seguintes condições são aplicadas na ordem listada.
Se o segundo argumento for um dos operadores condicionais binários 
(veja-se @ref{Expressões Condicionais de Bash}), então o resultado da 
expressão é o resultado do teste binário utilizando-se o primeiro e o 
terceiro argumentos como operandos.
Os operadores @samp{-a} e @samp{-o} são considerados operadores binários 
quando existem três argumentos.
Se o primeiro argumento for @samp{!}, então o valor é a negação do teste 
de dois argumentos utilizando-se o segundo e o terceiro argumentos.
Se o primeiro argumento for exatamente @samp{(} e o terceiro argumento 
for exatamente @samp{)}, então o resultado é o teste de um argumento do 
segundo argumento.
Do contrário, a expressão é falsa.

@item 4 argumentos
Se o primeiro argumento for @samp{!}, então o resultado é a negação da 
expressão de três argumentos, composta dos restantes argumentos.
Do contrário, a expressão é analisada e avaliada de acordo com a 
precedência, utilizando-se as regras listadas acima.

@item 5 ou mais argumentos
A expressão é analisada e avaliada de acordo com a precedência, 
utilizando-se as regras listadas acima.
@end table

Quando utilizado com @code{test} ou com @samp{[}, os operadores @samp{<} 
e @samp{>} ordenam lexicograficamente, utilizando ordenamento ASCII.

@item times
@btindex times
@example
times
@end example

Imprime os tempos de sistema e de usuário, utilizados pelo shell e seus 
filhos.   O código de retorno é zero.

@item trap
@btindex trap
@example
trap [-lp] [@var{arg}] [@var{sigspec} @dots{}]
@end example

Os comandos em @var{arg} são para ser executados quando o shell recebe 
sinal @var{sigspec}.   Se @var{arg} estiver ausente (e existir um único 
@var{sigspec}) ou for igual a @samp{-}, então cada disposição de sinal 
especificada é reconfigurada para o valor que ele tinha quando o shell 
foi iniciado.
Se @var{arg} for a sequência de caracteres "null", então o sinal 
especificado por cada @var{sigspec} é ignorado pelo shell e comandos que 
ele (o shell) invoca.
Se @var{arg} não estiver presente e a opção @option{-p} tiver sido 
fornecida, então o shell exibe os comandos de coletor associados com 
cada @var{sigspec}.
Se nenhum argumento for fornecido, ou apenas a opção @option{-p} for 
dada, então @code{trap} imprime a lista de comandos associados com cada 
número de sinal em uma forma que pode ser reutilizada como entrada de 
shell.
A opção @option{-l} faz com que o shell imprima uma lista de nomes de 
sinal e os números correspondentes deles.
Cada @var{sigspec} é ou um nome de sinal ou um número de sinal.
Nos nomes de sinal tanto faz maiúsculas como minúsculas, e o prefixo 
@code{SIG} é opcional.

Se um @var{sigspec} for @code{0} ou @code{EXIT}, então @var{arg} é 
executado quando o shell sair.
Se um @var{sigspec} for @code{DEBUG}, então o comando @var{arg} é 
executado antes de cada comando simples, comando @code{for}, comando 
@code{case}, comando @code{select}, cada comando @code{for} aritmético, 
e antes que o primeiro comando execute em uma função de shell.
Consulte-se a descrição da opção @code{extdebug} para o comando interno 
@code{shopt} (veja-se @ref{O Comando Interno Shopt}) para detalhes de seu 
efeito sobre o coletor @code{DEBUG}.
Se um @var{sigspec} for @code{RETURN}, então o comando @var{arg} é 
executado a cada vez que uma função de shell ou um script executado com 
os comandos internos @code{.} ou @code{source} finalizar a execução.
Se um @var{sigspec} for @code{ERR}, então o comando @var{arg} é 
executado sempre que um canal de comunicação (o qual pode consistir de 
um único comando simples), uma lista, ou um comando composto retornar um 
código de saída diferente de zero, objeto das seguintes condições.
O coletor @code{ERR} não é executado se o comando falho for parte da 
lista de comando imediatamente seguinte a uma palavra-chave @code{until} 
ou @code{while}, parte do teste seguinte às palavras reservadas 
@code{if} ou @code{elif}, parte de um comando executado em uma lista 
@code{&&} ou @code{||}, exceto o comando que segue o @code{&&} ou 
@code{||} final, qualquer comando em um canal de comunicação, mas o 
último, ou se o código de retorno do comando estiver sendo invertido 
utilizando @code{!}.
Essas são as mesmas condições obedecidas pela opção @code{errexit} 
(@option{-e}).

Sinais são ignorados após as entradas ao shell não puderem ser coletadas 
ou reconfiguradas.
Sinais coletados que não estão sendo ignorados são reconfigurados para 
os valores originais deles em um sub-shell ou ambiente de sub-shell quando 
um for criado.

O código de retorno é zero, a menos que um @var{sigspec} não especifique 
um sinal válido.

@item umask
@btindex umask
@example
umask [-p] [-S] [@var{modo}]
@end example

Configura a máscara de criação de arquivo do processo de shell para 
@var{modo}.   Se @var{modo} iniciar com um dígito, então ele é 
interpretado como sendo um número octal; se não, é interpretado como 
sendo uma máscara de modo simbólico, similar àquela aceita pelo comando 
@code{chmod}.   Se @var{modo} for omitido, então o valor atual da 
máscara é impresso.   Se a opção @option{-S} for fornecida sem um 
argumento @var{modo}, então a máscara é impressa em um formato 
simbólico.
Se a opção @option{-p} for fornecida, e @var{modo} for omitido, então a 
saída fica em uma forma que pode ser reutilizada como entrada.
O código de retorno é zero se o modo for mudado com sucesso ou se nenhum 
argumento @var{modo} for fornecido, e diferente de zero do contrário.

Perceba-se que quando o modo for interpretado como sendo um número 
octal, cada número da máscara é subtraído de @code{7}.   Assim, um umask 
de @code{022} resulta em permissões de @code{755}.

@item unset
@btindex unset
@example
unset [-fnv] [@var{nome}]
@end example

Remove cada variável ou função @var{nome}.
Se a opção @option{-v} for dada, cada @var{nome} se referirá a uma 
variável de shell e essa variável é removida.
Se a opção @option{-f} for dada, então os @var{nome}s se referirão a 
funções de shell, e a definição de função é removida.
Se a opção @option{-n} for fornecida, e @var{nome} for uma variável com 
o atributo @var{nameref}, então @var{nome} será desconfigurada ao invés 
da variável que ele referencia.   @option{-n} não tem efeito se a opção 
@option{-f} for fornecida.   Se nenhuma opção for fornecida, então cada 
@var{nome} se referirá a uma variável; se não existir variáveis por 
aquele nome, então qualquer função com aquele nome é desconfigurada.
Variáveis apenas leitura e funções não podem ser desconfiguradas.
O código de retorno é zero, a menos que um argumento @var{nome} seja 
apenas leitura.
@end table

@node Comandos Internos ao Bash
@section Bash Builtin Commands

Esta seção descreve comandos internos ao shell os quais são únicos para 
ou foram ampliados no Bash.
Alguns desses comandos estão especificados no padrão @sc{posix}.

@table @code

@item alias
@btindex alias
@example
alias [-p] [@var{nome}[=@var{valor}] @dots{}]
@end example

Sem argumentos ou com a opção @option{-p}, @code{alias} imprime a lista 
de apelidos na saída padrão em uma forma que se possa utilizá-la como 
entrada.
Se argumentos forem fornecidos, um apelido é definido para cada 
@var{nome} cujo @var{valor} for dado.   Se nenhum @var{valor} for dado, 
então o nome e valor do apelido é impresso.
Os apelidos são descritos em @ref{Apelidos}.

@item bind
@btindex bind
@example
bind [-m @var{keymap}] [-lpsvPSVX]
bind [-m @var{keymap}] [-q @var{function}] [-u @var{function}] [-r @var{keyseq}]
bind [-m @var{keymap}] -f @var{filename}
bind [-m @var{keymap}] -x @var{keyseq:shell-command}
bind [-m @var{keymap}] @var{keyseq:function-name}
bind @var{readline-command}
@end example

Exibir os vínculos Readline de função e tecla 
(veja-se @ref{Edição de Linha de Comando}), vincula uma sequência de tecla a 
uma função Readline ou macro, ou configura uma variável Readline.
Cada argumento que não seja uma opção é um comando conforme tal comando 
apareceria em um arquivo de inicialização Readline (veja-se 
@ref{Readline Init File}), porém cada vinculação ou comando deve 
necessariamente ser passado como um argumento separado; por exemplo, 
@samp{"\C-x\C-r":re-read-init-file}.
As opções, se fornecidas, tem os seguintes significados:

@table @code
@item -m @var{keymap}
Utilize @var{keymap} como sendo o mapa de teclas a ser afetado pelas 
vinculações subsequentes.   Os nomes de @var{keymap} aceitáveis são
@code{emacs},
@code{emacs-standard},
@code{emacs-meta},
@code{emacs-ctlx},
@code{vi},
@code{vi-move},
@code{vi-command}, e
@code{vi-insert}.

@code{vi} é equivalente a @code{vi-command};
@code{emacs} é equivalente a @code{emacs-standard}.

@item -l
Lista os nomes de todas as funções Readline.

@item -p
Exibe nomes de função Readline e vinculações em uma tal maneira que se 
pode utilizá-los como entrada ou em um arquivo de inicialização 
Readline.

@item -P
Lista nomes de função Readline e vinculações atuais.

@item -v
Exibe nomes de variáveis Readline e valores em uma tal maneira que se 
pode utilizá-los como entrada ou em um arquivo de inicialização 
Readline.

@item -V
Lista nomes de variáveis Readline e valores atuais.

@item -s
Exibe sequências de tecla Readline vinculadas à macros e as sequências 
de caracteres que tais sequências de tecla entregam como saída em uma 
tal maneira que tais sequências de caracteres possam ser utilizadas como 
entrada ou em um arquivo de inicialização Readline.

@item -S
Exibe sequências de tecla Readline vinculadas à macros e as sequências 
de caracteres que tais sequências de tecla entregam como saída.

@item -f @var{filename}
Lê vínculos de tecla a partir de @var{filename}.

@item -q @var{function}
Consulta sobre quais teclas invocam a @var{function} nominada.

@item -u @var{function}
Desvincula todas as teclas vinculadas à @var{function} nominada.

@item -r @var{keyseq}
Remove qualquer vinculação atual para a sequência de tecla @var{keyseq}.

@item -x @var{keyseq:shell-command}
Faz com que @var{shell-command} seja executado sempre que a sequência de 
tecla @var{keyseq} seja fornecida.
Quando o comando @var{shell-command} é executado, o shell configura a 
variável @code{READLINE_LINE} para que essa contenha o conteúdo do 
buffer de linha do Readline e a variável @code{READLINE_POINT} para 
apontar para a localização atual do ponto de inserção.
Se o comando executado modifica o valor de @code{READLINE_LINE} ou o de 
@code{READLINE_POINT}, então os novos valores dessas variáveis são 
refletidos no estado de edição.

@item -X
Lista todas as sequências de tecla vinculadas à comandos de shell e os 
comandos associados em uma forma que possa ser reutilizado como entrada.

@end table

@noindent
O código de retorno é zero, a menos que uma opção inválida seja 
fornecida ou um erro ocorra.

@item builtin
@btindex builtin
@example
builtin [@var{shell-builtin} [@var{args}]]
@end example

Executa um comando interno ao shell, passando os argumentos @var{args} 
para o comando, e retorna o seu código de saída.
Isso é útil quando da definição de uma função de shell com o mesmo nome 
que um comando interno ao shell, restringindo a funcionalidade do 
comando interno ao âmbito da função.
O código de retorno é diferente de zero se @var{shell-builtin} não for 
um comando interno ao shell.

@item caller
@btindex caller
@example
caller [@var{expr}]
@end example

Retorna o contexto de qualquer chamada de sub-rotina ativa (uma função de 
shell ou um script executado com os comandos internos @code{.} ou 
@code{source}).

Sem o parâmetro @var{expr}, @code{caller} exibe o número da linha e nome 
do arquivo fonte da chamada de sub rotina atual.
Se um número inteiro não negativo for fornecido como @var{expr}, então 
@code{caller} exibe o número da linha, nome da sub-rotina, e arquivo 
fonte correspondente àquela posição na pilha de chamada de execução 
atual.   Essa informação extra talvez possa ser utilizada, por exemplo, 
para imprimir um rastreamento da pilha.   O quadro atual é o frame 0.

O código de retorno é 0 a menos que o shell não esteja executando uma 
chamada de sub-rotina ou @var{expr} não corresponda a uma posição válida 
na pilha de chamada.

@item command
@btindex command
@example
command [-pVv] @var{command} [@var{arguments} @dots{}]
@end example

Executa o comando @var{command} com os argumentos @var{arguments}, 
ignorando qualquer função de shell chamada @var{command}.
Apenas comandos internos ao shell ou comandos encontrados pela busca no 
caminho @env{PATH} são executados.
Se existir uma função de shell chamada @code{ls}, a execução de 
@samp{command ls} no âmbito da função executará o comando estorno 
@code{ls} ao invés de chamar a função recursivamente.
A opção @option{-p} significa utilizar um valor padrão para @env{PATH} 
que garante encontrar todos os utilitários padrão.
O código de retorno nesse caso é 127 se @var{command} não puder ser 
encontrado ou um erro ocorrer, e o código de saída do comando 
@var{command} do contrário.

Se ou a opção @option{-V} ou a opção @option{-v} for fornecida, então 
uma descrição de @var{command} é impressa.   A opção @option{-v} faz com 
que seja exibida uma palavra única indicando o comando ou nome de 
arquivo utilizado para invocar @var{command}; a opção @option{-V} produz 
uma descrição mais detalhada.   Nesse caso, o código de retorno é zero 
se o comando @var{command} for encontrado, e diferente de zero se não 
for.

@item declare
@btindex declare
@example
declare [-aAfFgilnrtux] [-p] [@var{nome}[=@var{valor}] @dots{}]
@end example

Declara variáveis e dá atributos a elas.   Se nenhum @var{nome} for 
dado, então exibe os valores das variáveis.

A opção @option{-p} exibirá os atributos e os valores de cada 
@var{nome}.
Quando a opção @option{-p} é utilizada com argumentos @var{nome}, opções 
adicionais, outras que não @option{-f} e @option{-F}, são ignoradas.

Quando a opção @option{-p} é fornecida sem argumentos @var{nome}, 
@code{declare} exibirá os atributos e valores de todas as variáveis que 
tenham os atributos especificados por opções adicionais.
Se nenhuma outra opção for fornecida com @option{-p}, então 
@code{declare} exibirá os atributos e valores de todas as variáveis de 
shell.   A opção @option{-f} restringirá a exibição a funções de shell.

A opção @option{-F} inibe a exibição de definições de função; apenas o 
nome da função e atributos são impressos.
Se a opção de shell @code{extdebug} estiver habilitada utilizando-se o 
comando interno ao shell @code{shopt} (veja-se @ref{O Comando Interno Shopt}), 
então o nome do arquivo fonte e número da linha onde a função está 
definida são exibidos também.
@option{-F} implica @option{-f}.

A opção @option{-g} força que variáveis sejam criadas ou modificadas no 
escopo global, mesmo quando @code{declare} é executado em uma função de 
shell.
Essa opção é ignorada em todos os outros casos.

As opções seguintes podem ser utilizadas para restringir saída a 
variáveis com os atributos especificados ou para dar atributos a 
variáveis:

@table @code
@item -a
Cada @var{nome} é uma variável vetor indexada (veja-se @ref{Vetores}).

@item -A
Cada @var{nome} é uma variável vetor associativa (veja-se @ref{Vetores}).

@item -f
Utilize apenas nomes de função.

@item -i
A variável é para ser tratada como sendo um número inteiro; avaliação 
aritmética (veja-se @ref{Aritmética de Shell}) é implementada quando for 
atribuído um valor para a variável.

@item -l
Quando um valor é atribuído para a variável, todos os caracteres 
maiúsculos são convertidos em minúsculos.
O atributo maiúsculo é desabilitado.

@item -n
Dá para cada @var{nome} o atributo @var{nameref}, fazendo com que ele 
seja uma referência de nome para uma outra variável.
Essa outra variável é definida pelo valor de @var{nome}.
Todas as referências e atribuições a @var{nome}, exceto para modificar o 
próprio atributo @option{-n}, são implementadas na variável referenciada 
pelo valor de @var{nome}.
O atributo @option{-n} não pode ser aplicado a variáveis vetor.

@item -r
Torna @var{nome}s apenas leitura.   Não pode então ser atribuídos 
valores via declarações de atribuição subsequentes ou desconfigurados.

@item -t
Dá a cada @var{nome} o atributo @code{trace}.
As funções rastreadas herdam os coletores @code{DEBUG} e @code{RETURN} 
do shell que as chamam.
O atributo de rastreamento não tem significado especial para variáveis.

@item -u
Quando um valor é atribuído a uma variável, todos os caracteres 
minúsculos são convertidos para maiúsculos.
O atributo minúsculo é desabilitado.

@item -x
Marca cada @var{nome} para exportação a comandos subsequentes via o 
ambiente.
@end table

Ao se utilizar @samp{+} ao invés de @samp{-} desliga o atributo, com as 
exceções de que @samp{+a} pode não ser utilizado para destruir uma 
variável vetor e @samp{+r} não removerá o atributo apenas leitura.
Quando utilizado em uma função, @code{declare} torna cada @var{nome} 
local, como com o comando @code{local}, a menos que a opção @option{-g} 
seja utilizada.
Se um nome de variável for seguido por =@var{value}, então o valor da 
variável é configurado para @var{valor}.

Quando se utiliza @option{-a} ou @option{-A} e a sintaxe de atribuição 
composta para criar variáveis vetor, atributos adicionais não tem efeito 
até atribuições subsequentes.

O código de retorno é zero a menos que uma opção inválida seja 
encontrada; uma tentativa for feita para definir a função utilizando 
@samp{-f foo=bar}; uma tentativa for feita para atribuir um valor a uma 
variável apenas leitura; uma tentativa for feita de atribuir um valor a 
uma variável vetor sem utilizar a sintaxe de atribuição composta 
(veja-se @ref{Vetores}); um dos @var{nomes} não for um nome de variável 
de shell válido; uma tentativa for feita de desligar o estado de somente 
leitura para uma variável apenas leitura; uma tentativa for feita de 
desligar o estado de vetor para uma variável vetor; ou uma tentativa for 
feita de exibir uma função não existente com @option{-f}.

@item echo
@btindex echo
@example
echo [-neE] [@var{arg} @dots{}]
@end example

Entrega como saída os argumentos @var{arg}, separados por espaços, 
terminados com um carácter newline.
O código de retorno é 0 a menos que um erro de escrita ocorra.
Se @option{-n} for especificada, então o newline ao final é suprimido.
Se a opção @option{-e} for dada, então é habilitada a interpretação dos 
seguintes caracteres encapsulados com barra invertida.
A opção @option{-E} desabilita a interpretação destes caracteres de 
escape, mesmo em sistemas onde eles são interpretados por padrão.
A opção de shell @code{xpg_echo} pode ser utilizada para determinar 
dinamicamente quando ou não @code{echo} expande estes caracteres de 
escape por padrão.
@code{echo} não interpreta @option{--} como sendo o final das opções.

@code{echo} interpreta as seguintes sequências de escape:
@table @code
@item \a
alerta (sino)
@item \b
backspace
@item \c
suprime saída
@item \e
@itemx \E
escape
@item \f
alimentação de formulário
@item \n
nova linha
@item \r
retorno de carro
@item \t
tab horizontal
@item \v
tab vertical
@item \\
barra invertida
@item \0@var{nnn}
o carácter de oito-bits cujo valor é o valor octal @var{nnn} (zero a 
três dígitos octais)
@item \x@var{HH}
o carácter de oito-bits cujo valor é o valor hexadecimal @var{HH} (um ou 
dois dígitos hexadecimais)
@item \u@var{HHHH}
o carácter Unicode (ISO/IEC 10646) cujo valor é o valor hexadecimal 
@var{HHHH} (um até quatro dígitos hexadecimais)
@item \U@var{HHHHHHHH}
o carácter Unicode (ISO/IEC 10646) cujo valor é o valor hexadecimal 
@var{HHHHHHHH} (um até oito dígitos hexadecimais)
@end table

@item enable
@btindex enable
@example
enable [-a] [-dnps] [-f @var{nome_arquivo}] [@var{nome} @dots{}]
@end example

Habilita e desabilita comandos internos do shell.
Desabilitar um comando interno permite que um comando de disco o qual 
tenha o mesmo nome que o comando interno ao shell seja executado sem se 
especificar um nome de caminho completo, ainda que o shell normalmente 
procure por comandos internos antes que comandos de disco.
Se a opção @option{-n} for utilizada, então os @var{nome}s se tornam 
desabilitados.   Do contrário os @var{nome}s são habilitados.   Por 
exemplo, para se utilizar o binário @code{test} encontrado via 
@env{$PATH} ao invés da versão interna do shell, digite @samp{enable -n 
test}.

Se a opção @option{-p} for fornecida, ou nenhum argumento @var{nome} 
aparecer, uma lista dos comandos internos ao shell é impressa.   Sem 
nenhum outro argumento, a lista consiste de todos os comandos internos 
ao shell habilitados.
A opção @option{-a} significa listar cada comando interno com uma 
indicação de se ou não o comando esteja habilitado.

A opção @option{-f} significa carregar o novo comando interno @var{nome} 
a partir do objeto compartilhado @var{nome_arquivo}, em sistemas que 
suportem carregamento dinâmico.
A opção @option{-d} deletará um comando interno carregado com 
@option{-f}.

Se não existirem opções, então uma lista dos comandos internos ao shell 
é exibida.
A opção @option{-s} restringe @code{enable} aos comandos internos 
especiais do padrão @sc{posix}.   Se @option{-s} for utilizada com 
@option{-f},, então o novo comando interno se torna um comando interno 
especial (veja-se @ref{Comandos Internos Especiais}).

O código de retorno é zero a menos que um @var{nome} não seja um comando 
interno ao shell ou exista um erro ao carregar um novo comando interno a 
partir de um objeto compartilhado.

@item help
@btindex help
@example
help [-dms] [@var{pattern}]
@end example

Exibe informação útil acerca de comandos internos.
Se @var{pattern} for especificada, então @code{help} fornece ajuda 
detalhada sobre todos os comandos coincidentes com @var{pattern}, do 
contrário uma lista de comandos internos é impressa.

Opções, de fornecidas, tem os seguintes significados:

@table @code
@item -d
Exibe uma descrição curta de cada @var{pattern}
@item -m
Exibe a descrição de cada @var{pattern} em um formato parecido com 
página de manual.
@item -s
Exibe apenas uma sinopse curta de uso para cada @var{pattern}
@end table

O código de retorno é zero a menos que nenhum comando coincida com 
@var{pattern}.

@item let
@btindex let
@example
let @var{expressão} [@var{expressão} @dots{}]
@end example

O comando interno @code{let} permite que operações aritméticas sejam 
efetuadas sobre variáveis de shell.   Cada @var{expressão} é avaliada de 
acordo com as regras dadas abaixo em @ref{Aritmética de Shell}.   Se a 
última @var{expressão} avaliada resultar em 0, então @code{let} 
retornará 1; do contrário 0 é retornado.

@item local
@btindex local
@example
local [@var{opção}] @var{nome}[=@var{valor}] @dots{}
@end example

Para cada argumento, uma variável local chamada @var{nome} é criada, e 
@var{valor} é atribuído a essa variável.
A @var{opção} pode ser quaisquer das opções aceitas por @code{declare}.
@code{local} apenas pode ser utilizado dentro de uma função; ele faz com 
que a variável @var{nome} tenha um escopo visível restrito àquela função 
e os filhos dela.   O código de retorno é zero a menos que @code{local} 
seja utilizada fora da função, um @var{nome} seja fornecido, ou 
@var{nome} seja uma variável apenas leitura.

@item logout
@btindex logout
@example
logout [@var{n}]
@end example

Sai de um shell de login, retornando um código de @var{n} para o pai do 
shell.

@item mapfile
@btindex mapfile
@example
mapfile [-n @var{count}] [-O @var{origin}] [-s @var{count}] [-t] [-u @var{fd}]
    [-C @var{callback}] [-c @var{quantum}] [@var{array}]
@end example

Lê linhas a partir da entrada padrão armazenando em uma variável vetor 
indexada @var{array}, ou a partir do descritor de arquivo @var{fd} se a 
opção @option{-u} for fornecida.
A variável @code{MAPFILE} é o @var{array} padrão.
Opções, se fornecidas, tem os seguintes significados:

@table @code

@item -n
Copia no máximo @var{count} linhas.   Se @var{count} for 0, então todas 
as linhas são copiadas.
@item -O
Atribui a @var{array} iniciando no índice @var{origin}.
O índice padrão é 0.
@item -s
Descarta as primeiras @var{count} linhas lidas.
@item -t
Remove um marcador newline do final de cada linha lida.
@item -u
Lê linhas a partir do descritor de arquivo @var{fd} ao invés de o fazer 
a partir da entrada padrão.
@item -C
Avalia @var{callback} a cada vez que @var{quantum}P linhas são lidas.
A opção @option{-c} especifica @var{quantum}.
@item -c
Especifica o número de linhas lidas entre cada chamada a @var{callback}.
@end table

Se @option{-C} for especificada sem @option{-c}, então a quantidade 
padrão é 5000.
Quando @var{callback} for avaliada, como argumentos adicionais, é 
fornecido o índice do próximo elemento do vetor a ser atribuído e a 
linha a ser atribuída àquele elemento.
@var{callback} é avaliada após a linha ser lida, mas antes que o 
elemento do vetor seja atribuído.

Se @code{mapfile} não for fornecida com uma origem explícita, então 
@code{mapfile} esvaziará @var{array} antes de atribuir-lhe dados.

@code{mapfile} retorna um código de sucesso a menos que uma opção 
inválida ou um argumento opcional seja fornecido; @var{array} seja 
inválido e inatribuível; ou @var{array} não seja um vetor indexado.

@item printf
@btindex printf
@example
printf [-v @var{var}] @var{formato} [@var{argumentos}]
@end example

Escreve os @var{argumentos} formatados na saída padrão sob o controle de 
@var{formato}.
A opção @option{-v} faz com que a saída seja atribuída para a variável 
@var{var} no lugar de ser impressa na saída padrão.

O @var{formato} é uma sequência de caracteres a qual contém três tipos 
de objetos: caracteres planos, os quais são simplesmente copiados para a 
saída padrão; sequências de caracteres de escape, as quais são 
convertidas e copiadas para a saída padrão; e especificações de formato, 
cada uma das quais provoca a impressão dos próximos @var{argumentos} 
sucessivos.
Em adição aos formatos @code{printf(1)} padrão, @code{printf} interpreta 
as seguintes extensões:

@table @code
@item %b
Faz com que @code{printf} expanda sequências de escape de barra 
invertida nos correspondentes @var{argumentos}, exceto que @samp{\c} 
finaliza a saída; barras invertidas dentro de @samp{\'}, @samp{\"}, e 
@samp{\?} não são removidas; e escapes octais iniciando com @samp{\0} 
podem conter até quatro dígitos.
@item %q
Faz com que @code{printf} entregue como saída os correspondentes 
@var{argumentos} em um formato que pode ser reutilizado como entrada de 
shell.
@item %(@var{datefmt})T
Faz com que @code{printf} entregue como saída a sequência de caracteres 
resultante da utilização de @var{datefmt} como uma sequência de 
caracteres de formatação para @code{strftime}(3).
Os @var{argumentos} correspondentes são um número inteiro 
representativos do número de segundos desde a época.
Dois valores de argumento especiais podem ser utilizados: -1 representa 
o horário atual; e -2 representa o horário no qual o shell foi invocado.
Se nenhum argumento for especificado, então a conversão se comporta como 
se -1 tivesse sido dado.
Isso é uma exceção ao comportamento usual de @code{printf}.
@end table

@noindent
Os argumentos para os especificadores de formato que não sejam 
sequências de caracteres são tratados como constantes da linguagem C, 
exceto que é permitido no início um sinal mais ou um menos, e se o 
carácter inicial for uma aspa simples ou uma dupla, então o valor é o 
valor ASCII do carácter seguinte.

O @var{formato} é reutilizado conforme necessário para consumir todos os 
@var{argumentos}.   Se o @var{formato} necessitar de mais 
@var{argumentos} que os que forem fornecidos, então as especificações 
extra de formato se comportam como se um valor zero ou uma sequência de 
caracteres nula, conforme apropriado, tivesse sido fornecida.   O código 
de retorno é zero no sucesso, e diferente de zero na falha.

@item read
@btindex read
@example
read [-ers] [-a @var{aname}] [-d @var{delim}] [-i @var{text}] [-n @var{nchars}]
    [-N @var{nchars}] [-p @var{prompt}] [-t @var{timeout}] [-u @var{fd}] [@var{name} @dots{}]
@end example

Uma linha é lida a partir da entrada padrão, ou a partir do descritor de 
arquivo @var{fd} fornecido como um argumento para a opção @option{-u}, e 
a primeira palavra é atribuída para o primeiro @var{name}; a segunda 
palavra para o segundo @var{name}, e assim por diante, com as palavras 
que sobrarem e os separadores intervenientes delas atribuídos para o 
último @var{name}.
Se existirem palavras menores que os nomes, lidas do fluxo de entrada, 
então aos nomes remanescentes serão atribuídos valores vazios.
Os caracteres no valor da variável @env{IFS} são utilizados para dividir 
a linha em palavras utilizando-se as mesmas regras que o shell utiliza 
para expansão (descrita acima em @ref{Divisão de Palavra}).
O carácter "barra invertida" @samp{\} pode ser utilizado para remover 
qualquer significado especial do próximo carácter lido e para 
continuação de linha.
Se nenhum nome for fornecido, então a linha lida é atribuída à variável 
@env{REPLY}.
O código de retorno é zero, a menos que um marcador de fim de arquivo 
for encontrado; @code{read} tiver em intervalo de tempo (caso no qual o 
código de retorno é maior que 128); um erro de atribuição de variável 
(tal qual a atribuição a uma variável apenas leitura) ocorrer; ou um 
descritor de arquivo inválido for fornecido como um argumento para 
@option{-u}.

Opções, se fornecidas, tem os seguintes significados:

@table @code
@item -a @var{aname}
As palavras são atribuídas a índices sequenciais da variável vetor 
@var{aname}, iniciando no 0.
Todos os elementos são removidos do @var{aname} antes da atribuição.
Outros argumentos @var{aname} são ignorados.

@item -d @var{delim}
O primeiro carácter de @var{delim} é utilizado para terminar a linha de 
entrada, ao invés do marcador newline.

@item -e
Readline (veja-se @ref{Edição de Linha de Comando}) é utilizado para se obter 
a linha.
Readline utiliza as configurações de edição atuais (ou a padrão, se a 
edição de linha não foi previamente ativada).

@item -i @var{text}
Se Readline está sendo utilizada para ler a linha, então @var{text} é 
colocado na área de edição antes que a edição propriamente dita comece.

@item -n @var{nchars}
@code{read} retorna após a leitura de @var{nchars} caracteres ao invés 
de aguardar por uma linha completa de entrada, porém respeita um 
delimitador se menos que @var{nchars} caracteres forem lidos antes do 
delimitador.

@item -N @var{nchars}
@code{read} retorna após a leitura de exatamente @var{nchars} caracteres 
ao invés de aguardar pela leitura de uma linha completa de entrada, a 
menos que um marcador EOF seja encontrado ou @code{read} tenha um 
intervalo de tempo.
Os caracteres delimitadores encontrados na entrada não são tratados 
especialmente e não fazem com que @code{read} retorne até que 
@var{nchars} sejam lidos.

@item -p @var{prompt}
Exibe @var{prompt}, sem um finalizador newline, antes da tentativa de 
ler qualquer entrada.
O prompt é exibido apenas se a entrada estiver vindo de um terminal.

@item -r
Se essa opção for dada, a barra invertida não atua como um carácter de 
escape.   A barra invertida é considerada como fazendo parte da linha.
Em particular, um par barra invertida + newline não pode ser utilizado 
como uma continuação de linha.

@item -s
Modo silencioso.   Se a entrada está vindo de um terminal, então os 
caracteres não são ecoados.

@item -t @var{timeout}
Faz com que @code{read} tenha um intervalo e retorne falha se uma linha 
completa de entrada (ou um número especificado de caracteres) não for 
lido dentro de @var{timeout} segundos.
@var{timeout} pode ser um número decimal com uma porção em forma de 
fração seguinte ao ponto decimal.
Essa opção apenas é efetiva se @code{read} estiver lendo entrada a 
partir de um terminal, canal de comunicação, ou outro arquivo especial; 
a opção não tem efeito quando a leitura é feita a partir de arquivos 
regulares.
Se @code{read} tiver um intervalo de tempo, então @code{read} salvará 
qualquer entrada parcial lida na variável especificada por @var{name}.
Se @var{timeout} for 0, então @code{read} retorna imediatamente, sem 
tentar ler e sem dados.   O código de saída é 0 se a entrada estiver 
disponível no descritor de arquivo especificado, e diferente de zero no 
caso contrário.
O código de saída é maior que 128 se o intervalo de tempo for excedido.

@item -u @var{fd}
Lê entrada a partir do descritor de arquivo @var{fd}.
@end table

@item readarray
@btindex readarray
@example
readarray [-n @var{count}] [-O @var{origin}] [-s @var{count}] [-t] [-u @var{fd}]
    [-C @var{callback}] [-c @var{quantum}] [@var{array}]
@end example

Lê linha a partir da entrada padrão para a variável vetor indexada 
@var{array}, ou a partir do descritor de arquivo @var{fd} se a opção 
@option{-u} for fornecida.

É um sinônimo para @code{mapfile}.

@item source
@btindex source
@example
source @var{filename}
@end example

Um sinônimo para @code{.} (veja-se @ref{Comandos Internos do Shell Bourne}).

@item type
@btindex type
@example
type [-afptP] [@var{name} @dots{}]
@end example

Para cada @var{name}, indica como deveria ser interpretado se utilizado 
como um nome de comando.

Se a opção @option{-t} for utilizada, @code{type} imprime uma palavra 
única a qual é @samp{alias}, @samp{function}, @samp{builtin},
@samp{file} ou @samp{keyword}, se @var{name} for um apelido; uma função 
de shell; um comando interno ao shell; um arquivo de disco; ou uma 
palavra reservada de shell, respectivamente.
Se @var{name} não for encontrada, então nada é impresso e @code{type} 
retorna um código de falha.

Se a opção @option{-p} for utilizada, então @code{type} ou retorna o 
nome do arquivo de disco que deveria ser executado, ou nada caso 
@option{-t} não retorne @samp{file}.

A opção @option{-P} força uma busca de caminho para cada @var{name}, 
mesmo no caso de @option{-t} não retornar @samp{file}.

Se um comando for dividido em pedaços, então @option{-p} e @option{-P} 
imprimem o valor cortado em pedaços, o qual não é necessariamente o 
arquivo que aparecer primeiro no @code{$PATH}.

Se a opção @option{-a} for utilizada, então @code{type} retorna todos os 
locais que contém um executável chamado @var{file}.
Isso inclui apelidos e funções, se e somente se a opção @option{-p} 
também não for utilizada.

Se a opção @option{-f} for utilizada, então @code{type} não tentará 
encontrar funções de shell, como com o comando interno @code{command}.

O código de retorno é zero se todos os @var{names} forem encontrados, e 
diferente de zero se qualquer deles não for encontrado.

@item typeset
@btindex typeset
@example
typeset [-afFgrxilnrtux] [-p] [@var{name}[=@var{value}] @dots{}]
@end example

O comando @code{typeset} é fornecido para compatibilidade com o shell 
Korn.
Ele é um sinônimo para o comando interno @code{declare}.

@item ulimit
@btindex ulimit
@example
ulimit [-abcdefilmnpqrstuvxHST] [@var{limit}]
@end example

@code{ulimit} provê controle sobre os recursos disponíveis aos processos 
inicializados pelo shell, em sistemas que permitem tal controle.   Se 
uma opção for dada, essa opção é interpretada conforme segue:

@table @code
@item -S
Modifica e relata o limite leve associado com o recurso.

@item -H
Modifica e relata o limite pesado associado com o recurso.

@item -a
Todos os limites atuais são relatados.

@item -b
O tamanho máximo da memória intermediária de socket.

@item -c
O tamanho máximo dos arquivos centrais criados.

@item -d
O tamanho máximo de um segmento de dados do processo.

@item -e
A prioridade máxima do agendamento ("nice").

@item -f
O tamanho máximo de arquivos escritos pelo shell e filhos dele.

@item -i
O número máximo de sinais pendentes.

@item -l
O tamanho máximo que pode ser travado dentro da memória.

@item -m
O tamanho máximo do conjunto residente (muitos sistemas não respeitam 
esse limite).

@item -n
O número máximo de descritores de arquivo abertos (muitos sistemas não 
permitem que esse valor seja configurado).

@item -p
O tamanho da memória intermediária do canal de comunicação.

@item -q
O número máximo de bytes nas consultas de mensagem POSIX.

@item -r
A prioridade máxima de agendamento de tempo-real.

@item -s
O tamanho máximo da pilha.

@item -t
A quantidade máxima de tempo de cpu em segundos.

@item -u
O número máximo de processos disponíveis para um usuário único.

@item -v
A quantidade máxima de memória virtual disponível para o shell, e, em 
alguns sistemas, para os filhos dele.

@item -x
O número máximo de travas de arquivo.

@item -T
O número máximo de camadas.

@end table

Se @var{limit} for dado, então a opção @option{-a} não é utilizada, 
@var{limit} é o valor novo os recurso especificado.
Os valores @var{limit} especiais @code{hard}, @code{soft}, e 
@code{unlimited} representam o atual limite pesado; o atual limite leve; 
e sem limite, respectivamente.
Um limite pesado não pode incrementado por um usuário sem privilégios 
administrativos uma vez que for configurado; um limite leve pode ser 
incrementado até o valor do limite pesado.
Do contrário, o valor atual do limite leve para o recurso especificado é 
impresso, a menos que a opção @option{-H} seja fornecida.
Quando da configuração de novos limites, se nem @option{-H} nem 
@option{-S} forem fornecidas, então ambos os limites, o pesado e o leve, 
são configurados.
Se nenhuma opção for dada, então @option{-f} é presumida.   Os valores 
são em incrementos de 1024-byte, exceto para @option{-t}, o qual é em 
segundos; @option{-p}, o qual é em unidades de blocos de 512-bytes; e 
@option{-T}, @option{-b}, @option{-n} e @option{-u}, os quais são 
valores sem escala.

O código de retorno é zero a menos que uma opção inválida ou argumento 
seja fornecido, ou um erro ocorra  quando da configuração de um novo 
limite.

@item unalias
@btindex unalias
@example
unalias [-a] [@var{name} @dots{} ]
@end example

Remove cada @var{name} da lista de apelidos.   Se @option{-a} for 
fornecida, então todos os apelidos serão removidos.
Os apelidos são descritos em @ref{Apelidos}.
@end table

@node Modificando o Comportamento do Shell
@section Modificando o Comportamento do Shell

@menu
* O Comando Interno Set::		Modifica os valores dos atributos 
				de shell e dos parâmetros posicionais.
* O Comando Interno Shopt::		Modifica o comportamento opcional 
				do shell.
@end menu

@node O Comando Interno Set
@subsection O Comando Interno Set

Esse comando interno é tão complicado que ele merece sua própria seção.   
@code{set} te permite modificar os valores das opções de shell e 
configurar os parâmetros posicionais, ou exibir os nomes e valores das 
variáveis de shell.

@table @code
@item set
@btindex set
@example
set [--abefhkmnptuvxBCEHPT] [-o @var{option-name}] [@var{argument} @dots{}]
set [+abefhkmnptuvxBCEHPT] [+o @var{option-name}] [@var{argument} @dots{}]
@end example

Se nenhuma opção ou argumento forem fornecidas, então @code{set} exibe 
os nomes e valores de todas as variáveis e funções de shell, ordenados 
de acordo com a localização atual, em um formato que pode ser 
reutilizado como entrada para configurar ou reconfigurar as variáveis 
atualmente configuradas.
As variáveis somente leitura não podem ser reconfiguradas.
No modo @sc{posix}, somente as variáveis de shell são listadas.

Quando opções são fornecidas, elas configuram ou desconfiguram atributos 
de shell.
As opções, se especificadas, tem os seguintes significados:

@table @code
@item -a
Variáveis e funções de marca são modificados ou criados para exportar 
para o ambiente de comandos subsequentes.

@item -b
Faz com que o estado de tarefas de segundo plano terminadas seja 
relatado imediatamente, ao invés de imprimir antes do próximo prompt 
primário.

@item -e
Sai imediatamente se um canal de comunicação (veja-se @ref{Canais de Comunicação}), 
o qual pode consistir de um único comando simples 
(veja-se @ref{Comandos Simples}), uma lista (veja-se @ref{Listas}), ou um comando composto 
(veja-se @ref{Comandos Compostos}) retorna um código diferente de zero.
O shell não sai se o comando que falhar for parte de uma lista de 
comandos imediatamente seguinte a uma palavra chave @code{while} ou 
@code{until}, parte de um teste em uma declaração @code{if}, parte de 
qualquer comando comando executado em uma lista @code{&&} ou @code{||}, 
exceto o comando seguinte ao @code{&&} ou @code{||} final, qualquer 
comando em um canal de comunicação menos o último, ou se o código de 
retorno do comando estiver sendo invertido com @code{!}.
Se um comando composto outro que não um sub-shell retornar um código 
diferente de zero por causa que um comando falhou enquanto @option{-e} 
estava sendo ignorado, então o shell não sai.
Um coletor sobre @code{ERR}, se configurado, é executado antes que o 
shell saia.

Essa opção se aplica ao ambiente de shell e a cada ambiente de sub-shell 
separadamente (veja-se @ref{Ambiente de Execução de Comando}), e pode 
fazer com que sub-shells saiam antes de executar todos os comandos no 
sub-shell.

Se um comando composto ou uma função de shell executar em um contexto 
onde @option{-e} estiver sendo ignorada, então nenhum dos comandos 
executados dentro do comando composto ou corpo da função S afetados 
pela configuração @option{-e}, mesmo se @option{-e} estiver configurada 
e um comando retornar um código de falha.
Se um comando composto ou função de shell configura @option{-e} quando 
da execução em um contexto onde @option{-e} é ignorada, aquela 
configuração não terá qualquer efeito até que o comando composto ou o 
comando contendo a chamada de função complete.

@item -f
Desabilita a expansão de nome de arquivo (casamento de padrões).

@item -h
Localiza e lembra (hash) comandos conforme eles são procurados para 
execução.
Essa opção é habilitada por padrão.

@item -k
Todos os argumentos na forma de declarações de atribuição são colocados 
no ambiente para um comando, não apenas aqueles que precedem o nome do 
comando.

@item -m
Controle de tarefas é habilitado (veja-se @ref{Controle de Tarefa}).
Todos os processos executam em um grupo de processos separado.
Quando uma tarefa de segundo plano completa, o shell imprime uma linha 
contendo o código de saída dela.

@item -n
Lê comandos, porém não os executa; isso pode ser utilizado para 
verificar um script e identificar erros de sintaxe.
Essa opção é ignorada pelos shells interativos.

@item -o @var{option-name}

Configura a opção correspondente a @var{option-name}:

@table @code
@item allexport
O mesmo que @code{-a}.

@item braceexpand
O mesmo que @code{-B}.

@item emacs
Utiliza uma interface de edição de linha de comando estilo @code{emacs} 
(veja-se @ref{Edição de Linha de Comando}).
Isso também afeta a interface de edição utilizada para @code{read -e}.

@item errexit
O mesmo que @code{-e}.

@item errtrace
O mesmo que @code{-E}.

@item functrace
O mesmo que @code{-T}.

@item hashall
O mesmo que @code{-h}.

@item histexpand
O mesmo que @code{-H}.

@item history
Habilita o histórico de comandos, conforme descrito em @ref{Bash History 
Facilities}.
Essa opção está ligada por padrão em shells interativos.

@item ignoreeof
Um shell interativo não sairá até que leia EOF.

@item keyword
O mesmo que @code{-k}.

@item monitor
O mesmo que @code{-m}.

@item noclobber
O mesmo que @code{-C}.

@item noexec
O mesmo que @code{-n}.

@item noglob
O mesmo que @code{-f}.

@item nolog
Atualmente ignorado.

@item notify
O mesmo que @code{-b}.

@item nounset
O mesmo que @code{-u}.

@item onecmd
O mesmo que @code{-t}.

@item physical
O mesmo que @code{-P}.

@item pipefail
Se configurado, o valor de retorno de um canal de comunicação é o valor 
do último (mais à direita) comando a sair com um código diferente de 
zero, ou zero se todos os comandos no canal de comunicação saírem com 
sucesso.
Essa opção é desabilitada por padrão.

@item posix
Modifica o comportamento de Bash onde a operação padrão diferir do 
padrão @sc{posix} para coincidir com o padrão 
(veja-se @ref{O Modo POSIX de Bash}).
Isso é entendido para fazer com que Bash se comporte como um estrito 
super conjunto daquele padrão.

@item privileged
O mesmo que @code{-p}.

@item verbose
O mesmo que @code{-v}.

@item vi
Utiliza uma interface de linha de edição estilo @code{vi}.
Isso também afeta a interface de edição utilizada por @code{read -e}.

@item xtrace
O mesmo que @code{-x}.
@end table

@item -p
Liga o modo privilegiado.
Neste modo, os arquivos @env{$BASH_ENV} e @env{$ENV} não são 
processados, funções de shell não são herdadas do ambiente, e as 
variáveis @env{SHELLOPTS}, @env{BASHOPTS}, @env{CDPATH} e 
@env{GLOBIGNORE}, se elas aparecerem no ambiente, são ignoradas.
Se o shell for inicializado com o id de usuário (grupo) efetivo 
diferente do id de usuário (grupo) real, e a opção @option{-p} não for 
fornecida, essas ações são tomadas e o id de usuário efetivo é 
configurado para o id de usuário real.
Se a opção @option{-p} for fornecida na inicialização, então o id de 
usuário efetivo não é reconfigurado.
O desligamento dessa opção faz com que os ids efetivos de usuário e 
grupo sejam configurados para os ids reais de usuário e grupo.

@item -t
Sai após a leitura e execução de um comando.

@item -u
Trata variáveis e parâmetros desconfigurados outros que não os 
parâmetros especiais @samp{@@} ou @samp{*} como um erro quando da 
realização da expansão de parâmetro.
Uma mensagem de erro será escrita para a saída de erro padrão, e um 
shell não interativo sairá.

@item -v
Imprime linhas de entrada de shell conforme elas são lidas.

@item -x
Imprime um rastro de comandos simples, comandos @code{for}, comandos 
@code{case}, comandos @code{select}, e comandos @code{for} aritméticos e 
os argumentos deles ou listas de palavras associadas após elas serem 
expandidas e antes de elas serem executadas.   O valor da variável 
@env{PS4} é expandido e o valor resultante é impresso antes do comando e 
dos argumentos expandidos dele.

@item -B
O shell realizará uma expansão de chave (veja-se @ref{Expansão de Chave}).
Essa opção está ligada por padrão.

@item -C
Evita a sobrescrita de arquivos existentes quando da utilização da 
redireção de saída utilizando @samp{>}, @samp{>&}, e @samp{<>}.

@item -E
Se configurado, qualquer coletor sobre @code{ERR} é herdado pelas 
funções de shell, substituições de comando, e comandos executados em um 
ambiente de sub-shell.
O coletor @code{ERR} normalmente não é herdado em tais casos.

@item -H
Habilita a substituição de histórico estilo @samp{!} 
(veja-se @ref{History Interaction}).
Essa opção está ligada por padrão para shell interativos.

@item -P
Se configurado, não resolve ligações simbólicas quando da realização de 
comandos tais como @code{cd} o qual modifica o diretório atual.   O 
diretório físico é utilizado ao invés.   Por padrão, Bash segue a cadeia 
lógica de diretórios quando da realização de comandos os quais modificam 
o diretório atual.

Por exemplo, se @file{/usr/sys} for uma ligação simbólica para 
@file{/usr/local/sys} então:
@example
$ cd /usr/sys; echo $PWD
/usr/sys
$ cd ..; pwd
/usr
@end example

@noindent
Se @code{set -P} estiver ligado, então:
@example
$ cd /usr/sys; echo $PWD
/usr/local/sys
$ cd ..; pwd
/usr/local
@end example

@item -T
Se configurado, quaisquer coletores sobre @code{DEBUG} e @code{RETURN} 
são herdados pelas funções de shell, substituições de comando, e 
comandos executados em um ambiente de sub-shell.
Os coletores @code{DEBUG} e @code{RETURN} normalmente não são herdados 
em tais casos.

@item --
Se nenhum argumento seguir essa opção, então os parâmetros posicionais 
são desconfigurados.   Do contrário, os parâmetros posicionais são 
configurados para os @var{arguments}, mesmo que alguns deles comecem com 
um @samp{-}.

@item -
Sinaliza o final das opções, faz com todos os @var{arguments} restantes 
sejam atribuídos aos parâmetros posicionais.   As opções @option{-x} e 
@option{-v} são desligadas.
Se não existirem argumentos, então os parâmetros posicionais permanecem 
não modificados.
@end table

A utilização de @samp{+} ao invés de @samp{-} faz com que essas opções 
sejam desligadas.   As opções também podem ser utilizadas quando da 
invocação do shell.   O conjunto atual de opções pode ser encontrado em 
@code{$-}.

Os restantes N @var{arguments} são parâmetros posicionais e são 
atribuídos, em ordem, a @code{$1}, @code{$2}, @dots{}  @code{$N}.
O parâmetro especial @code{#} é configurado para N.

O código de retorno sempre é zero a menos que uma opção inválida seja 
fornecida.
@end table

@node O Comando Interno Shopt
@subsection O Comando Interno Shopt

Esse comando interno permite modificar o comportamento opcional 
adicional do shell.

@table @code

@item shopt
@btindex shopt
@example
shopt [-pqsu] [-o] [@var{optname} @dots{}]
@end example

Permuta os valores das configurações que controlam o comportamento 
opcional do shell.   As configurações podem ser ou aquelas listadas 
abaixo, ou, se a opção @option{-o} for utilizada, aquelas disponíveis 
com a opção @option{-o} para o comando interno @code{set} 
(veja-se @ref{O Comando Interno Set}).
Sem opções, ou com a opção @option{-p}, uma lista de todas as opções 
configuráveis é exibida, com uma indicação de se ou não cada está 
configurada.
A opção @option{-p} faz com a saída seja exibida em uma forma que pode 
ser reutilizada como entrada.
Outras opções tem os seguintes significados:

@table @code
@item -s
Habilita (configura) cada @var{optname}.

@item -u
Desabilita (desconfigura) cada @var{optname}.

@item -q
Suprime a saída normal; o código de retorno indica quando a 
@var{optname} está configurada ou desconfigurada.
Se múltiplos argumentos @var{optname} forem dados com @option{-q}, então 
o código de retorno é zero se todos @var{optnames} estiverem 
habilitados; diferente de zero do contrário.

@item -o
Restringe os valores de @var{optname} àqueles definidos para a opção 
@option{-o} para o comando interno @code{set} 
(veja-se @ref{O Comando Interno Set}).
@end table

Se ou @option{-s} ou @option{-u} forem utilizadas sem argumentos 
@var{optname}, então @code{shopt} mostra apenas aquelas opções as quais 
estão configuradas ou desconfiguradas, respectivamente.

A menos que apontado do contrário, as opções @code{shopt} estão 
desabilitadas (desligadas) por padrão.

O código de retorno quando das opções de listagem é zero se todas 
@var{optnames} estiverem habilitadas, diferente de zero do contrário.
Quando configurando ou desconfigurando opções, o código de retorno é 
zero a menos que uma @var{optname} não seja uma opção de shell válida.

A lista das opções @code{shopt} é:
@table @code

@item autocd
Se configurado, um nome de comando que seja o nome de um diretório é 
executado como se o nome fosse o argumento para o comando @code{cd}.
Essa opção é utilizada apenas por shells interativos.

@item cdable_vars
Se isso estiver configurado, um argumento para o comando interno 
@code{cd} que não seja um diretório é presumido que seja o nome de uma 
variável cujo valor é o diretório para o qual se acessar.

@item cdspell
Se configurado, error menores na grafia de um componente de diretório em 
um comando @code{cd} serão corrigidos.
Os erros verificados são caracteres transpostos, um carácter em falta, e 
um carácter demasiado.
Se uma correção for encontrada, então o cominho corrigido é impresso, e 
o comando procede.
Essa opção é utilizada apenas por shells interativos.

@item checkhash
Se isso estiver configurado, Bash verifica se um comando encontrado na 
tabela de hash existe antes de tentar executá-lo.   Se um comando 
gravado na tabela não mais existir, uma procura de caminho normal é 
realizada.

@item checkjobs
Se configurada, Bash lista o estado de quaisquer tarefas paradas e em 
execução antes de sair de um shell interativo.   Se quaisquer tarefas 
estão em execução, isso faz com que a saída seja adiada até que uma 
segunda saída seja tentada sem um comando interveniente (veja-se 
@ref{Controle de Tarefa}).
O shell sempre adia a saída se quaisquer tarefas estiverem paradas.

@item checkwinsize
Se configurada, Bash verifica o tamanho da janela após cada comando e, 
se necessário, atualiza os valores de @env{LINES} e @env{COLUMNS}.

@item cmdhist
Se configurado, Bash tenta salvar todas as linhas de um comando de 
múltiplas linhas na mesma entrada de histórico.   Isso permite a fácil 
reedição de comandos de múltiplas linhas.

@item compat31
Se configurado, Bash muda o comportamento dele para aquele da versão 3.1 
com respeito aos argumentos entre aspas para o operador @samp{=~} do 
comando condicional e com respeito a comparações de sequências de 
caracteres específicas do local quando da utilização dos operadores 
@samp{<} e @samp{>} do comando condicional @code{[[}.
As versões de Bash anteriores a bash-4.1 utilizam colação ASCII e strcmp(3);
bash-4.1 e posterior utilizam a sequência de colação do local atual e 
strcoll(3).

@item compat32
Se configurado, Bash muda o comportamento dele para aquele da versão 3.2 
com respeito à comparação de sequência de caracteres específica do local 
quando da utilização dos operadores @samp{<} e @samp{>} do comando 
condicional @code{[[} (veja-se o item anterior).

@item compat40
Se configurado, Bash muda o comportamento dele para aquele da versão 4.0 
com respeito à comparação de sequência de caracteres específica do local 
quando da utilização dos operadores @samp{<} e @samp{>} do comando 
condicional @code{[[} (veja-se a descrição de @code{compat31}) e o 
efeito da interrupção de uma lista de comandos.
As versões 4.0 e posteriores de Bash interrompem a lista como se o shell 
recebesse a interrupção; versões anteriores continuam com o próximo 
comando na lista.

@item compat41
Se configurado, Bash, quando em modo @sc{posix}, trata uma aspa simples 
em uma expansão de parâmetro dentro de aspas duplas como um carácter 
especial.   As aspas simples devem necessariamente coincidirem (um 
eventual número) e os caracteres entre as aspas simples são consideradas 
encapsuladas por aspas.   Esse é o comportamento do modo @sc{posix} 
durante a versão 4.1.
O comportamento padrão do Bash permanece como nas versões anteriores.

@item compat42
Se configurado, Bash não processa a sequência de caracteres de 
substituição na expansão de palavra de substituição de padrão utilizando 
remoção de aspas.

@item complete_fullquote
Se configurado, Bash encapsula entre aspas todos os meta-caracteres de 
shell em nomes de arquivo e em nomes de diretório quando da realização 
da completação.
Se não configurado, Bash remove meta-caracteres tais como o sinal de 
dólar do conjunto de caracteres que serão encapsulados entre aspas em 
nomes de arquivos completados quando esses meta-caracteres aparecerem em 
referências de variáveis de shell em palavras sejam completados.
Isso significa que os sinais de dólar em nomes de variáveis que expandam 
para diretórios não serão encapsulados em aspas; entretanto, quaisquer 
sinais de dólar que aparecerem em nomes de arquivo não serão 
encapsulados em aspas, entretanto.
Isso está ativo apenas quando bash está utilizando barras invertidas 
para encapsular em aspas nomes de arquivos completados.
Essa variável é configurada por padrão, o qual é o comportamento padrão 
de Bash em versões durante 4.2.

@item direxpand
Se configurado, Bash substitui os nomes de diretório com os resultados 
da expansão de palavra quando da realização da completação de nome de 
arquivo.   Isso modifica o conteúdo da área de edição do Readline.
Se não configurado, Bash tenta preservar o que o usuário digitou.

@item dirspell
Se configurado, Bash tenta a correção ortográfica em nomes de diretórios 
durante a completação de palavra se o nome de diretório inicialmente 
fornecido não existir.

@item dotglob
Se configurado, Bash inclui nomes de arquivo iniciando com um `.' nos 
resultados da expansão de nome de arquivo.

@item execfail
Se isso estiver configurado, um shell não interativo não sairá se ele 
não puder executar o arquivo especificado como um argumento para o 
comando interno @code{exec}.   Um shell interativo não sai se 
@code{exec} falha.

@item expand_aliases
Se configurado, apelidos são expandidos conforme descrito abaixo sob 
Apelidos, @ref{Apelidos}.
Essa opção está habilitada por padrão para shells interativos.

@item extdebug
Se configurado, o comportamento concebido para uso por depuradores é 
habilitado:

@enumerate
@item
A opção @option{-F} para o comando interno @code{declare} 
(veja-se @ref{Comandos Internos ao Bash}) exibe o nome do arquivo fonte e o número 
da linha correspondente a cada nome de função fornecida como um 
argumento.

@item
Se o comando executado pelo coletor @code{DEBUG} retornar um valor 
diferente de zero, então o próximo comando é ignorado e não executado.

@item
Se o comando executado pelo coletor @code{DEBUG} retornar o valor 2, e o 
shell estiver executando em uma sub-rotina (uma função de shell ou um 
script de shell executado pelos comandos internos @code{.} ou 
@code{source}, então uma chamada a @code{return} é simulada.

@item
@code{BASH_ARGC} e @code{BASH_ARGV} são atualizados conforme descrito 
nas descrições deles (veja-se @ref{Variáveis do Bash}).

@item
O rastreamento de função é habilitado: substituição de comando, funções 
de shell, e sub-shells invocados com @code{( @var{command} )} herdam os 
coletores @code{DEBUG} e @code{RETURN}.

@item
O rastreamento de erro é habilitado: substituição de comando, funções de 
shell, e sub-shells invocados com @code{( @var{command} )} herdam o 
coletor @code{ERR}.
@end enumerate

@item extglob

Se configurado, as características de coincidência estendida de padrões 
descritas acima (veja-se @ref{Coincidência de Modelo}) são habilitadas.

@item extquote
Se configurado, o encapsulamento de aspas @code{$'@var{string}'} e 
@code{$"@var{string}"} é realizado dentro de expansões 
@code{$@{@var{parameter}@}} encapsuladas em aspas duplas.   Essa opção é 
habilitada por padrão.

@item failglob
Se configurado. padrões os quais falham em coincidir nomes de arquivo 
durante a expansão de nome de arquivo resultam em um erro de expansão.

@item force_fignore
Se configurado, os sufixos especificados pela variável de shell 
@env{FIGNORE} fazem com que palavras sejam ignoradas quando da 
realização de completação de palavra ainda que as palavras ignoradas 
sejam as únicas completações possíveis.   Veja-se @ref{Variáveis do Bash}, 
para uma descrição de @env{FIGNORE}.
Essa opção está habilitada por padrão.

@item globasciiranges
Se configurado, as expressões de intervalo utilizadas em expressões de 
suporte de coincidência de padrão (veja-se @ref{Coincidência de Modelo}) se 
comportam como se estivesse no local C tradicional quando da realização 
de comparações.   Isto é, a sequência de colação de local atual não é 
levado em consideração, de forma que @samp{b} não cotejará entre 
@samp{A} e @samp{B}, e caracteres ASCII maiúsculos e minúsculos serão 
cotejados juntos.

@item globstar
Se configurado, o padrão @samp{**} utilizado em um contexto de expansão 
de nome de arquivo coincidirá com todos os arquivos e zero ou mais 
diretórios e subdiretórios.
Se o padrão for seguido por uma @samp{/}, então apenas diretórios e 
subdiretórios coincidem.

@item gnu_errfmt
Se configurado, as mensagens de erro do shell serão escritas no formato 
de mensagem de erro padrão @sc{gnu}.

@item histappend
Se configurado, a lista de histórico é acrescentada ao arquivo nominado 
pelo valor da variável @env{HISTFILE} quando o shell sair, ao invés de 
sobrescrever o arquivo.

@item histreedit
Se configurado, e Readline estiver sendo utilizada, ao usuário é dada a 
oportunidade de reeditar uma substituição de histórico que falhou.

@item histverify
Se configurado, e Readline estiver sendo utilizada, então os resultados 
da substituição de histórico não são imediatamente passadas para o 
analisador de shell.   Ao invés disso, a linha resultante é carregada na 
área de edição da Readline, permitindo maiores modificações.

@item hostcomplete
Se configurado, e Readline estiver sendo utilizada, então Bash tentará 
realizar uma completação de nome de máquina quando uma palavra contendo 
um @samp{@@} estiver sendo completada (veja-se @ref{Commands For 
Completion}).   Essa opção está habilitada por padrão.

@item huponexit
Se configurado, Bash enviará @code{SIGHUP} a todas as tarefas quando um 
shell de login interativo sair (veja-se @ref{Sinais}).

@item interactive_comments
Permite uma palavra iniciando com @samp{#}, fazendo com que essa palavra 
e todos os caracteres restantes naquela linha sejam ignorados em um 
shell interativo.
Essa opção está habilitada por padrão.

@item lastpipe
Se configurado, e o controle de tarefas não estiver ativo, o shell 
executa o último comando de um canal de comunicação não executado em 
segundo plano no ambiente de shell atual.

@item lithist
Se habilitado, e a opção @code{cmdhist} estiver habilitada, comandos de 
múltiplas linhas são salvos no histórico com marcadores de novas linhas 
embutidos ao invés de utilizar separadores de ponto e vírgula onde 
possível.

@item login_shell
O shell configura essa opção se ele (shell) foi inicializado como um 
shell de login (veja-se @ref{Invocando o Bash}).
O valor não pode ser modificado.

@item mailwarn
Se configurado, e um arquivo que Bash estiver verificando por 
correspondência eletrônica tiver sido acessado desde a última vez que 
ele foi acessado, então a mensagem @code{"A correspondência em 
@var{mailfile} foi lida"} é exibida.

@item no_empty_cmd_completion
Se configurado, e Readline estiver sendo utilizada, Bash não tentará 
procurar no @env{PATH} por possíveis completações quando a completação 
for tentada em uma linha vazia.

@item nocaseglob
Se configurado, Bash coincide nomes de arquivos de forma a ignorar a 
diferença entre maiúsculas e minúsculas quando da realização da expansão 
de nome de arquivo.

@item nocasematch
Se configurado, Bash coincide modelos de forma a ignorar a diferença 
entre maiúsculas e minúsculas quando da realização da operação de 
coincidência enquanto estiver executando os comandos condicionais 
@code{case} ou @code{[[}.

@item nullglob
Se configurado, Bash permite que modelos de nome de arquivo os quais não 
coincidem com nenhum arquivo sejam expandidos para uma sequência de 
caracteres nula, ao invés dos próprios modelos.

@item progcomp
Se configurado, as facilidades da completação programável 
(veja-se @ref{Programmable Completion}) são habilitadas.
Essa opção está habilitada por padrão.

@item promptvars
Se configurado, apresenta sequências de caracteres como prompt sujeitas 
a expansão de parâmetro, substituição de comando, expansão aritmética e 
remoção de aspas, após ser expandida conforme descrito abaixo 
(veja-se @ref{Controlando o Prompt}).
Essa opção está habilitada por padrão.

@item restricted_shell
O shell configura essa opção se ele for inicializado em modo restrito 
(veja-se @ref{O Shell Restrito}).
O valor não pode ser modificado.
Isso não é reconfigurado quando os arquivos de inicialização são 
executados, permitindo que os arquivos de inicialização descubram se o 
shell é restrito ou não.

@item shift_verbose
Se isso estiver configurado, então o comando interno @code{shift} 
imprime uma mensagem de erro quando a contagem de deslocamento exceder o 
número de parâmetros posicionais.

@item sourcepath
Se configurado, o comando interno @code{source} utiliza o valor de 
@env{PATH} para encontrar o diretório contendo o arquivo fornecido como 
um argumento.
Essa opção está habilitada por padrão.

@item xpg_echo
Se configurado, então o comando interno @code{echo} expande sequências 
de escape de barra invertida por padrão.

@end table

@noindent
O código de retorno quando da listagem de opções é zero se todos os 
@var{optnames} estiverem habilitados, e diferente de zero do contrário.
Quando configurando ou desconfigurando opções, o código de retorno é 
zero a menos que um @var{optname} não seja uma opção de shell válida.
@end table

@node Comandos Internos Especiais
@section Comandos Internos Especiais
@cindex special builtin

Por razões históricas, o padrão @sc{posix} classificou vários comandos 
internos como @emph{special}.
Quando Bash está executando no modo @sc{posix}, os comandos internos 
especiais diferem de outros comandos internos em três aspectos:

@enumerate
@item
Comandos internos especiais são encontrados antes das funções de shell 
durante a procura de comando.

@item
Se um comando interno especial retornar um código de erro, um shell não 
interativo sai.

@item
Declarações de atribuição precedendo o comando permanecem em efeito no 
ambiente do shell após o comando completar.
@end enumerate

Quando Bash não está executando no modo @sc{posix}, estes comandos 
internos se comportam sem nenhuma diferença do restante dos comandos 
internos ao Bash.
O modo @sc{posix} do Bash está descrito em @ref{O Modo POSIX de Bash}.

Estes são os comandos internos especiais do @sc{posix}:
@example
@w{break : . continue eval exec exit export readonly return set}
@w{shift trap unset}
@end example

@node Variáveis do Shell
@chapter Variáveis do Shell

@menu
* Variáveis do Shell Bourne::	Variáveis as quais Bash utiliza da mesma 
				forma que o Shell Bourne.
* Variáveis do Bash::		Lista de variáveis que existem no Bash.
@end menu

Este capítulo descreve as variáveis de shell que Bash utiliza.
Bash automaticamente atribui valores padrão a um número de variáveis.

@node Variáveis do Shell Bourne
@section Variáveis do Shell Bourne

Bash utiliza certas variáveis de shell da mesma maneira que o shell 
Bourne.
Em alguns casos, Bash atribui um valor padrão para a variável.

@vtable @code

@item CDPATH
Uma lista de diretórios separados por vírgula utilizado como um caminho 
de pesquisa para o comando interno @code{cd}.

@item HOME
O diretório home do usuário atual; o padrão para o comando interno 
@code{cd}.
O valor dessa variável também é utilizado pela expansão de til 
(veja-se @ref{Expansão de Til}).

@item IFS
Uma lista de caracteres que separam campos; utilizada quando o shell 
divide palavras como parte da expansão.

@item MAIL
Se esse parâmetro estiver configurado para um nome de arquivo ou nome de 
diretório e a variável @env{MAILPATH} não estiver configurada, Bash 
informa o usuário da chegada de correspondência no arquivo especificado 
ou no diretório no formato Maildir.

@item MAILPATH
Uma lista de nomes de arquivos, separados por vírgula, nos quais o shell 
periodicamente verifica a existência de correspondência nova.
Cada entrada da lista pode especificar a mensagem que é impressa quando 
uma correspondência nova chega no arquivo de correspondência, 
separando-se o nome de arquivo da mensagem com um @samp{?}.
Quando utilizado no texto da mensagem, @code{$_} expande para o nome do 
arquivo de correspondência atual.

@item OPTARG
O valor do último argumento opção processado pelo comando interno 
@code{getopts}.

@item OPTIND
O índice do último argumento opção processado pelo comando interno 
@code{getopts}.

@item PATH
Uma lista de diretórios separados por vírgula nos quais o shell busca 
por comandos.
Um nome de diretório de tamanho zero (nulo) no valor de @code{PATH} 
indica o diretório atual.
Um nome de diretório nulo pode aparecer como duas vírgulas adjacentes, 
ou como uma vírgula inicial ou final.

@item PS1
A sequência de caracteres primária de prompt.   O valor padrão é 
@samp{\s-\v\$ }.   Veja-se @ref{Controlando o Prompt}, para a lista 
completa de sequências de escape que são expandidas antes que @env{PS1} 
seja exibida.

@item PS2
A sequência de caracteres secundária de prompt.   O valor padrão é 
@samp{> }.

@end vtable

@node Variáveis do Bash
@section Variáveis do Bash

Estas variáveis são configuradas ou utilizadas por Bash, porém outros 
shells normalmente não tratam elas especialmente.

Umas poucas variáveis utilizadas por Bash estão descritas em diferentes 
capítulos: variáveis para controlar as facilidades de controle de 
tarefas (veja-se @ref{Variáveis do Controle de Tarefa}).

@vtable @code

@item BASH
O caminho completo utilizado para executar a instância atual de Bash.

@item BASHOPTS
Uma lista separada por vírgula das opções habilitadas de shell.   Cada 
palavra na lista é um argumento válido para a opção @option{-s} ao 
comando interno @code{shopt} (veja-se @ref{O Comando Interno Shopt}).
As opções que aparecem em @env{BASHOPTS} são aquelas relatadas como 
@samp{on} por @samp{shopt}.
Se essa variável estiver no ambiente quando Bash inicializar, então cada 
opção de shell na lista será habilitada antes da leitura de quaisquer 
arquivos de inicialização.   Essa variável é somente leitura.

@item BASHPID
Expande para o ID de processo do processo Bash atual.
Isso difere de @code{$$} sob certas circunstâncias, tais como sub-shells 
que não exigem que Bash seja reinicializado.

@item BASH_ALIASES
Uma variável de vetor associativo cujos membros correspondem à lista 
interna de apelidos conforme mantida pelo comando interno @code{alias}.
(veja-se @ref{Comandos Internos do Shell Bourne}).
Os elementos adicionados a esse vetor aparecem na lista de apelidos; 
desconfigurar elementos do vetor faz com que os apelidos sejam removidos 
da lista de apelidos.

@item BASH_ARGC
Uma variável de vetor cujos valores são o número de parâmetros em cada 
quadro da pilha de chamada de execução do bash atual.   O número de 
parâmetros para a sub-rotina atual (função de shell ou script executado 
com @code{.} ou @code{source}) está no topo da pilha.   Quando uma 
sub-rotina é executada, o número de parâmetros passado é empurrado em 
@code{BASH_ARGC}.
O shell configura @code{BASH_ARGC} somente quando estiver em modo de 
depuração estendido (veja-se @ref{O Comando Interno Shopt} para uma descrição 
da opção @code{extdebug} para o comando interno @code{shopt}).

@item BASH_ARGV
Um variável de vetor contendo todos os parâmetros na pilha de chamada de 
execução do bash atual.   O parâmetro final da última chamada de 
sub-rotina está no topo da pilha; o primeiro parâmetro da chamada inicial 
está embaixo.   Quando uma sub-rotina é executada, os parâmetros 
fornecidos são empurrados em @code{BASH_ARGV}.
O shell configura @code{BASH_ARGV} somente quando estiver em modo de 
depuração estendido (veja-se @ref{O Comando Interno Shopt} para uma descrição 
da opção @code{extdebug} para o comando interno @code{shopt}).

@item BASH_CMDS
Uma variável vetor associativo cujos membros correspondem à tabela de 
comandos do hash interno conforme mantida pelo comando interno 
@code{hash} (veja-se @ref{Comandos Internos do Shell Bourne}).
Os elementos adicionados a esse vetor aparecem na tabela de hash; 
desconfigurar elementos do vetor faz com que comandos sejam removidos da 
tabela de hash.

@item BASH_COMMAND
O comando atualmente sendo executado ou prestes a ser executado, a menos 
que o shell esteja executando um comando como resultado de um coletor, 
caso no qual é o comando em execução ao tempo do coletor.

@item BASH_COMPAT
O valor é utilizado para configurar o nível de compatibilidade do shell.
Veja-se @ref{O Comando Interno Shopt}, para uma descrição dos vários níveis de 
compatibilidade e os efeitos deles.
O valor pode ser um número decimal (por exemplo, 4.2) ou um inteiro (por 
exemplo, 42) correspondente ao nível de compatibilidade desejado.
Se @code{BASH_COMPAT} for desconfigurado ou configurado para a sequência 
de caracteres vazia, então o nível de compatibilidade é configurado para 
o padrão para a versão atual.
Se @code{BASH_COMPAT} for configurada para um valor que não seja um dos 
níveis de compatibilidade válidos, então o shell imprime uma mensagem de 
erro e configura o nível de compatibilidade para o padrão para a versão 
atual.
Os níveis de compatibilidade válidos correspondem às opções de 
compatibilidade aceitas pelo comando interno @code{shopt} descrito acima 
(por exemplo, @var{compat42} significa que 4.2 e 42 são valores 
válidos).
A versão atual também é um valor válido.

@item BASH_ENV
Se essa variável for configurada quando Bash for invocado para executar 
um script de shell, então o valor dela é expandido e utilizado como o 
nome de um arquivo de inicialização a ser lido antes de executar o 
script.   Veja-se @ref{Arquivos de Inicialização do Bash}.

@item BASH_EXECUTION_STRING
O argumento de comando para a opção de invocação @option{-c}.

@item BASH_LINENO
Uma variável de vetor cujos membros são os números de linha em arquivos 
fonte onde cada número correspondente de @var{FUNCNAME} foi invocado.
@code{$@{BASH_LINENO[$i]@}} é o número de linha no arquivo fonte 
(@code{$@{BASH_SOURCE[$i+1]@}}) onde @code{$@{FUNCNAME[$i]@}} foi 
chamado (ou @code{$@{BASH_LINENO[$i-1]@}} se referenciado dentro de uma 
outra função de shell).
Utilize @code{LINENO} para obter o número de linha atual.

@item BASH_REMATCH
Uma variável vetor cujos membros são atribuídos pelo operador binário 
@samp{=~} para o comando condicional @code{[[}
(veja-se @ref{Construtores Condicionais}).
O elemento com índice 0 é a porção da sequência de caracteres que 
coincide com a expressão regular inteira.
O elemento com índice @var{n} é a porção da sequência de caracteres que 
coincide com a @var{n}ésima sub-expressão nos parênteses.
Essa variável é somente leitura.

@item BASH_SOURCE
Uma variável vetor cujos membros são os nomes de arquivos fonte onde os 
nomes de função de shell correspondentes na variável vetor 
@code{FUNCNAME} estão definidos.
A função de shell @code{$@{FUNCNAME[$i]@}} está definida no arquivo 
@code{$@{BASH_SOURCE[$i]@}} e chamada a partir de 
@code{$@{BASH_SOURCE[$i+1]@}}

@item BASH_SUBSHELL
Incrementada de um dentro de cada sub-shell ou ambiente de sub-shell 
quando o shell inicia sua execução dentro daquele ambiente.
O valor inicial é 0.

@item BASH_VERSINFO
Uma variável vetor somente leitura (veja-se @ref{Vetores}) cujos membros 
mantém informação de versão para essa instância de Bash.
Os valores atribuídos aos membros do vetor são conforme a seguir:

@table @code

@item BASH_VERSINFO[0]
O número de versão maior (o @var{release}).

@item BASH_VERSINFO[1]
O número de versão menor (o @var{version}).

@item BASH_VERSINFO[2]
O nível de correção.

@item BASH_VERSINFO[3]
A versão de construção.

@item BASH_VERSINFO[4]
O estado de lançamento (por exemplo, @var{beta1}).

@item BASH_VERSINFO[5]
O valor de @env{MACHTYPE}.
@end table

@item BASH_VERSION
O número de versão da instância atual de Bash.

@item BASH_XTRACEFD
Se configurado para um número inteiro correspondente a um descritor de 
arquivo válido, então Bash escreverá a saída de rastreamento gerada 
quando @samp{set -x} for habilitada para aquele descritor de arquivo.
Isso permite que a saída de rastreamento seja separada das mensagens de 
diagnóstico e erro.
O descritor de arquivo é fechado quando @code{BASH_XTRACEFD} for 
desconfigurado ou um novo valor for atribuído.
Desconfigurar @code{BASH_XTRACEFD} ou lhe atribuir a sequência de 
caracteres vazia faz com que a saída de rastreamento seja enviada para a 
saída de erro padrão.
Note que configurar @code{BASH_XTRACEFD} para 2 (o descritor de arquivo 
de erro padrão) e então desconfigurá-lo resultará na saída de erro 
padrão ser fechada.

@item CHILD_MAX
Configura o número de valores de estado de processos filhos que saíram 
para que o shell se lembre.
Bash não permitirá que esse valor seja decrementado abaixo de um mínimo 
do obrigado pelo padrão @sc{posix}, e existe um valor minimo (atualmente 
8192) que isso não pode exceder.
O valor minimo é dependente de sistema.

@item COLUMNS
Utilizado pelo comando @code{select} para determinar a largura do 
terminal quando da impressão de listas de seleção.
Automaticamente configurado se a opção @code{checkwinsize} for 
habilitada (veja-se @ref{O Comando Interno Shopt}), ou em um shell interativo 
quando do recebimento de um @code{SIGWINCH}.

@item COMP_CWORD
Um índice em @env{$@{COMP_WORDS@}} de uma palavra contendo a posição 
atual do cursor.
Essa variável está disponível apenas em funções de shell invocadas pelas 
facilidades de completação programáveis (veja-se
@ref{Programmable Completion}).

@item COMP_LINE
A linha de comando atual.
Essa variável está disponível somente em funções de shell e comandos 
externos invocados pelas facilidades de completação programáveis
@ref{Programmable Completion}).

@item COMP_POINT
O índice da posição atual do cursor relativo ao inicio do comando atual.
Se a posição atual do cursor estiver no inicio do comando atual, então o 
valor dessa variável é igual a @code{$@{#COMP_LINE@}}.
Essa variável está disponível somente em funções de shell e comandos 
externos invocados pelas facilidades de completação programáveis
@ref{Programmable Completion}).

@item COMP_TYPE
Configurado para um valor inteiro correspondente ao tipo de completação 
tentada que fez com que uma função de completação fosse chamada:
@var{TAB}, para completação normal,
@samp{?}, para listagem de completações após sucessivos tabs,
@samp{!}, para listar alternativas sobre completação de palavra parcial,
@samp{@@}, para listar completações, se a palavra não estiver 
imodificada, ou
@samp{%}, para completação de menu.
Essa variável está disponível somente em funções de shell e comandos 
externos invocados pelas facilidades de completação programáveis
@ref{Programmable Completion}).

@item COMP_KEY
A chave (ou chave final de uma sequência de chave) utilizada para 
invocar a função de completação atual.

@item COMP_WORDBREAKS
O conjunto de caracteres que a biblioteca Readline trata como 
separadores de palavra quando da realização de completação de palavra.
Se @code{COMP_WORDBREAKS} estiver desconfigurada, então ela perde suas 
propriedades especiais, mesmo se ela for reconfigurada subsequentemente.

@item COMP_WORDS
Uma variável vetor consistente de palavras individuais na linha de 
comando atual.
A linha é dividida em palavras como Readline as dividiria, utilizando 
@code{COMP_WORDBREAKS} conforme descrito acima.
Essa variável está disponível somente em funções de shell invocadas 
pelas facilidades de completação programáveis (veja-se 
@ref{Programmable Completion}).

@item COMPREPLY
Uma variável vetor a partir de quem Bash lê as completações possíveis 
geradas por uma função de shell invocada pela facilidade de completação 
programável (veja-se @ref{Programmable Completion}).
Cada elemento do vetor contém uma possível completação.

@item COPROC
Uma variável vetor criada para manter os descritores de arquivo para 
saída de e entrada para um co-processo não nomeado 
(veja-se @ref{Coprocessos}).

@item DIRSTACK
Uma variável vetor contendo o conteúdo atual da pilha de diretório.
Diretórios aparecem na pilha na ordem que eles são exibidos pelo comando 
interno @code{dirs}.
A atribuição a membros dessa variável vetor pode ser utilizada para 
modificar diretórios que já estejam na pilha, porém os comandos internos 
@code{pushd} e @code{popd} devem necessariamente ser utilizados para 
adicionar e para remover diretórios.
A atribuição a essa variável não mudará o diretório atual.
Se @env{DIRSTACK} for desconfigurada, então ela perde suas propriedades 
especiais, mesmo se reconfigurada subsequentemente.

@item EMACS
Se Bash encontra essa variável no ambiente quando o shell inicializa com 
valor @samp{t}, então Bash assume que o shell está executando em um 
buffer de shell Emacs e desabilita a edição de linha.

@item ENV
Semelhante a @code{BASH_ENV}; utilizado quando o shell for invocado no 
modo @sc{posix} (veja-se @ref{O Modo POSIX de Bash}).

@item EUID
O id numérico de usuário efetivo do usuário atual.   Essa variável é 
somente leitura.

@item FCEDIT
O editor utilizado como um padrão para a opção @option{-e} para o 
comando interno @code{fc}.

@item FIGNORE
Uma lista separada por vírgula de sufixos a serem ignorados quando da 
realização da completação de nome de arquivo.
Um nome de arquivo cujo sufixo coincide com uma das entradas em 
@env{FIGNORE} é excluído da lista de nomes de arquivos coincididos. Um 
valor modelo é @samp{.o:~}

@item FUNCNAME
Uma variável vetor contendo os nomes de todas as funções de shell 
atualmente na pilha de chamada de execução.
O elemento com índice 0 é o nome de qualquer função de shell atualmente 
em execução.
O elemento mais embaixo (aquele com o índice mais alto) é @code{"main"}.
Essa variável existe somente quando uma função de shell está executando.
Atribuições a @env{FUNCNAME} não tem efeito e retornam um código de 
erro.
Se @env{FUNCNAME} for desconfigurada, então ela perde suas propriedades 
especiais, mesmo se for reconfigurada subsequentemente.

Essa variável pode ser utilizada com @code{BASH_LINENO} e 
@code{BASH_SOURCE}.
Cada elemento de @code{FUNCNAME} tem elementos correspondentes em 
@code{BASH_LINENO} e @code{BASH_SOURCE} para descrever a pilha de 
chamada.
Por exemplo, @code{$@{FUNCNAME[$i]@}} foi chamado a partir do arquivo 
@code{$@{BASH_SOURCE[$i+1]@}} na linha de número 
@code{$@{BASH_LINENO[$i]@}}.
O comando interno @code{caller} exibe a pilha de chamada atual 
utilizando essa informação.

@item FUNCNEST
Se configurada para um valor numérico maior que 0, define um nível 
máximo de aninhamento de função.   Invocações de função que excederem 
esse nível de aninhamento farão com que o comando atual aborte.

@item GLOBIGNORE
Uma lista separada por vírgula de padrões definidores do conjunto de 
nomes de arquivo a serem ignorados pela expansão de nome de arquivo.
Se um nome de arquivo coincidido por um modelo de expansão de nome de 
arquivo também coincide com um dos padrões em @env{GLOBIGNORE}, então 
esse nome de arquivo é removido da lista de coincidências.

@item GROUPS
Uma variável vetor contendo a lista de grupos dos quais o usuário atual 
é um membro.
Atribuições a @env{GROUPS} não tem efeito e retornam um código de erro.
Se @env{GROUPS} for desconfigurada, então ela perde as suas propriedades 
especiais, mesmo se for reconfigurada subsequentemente.

@item histchars
Até três caracteres os quais controlam a expansão de histórico, 
substituição rápida, e "tokenização" (veja-se
@ref{History Interaction}).
O primeiro carácter é o carácter de @var{history expansion}, isto é, o 
carácter que significa o início de uma expansão de histórico, 
normalmente @samp{!}.   O segundo carácter é o carácter que significa 
"substituição rápida" quando visto como o primeiro carácter em uma 
linha, normalmente @samp{^}.   O terceiro carácter opcional é o carácter 
que indica que o restante da linha é um comentário quando encontrado 
como o primeiro carácter de uma palavra, usualmente @samp{#}.   O 
carácter de comentário do histórico faz com que a substituição de 
histórico seja saltada para as palavras restantes na linha.   Isso não 
necessariamente faz com que o analisador do shell trate o resto da linha 
como um comentário.

@item HISTCMD
O número do histórico, ou índice na lista de histórico, do comando 
atual.   Se @env{HISTCMD} for desconfigurada, então ela perde suas 
propriedades especiais, mesmo se for reconfigurada subsequentemente.

@item HISTCONTROL
Uma lista de valores separados por vírgula que controlam como os 
comandos são salvos na lista de histórico.
Se a lista de valores inclui @samp{ignorespace}, então as linhas as 
quais começam com um carácter espaço não são salvas na lista de 
histórico.
Um valor de @samp{ignoredups} faz com que as linhas que coincidam com 
entradas prévias de histórico não sejam salvas.
Um valor de @samp{ignoreboth} é um atalho para @samp{ignorespace} e 
@samp{ignoredups}.
Um valor de @samp{erasedups} faz com que todas as linhas prévias que 
coincidam com a linha atual sejam removidas da lista de histórico antes 
que aquela linha seja salva.
Qualquer valor que não esteja na lista acima é ignorado.
Se @env{HISTCONTROL} for desconfigurada, ou não incluir um valor válido, 
então todas as linhas lidas pelo analisador do shell são salvas na lista 
de histórico, sujeito ao valor de @env{HISTIGNORE}.
A segunda e subsequentes linhas de um comando composto multilinha não 
são testadas, e são adicionadas ao histórico independentemente do valor 
de @env{HISTCONTROL}.

@item HISTFILE
O nome do arquivo para o qual o histórico de comando é salvo.   O valor 
padrão é @file{~/.bash_history}.

@item HISTFILESIZE
O número máximo de linhas contidas no arquivo de histórico.
Quando a essa variável é atribuído um valor, o arquivo de histórico é 
truncado, se necessário, para conter não mais que aquele número de 
linhas, removendo-se as entradas mais antigas.
O arquivo de histórico também é truncado para esse tamanho após 
escrevê-lo quando um shell sai.
Se o valor for 0, o arquivo de histórico é truncado para tamanho zero.
Os valores não numéricos e valores numéricos menores que zero inibem a 
truncagem.
O shell configura o valor padrão para o valor de @env{HISTSIZE} após a 
leitura de quaisquer arquivos de inicialização.

@item HISTIGNORE
Uma lista de padrões separados por vírgula utilizado para decidir quais 
linhas de comandos deveriam ser salvos na lista de histórico.   Cada 
padrão é ancorado no inicio da linha e deve necessariamente coincidir 
com a linha completa (nenhum @samp{*} implícito é adicionado).   Cada 
padrão é testado contra a linha após as checagens especificadas por 
@env{HISTCONTROL} serem aplicadas.   Em adição aos caracteres de 
coincidência de padrão normais do shell, @samp{&} coincide com a linha 
prévia de histórico.   @samp{&} pode ser encapsulada utilizando-se um 
barra invertida; a barra invertida é removida antes da tentativa de 
coincidência.
A segunda e subsequentes linhas de um comando composto multilinha não 
são testadas, e são adicionadas ao histórico independentemente do valor 
de @env{HISTIGNORE}.

@env{HISTIGNORE} inclui a função de @env{HISTCONTROL}.   Um padrão de 
@samp{&} é idêntico a @code{ignoredups}, e um padrão de @samp{[ ]*} é 
idêntico a @code{ignorespace}.   Combinando-se esses dois padrões, 
separando-se eles com um vírgula, implementa-se a funcionalidade de 
@code{ignoreboth}.

@item HISTSIZE
O número máximo de comandos a lembrar na lista de histórico.
Se o valor for 0, então os comandos não são salvos na lista de 
histórico.
Valores numéricos menores que zero resultam em cada comando sendo salvo 
na lista de histórico (não existe limite).
O shell configura o valor padrão para 500 após a leitura de quaisquer 
arquivos de configuração.

@item HISTTIMEFORMAT
Se essa variável estiver configurada e não for nula, então o valor dela 
é utilizado como uma sequência de caracteres de formato para 
@var{strftime} para imprimir a marca temporal associada com cada entrada 
de histórico exibida pelo comando interno @code{history}.
Se essa variável for configurada, então as marcas temporais são escritas 
no arquivo de histórico de forma que elas podem ser preservadas entre 
sessões de shell.
Isso utiliza o carácter de comentário de histórico para distinguir 
marcas temporais de outras linhas de histórico.

@item HOSTFILE
Contém o nome de um arquivo no mesmo formato que @file{/etc/hosts} que 
deveria ser lido quando o shell precisasse completar um nome de máquina.
A lista de possíveis completações de nomes de máquinas pode ser 
modificada enquanto o shell está em execução; na próxima vez que a 
completação de nome de máquina for tentada após o valor ser modificado, 
Bash adiciona o conteúdo do arquivo novo à lista existente.
Se @env{HOSTFILE} for configurada, porém não tiver valor, ou não nominar 
um arquivo legível, então Bash tenta ler @file{/etc/hosts} para obter a 
lista de possíveis completações de nomes de máquina.
Quando @env{HOSTFILE} for desconfigurada, a lista de nomes de máquina é 
limpa.

@item HOSTNAME
O nome da máquina atual.

@item HOSTTYPE
Uma sequência de caracteres descrevendo a máquina onde Bash está em 
execução.

@item IGNOREEOF
Controla a ação do shell quando do recebimento de um carácter @code{EOF} 
como a entrada única.   Se configurada, o valor denota o número de 
caracteres @code{EOF} consecutivos que podem ser lidos como o primeiro 
carácter em uma linha de entrada antes que o shell saia.   Se a variável 
existir, porém não tiver um valor numérico (ou não tiver valor), então o 
padrão é 10.
Se a variável não existir, então @code{EOF} significa o fim de entrada 
para o shell.   Isso está em efeito apenas para shell interativos.

@item INPUTRC
O nome do arquivo de inicialização de Readline, prevalecendo sobre o 
padrão @file{~/.inputrc}.

@item LANG
Utilizada para determinar a categoria de local para qualquer categoria 
não selecionada especialmente com uma variável inicializando com 
@code{LC_}.

@item LC_ALL
Essa variável prevalece sobre o valor de @env{LANG} e qualquer outra 
variável @code{LC_} especificando uma categoria de local.

@item LC_COLLATE
Essa variável determina a ordem de colação utilizada quando da ordenação 
dos resultados da expansão de nome de arquivo, e determina o 
comportamento de expressões de intervalo, classes de equivalência, e 
sequência de colacionamento dentro de expansão de nome de arquivo e 
coincidências de padrão (veja-se @ref{Expansão de Nome de Arquivo}).

@item LC_CTYPE
Essa variável determina a interpretação de caracteres e o comportamento 
de classes de caracteres dentro da expansão de nome de arquivo e 
coincidências de padrão (veja-se @ref{Expansão de Nome de Arquivo}).

@item LC_MESSAGES
Essa variável determina o local utilizado para traduzir sequências de 
caracteres encapsuladas entre aspas duplas precedidas por um @samp{$} 
(veja-se @ref{Tradução do Locale}).

@item LC_NUMERIC
Essa variável determina a categoria de local utilizada para formatação 
de números.

@item LINENO
O número da linha no script ou função de shell atualmente em execução.

@item LINES
Utilizada pelo comando @code{select} para determinar a largura da coluna 
para imprimir listas de seleção.
Automaticamente configurada se a opção @code{checkwinsize} estiver 
habilitada (veja-se @ref{O Comando Interno Shopt}), ou em um shell interativo 
quando do recebimento de um @code{SIGWINCH}.

@item MACHTYPE
Uma sequência de caracteres que descreve completamente o tipo de sistema 
no qual Bash está em execução, no formato  padrão @sc{gnu} 
@var{cpu-company-system}

@item MAILCHECK
Quão frequentemente (em segundos) que o shell deveria verificar a 
correspondência nos arquivos especificados nas variáveis @env{MAILPATH} 
ou @env{MAIL}.
O padrão é 60 segundos.   Quando for tempo da checagem da 
correspondência, o shell faz isso antes da exibição do prompt primário.
Se essa variável for desconfigurada, ou configurada para um valor que 
não seja um número maior que ou igual a zero, então o shell desabilita a 
checagem de correspondência.

@item MAPFILE
Uma variável vetor criada para manter o texto lido pelo comando interno 
@code{mapfile} quando nenhum nome de variável for fornecido.

@item OLDPWD
O diretório de trabalho prévio conforme configurado pelo comando interno 
@code{cd}.

@item OPTERR
Se configurado para o valor 1, então Bash exibe mensagens de erro 
geradas pelo comando interno @code{getopts}.

@item OSTYPE
Uma sequência de caracteres descrevendo o sistema operacional no qual 
Bash está em execução.

@item PIPESTATUS
Uma variável vetor (veja-se @ref{Vetores}) contendo uma lista de valores 
de códigos de saída originados de processos no canal de comunicação mais 
recentemente executado em segundo plano (o qual pode conter apenas um 
comando singular).

@item POSIXLY_CORRECT
Se essa variável estiver no ambiente quando Bash iniciar, então o shell 
entra no modo @sc{posix} (veja-se @ref{O Modo POSIX de Bash}) antes da 
leitura dos arquivos de inicialização, como se a opção de invocação 
@option{--posix} tivesse sido fornecida.
Se essa variável for configurada enquanto o shell estiver em execução, 
então Bash habilita o modo @sc{posix}, como se o comando
@example
@code{set -o posix}
@end example
@noindent
tivesse sido executado.

@item PPID
O @sc{id} de processo do processo pai do shell.   Essa variável é 
somente leitura.

@item PROMPT_COMMAND
Se configurada, o valor é interpretado como um comando a executar antes 
da impressão de cada prompt primário (@env{$PS1}).

@item PROMPT_DIRTRIM
Se configurada para um número maior que zero, então o valor é utilizado 
como o número de componentes finais de diretórios a reter quando da 
expansão dos escapes de sequência de caracteres de prompt @code{\w} e 
@code{\W} (veja-se @ref{Controlando o Prompt}).
Os caracteres removidos são substituídos com uma elipse.

@item PS3
O valor dessa variável é utilizado como o prompt para o comando 
@code{select}.   Se essa variável não estiver configurada, então o 
comando @code{select} sinaliza com @samp{#? }

@item PS4
O valor é o prompt impresso antes que a linha de comando seja ecoada 
quando a opção @option{-x} for configurada (veja-se
@ref{O Comando Interno Set}).
O primeiro carácter de @env{PS4} é replicado múltiplas vezes, conforme 
necessário, para indicar níveis múltiplos de sentido.
O padrão é @samp{+ }.

@item PWD
O diretório de trabalho atual conforme configurado pelo comando interno 
@code{cd}.

@item RANDOM
A cada vez que esse parâmetro é referenciado, um número inteiro entre 0 
e 32767 é gerado.   A atribuição de um valor a essa variável alimenta o 
gerador de número aleatórios.

@item READLINE_LINE
O conteúdo da memória intermediária de linha do Readline, para uso com 
@samp{bind -x} (veja-se @ref{Comandos Internos ao Bash}).

@item READLINE_POINT
A posição do ponto de inserção na memória intermediária de linha do 
Readline, para uso com @samp{bind -x} (veja-se @ref{Comandos Internos ao Bash}).

@item REPLY
A variável padrão para o comando interno @code{read}.

@item SECONDS
Essa variável expande para o número de segundos desde que o shell foi 
inicializado.   A atribuição a essa variável reconfigura a contagem para 
o valor atribuído, e o valor expandido se torna o valor atribuído mais o 
número de segundos desde a atribuição.

@item SHELL
O nome de caminho completo para o shell é mantido nessa variável de 
ambiente.
Se ela não for configurada quando o shell iniciar, então Bash atribui 
para ela o nome de caminho completo do shell de login do usuário atual.

@item SHELLOPTS
Uma lista separada por vírgula das opções habilitadas de shell.   Cada 
palavra na lista é um argumento válido para a opção @option{-o} para o 
comando interno @code{set} (veja-se @ref{O Comando Interno Set}).
As opções que aparecem em @env{SHELLOPTS} são aquelas relatadas como 
@samp{on} por @samp{set -o}.
Se essa variável estiver no ambiente quando Bash inicializar, então cada 
opção de shell na lista será habilitada antes da leitura de quaisquer 
arquivos de inicialização.   Essa variável é somente leitura.

@item SHLVL
Incrementada de um cada vez que uma instância nova de Bash for 
inicializada.   Isso é entendido para ser uma contagem de quão profundos 
os seus shells Bash estão aninhados.

@item TIMEFORMAT
O valor desse parâmetro é utilizado como uma sequência de caracteres de 
formato especificando como a informação de temporização para canais de 
comunicação com a palavra reservada @code{time} deveria ser exibida.
O carácter @samp{%} introduz uma sequência de escape que é expandida 
para um valor de tempo ou outra informação.
As sequências de escape e os significados delas são conforme segue; as 
chaves denotam porções opcionais.

@table @code

@item %%
Um @samp{%} literal.

@item %[@var{p}][l]R
O tempo decorrido em segundos.

@item %[@var{p}][l]U
O número de segundos de CPU gastos em modo de usuário.

@item %[@var{p}][l]S
O número de segundos de CPU gastos em modo de sistema.

@item %P
A percentagem de CPU, computada como (%U + %S) / %R.
@end table

O @var{p} opcional é um dígito especificando a precisão, o número de 
dígitos fracionários após um ponto decimal.
Um valor de 0 faz com que nenhum ponto decimal ou fração seja exibida.
No máximo três posições após o ponto decimal podem ser especificados; 
valores de @var{p} maiores que 3 são modificados para 3.
Se @var{p} não for especificado, então o valor 3 é utilizado.

O @code{l} opcional especifica um formato longo, incluindo minutos, da 
forma @var{MM}m@var{SS}.@var{FF}s.
O valor de @var{p} determina quando ou não a fração é incluída.

Se essa variável não for configurada, então Bash atua como se ela 
tivesse o valor
@example
@code{$'\nreal\t%3lR\nuser\t%3lU\nsys\t%3lS'}
@end example
Se o valor é nulo, então nenhuma informação de temporização é exibida.
Um marcador de nova linha final é adicionado quando a sequência de 
caracteres de formato for exibida.

@item TMOUT
Se configurada para um valor maior que zero, então @code{TMOUT} é 
tratada como o intervalo de tempo padrão para o comando interno 
@code{read} (veja-se @ref{Comandos Internos ao Bash}).
O comando @code{select} (veja-se @ref{Construtores Condicionais}) termina 
se a entrada não chegar após @code{TMOUT} segundos, quando a entrada 
estiver vindo de um terminal.

Em um shell interativo, o valor é interpretado como sendo o número de 
segundos a se aguardar por uma linha de entrada após a emissão do prompt 
primário.
Bash termina após aguardar por aquele número de segundos se uma linha 
completa de entrada não chegar.

@item TMPDIR
Se configurado, Bash utiliza o seu valor como o nome de um diretório no 
qual Bash cria arquivos temporários para o uso do shell.

@item UID
O id numérico real de usuário do usuário atual.   Essa variável é 
somente leitura.

@end vtable

@node Características de Bash
@chapter Características de Bash

Este capítulo descreve características únicas do Bash.

@menu
* Invocando o Bash::		Opções de linha de comando que você pode 
				dar ao Bash.
* Arquivos de Inicialização do Bash::		Quando e como Bash executa scripts.
* Shells Interativos::		O que é um shell interativo.
* Expressões Condicionais de Bash::	Rudimentos utilizados na 
				composição de expressões para o comando 
				interno @code{test}.
* Aritmética de Shell::		Aritmética sobre variáveis de shell.
* Apelidos::			Substituindo um comando por outro.
* Vetores::			Variáveis vetor.
* A Pilha de Diretório::		Histórico de diretórios visitados.
* Controlando o Prompt::	Personalizando as várias sequências de 
				caracteres de prompt.
* O Shell Restrito::	Um modo mais controlado de execução de 
				shell.
* O Modo POSIX de Bash::		Fazendo o Bash se comportar mais próximo 
				ao que o padrão POSIX especifica.
@end menu

@node Invocando o Bash
@section Invocando o Bash

@example
bash [long-opt] [-ir] [-abefhkmnptuvxdBCDHP] [-o @var{option}] [-O @var{shopt_option}] [@var{argument} @dots{}]
bash [long-opt] [-abefhkmnptuvxdBCDHP] [-o @var{option}] [-O @var{shopt_option}] -c @var{string} [@var{argument} @dots{}]
bash [long-opt] -s [-abefhkmnptuvxdBCDHP] [-o @var{option}] [-O @var{shopt_option}] [@var{argument} @dots{}]
@end example

Todas as opções de carácter simples utilizadas com o comando interno 
@code{set} (veja-se @ref{O Comando Interno Set}) podem ser utilizadas como 
opções quando o shell for invocado.
Adicionalmente, existem várias opções multi-carácter que você pode 
utilizar.   Essas opções devem necessariamente aparecer na linha de 
comando antes das opções de carácter simples serem reconhecidas.

@table @code
@item --debugger
Organiza para que o perfil de depurador seja executado antes que o shell 
inicialize.   Liga o modo estendido de depuração (veja-se
@ref{O Comando Interno Shopt} para uma descrição da opção @code{extdebug} para 
o comando interno @code{shopt}.

@item --dump-po-strings
Uma lista de todas as sequências de caracteres encapsuladas em aspas 
duplas precedida por @samp{$} é impressa na saída padrão no formato de 
arquivo PO (objeto portável) do @sc{gnu} @code{gettext}.
Equivalente a @option{-D} exceto para o formato de saída.

@item --dump-strings
Equivalente a @option{-D}.

@item --help
Exibe uma mensagem útil na saída padrão e sai com sucesso.

@item --init-file @var{filename}
@itemx --rcfile @var{filename}
Executa comandos originados de @var{filename} (ao invés de 
@file{~/.bashrc}) em um shell interativo.

@item --login
Equivalente a @option{-l}.

@item --noediting
Não utilizar a biblioteca @sc{gnu} Readline
(veja-se @ref{Edição de Linha de Comando}) para ler linhas de comando quando o 
shell for interativo.

@item --noprofile
Não carrega o arquivo de inicialização geral de sistema 
@file{/etc/profile} ou quaisquer dos arquivos pessoais de inicialização 
@file{~/.bash_profile}, @file{~/.bash_login}, ou @file{~/.profile} 
quando Bash for invocado como um shell de login.

@item --norc
Não lê o arquivo de inicialização @file{~/.bashrc} em um shell 
interativo.   Isso está ativado por padrão se o shell for invocado como 
@code{sh}.

@item --posix
Modifica o comportamento de Bash onde a operação padrão diferir do 
padrão @sc{posix} para coincidir com esse padrão.   Isso é entendido 
como um modo de fazer com que Bash se comporte como um super conjunto 
estrito daquele padrão.   Veja-se @ref{O Modo POSIX de Bash}, para uma 
descrição do modo @sc{posix} de Bash.

@item --restricted
Faz do shell um shell restrito (veja-se @ref{O Shell Restrito}).

@item --verbose
Equivalente a @option{-v}.   Imprime as linhas de entrada do shell 
conforme elas sejam lidas.

@item --version
Mostra informação de versão para esta instância de Bash na saída padrão e 
sai com sucesso.
@end table

Existem várias opções de carácter simples que podem ser fornecidas na 
invocação as quais não estão disponíveis com o comando interno 
@code{set}.

@table @code
@item -c
Lê e executa comandos a partir da primeira não opção @var{argument} após 
o processamento das opções, então sai.
Quaisquer argumentos remanescentes são atribuídos aos parâmetros 
posicionais, iniciando com @code{$0}.

@item -i
Força o shell a executar interativamente.   Os shell interativos estão 
descritos em @ref{Shells Interativos}.

@item -l
Faz com que este shell atue como se ele tivesse sido invocado 
diretamente por login.   Quando o shell for interativo, isso é 
equivalente a inicializar um shell de login com @samp{exec -l bash}.
Quando o shell não for interativo, os arquivos de inicialização de shell 
de login serão executados.
@samp{exec bash -l} ou @samp{exec bash --login} substituirão o shell 
atual com um shell de login de Bash.
Veja-se @ref{Arquivos de Inicialização do Bash}, para uma descrição do comportamento 
especial de um shell de login.

@item -r
Faz do shell um shell restrito (veja-se @ref{O Shell Restrito}).

@item -s
Se essa opção estiver presente, ou se nenhum argumento restar após o 
processamento de opção, então os comandos são lidos a partir da entrada 
padrão.
Essa opção permite que os parâmetros posicionais sejam configurados 
quando da invocação de um shell interativo.

@item -D
Uma lista de todas as sequências de caracteres encapsuladas em aspas 
duplas precedida por @samp{$} é impressa na saída padrão.
Essas são as sequências de caracteres que são objeto de tradução de 
linguagem quando o local atual não for @code{C} ou @code{POSIX} 
(veja-se @ref{Tradução do Locale}).
Isso implica a opção @option{-n}; nenhum comando será executado.

@item [-+]O [@var{shopt_option}]
@var{shopt_option} é uma das opções de shell aceitas pelo comando 
interno @code{shopt} (veja-se @ref{O Comando Interno Shopt}).
Se @var{shopt_option} estiver presente, então @option{-O} configura o 
valor dessa opção; @option{+O} desconfigura.
Se @var{shopt_option} não for fornecida, então os nomes e valores das 
opções de shell aceitas por @code{shopt} são impressas na saída padrão.
Se a opção de invocação for @option{+O}, então a saída é exibida em um 
formato que pode ser reutilizado como entrada.

@item --
Um @code{--} sinaliza o fim das opções e desabilita o processamento 
adicional de opção.
Quaisquer argumentos após o @code{--} são tratados como nomes de 
arquivos e argumentos.
@end table

@cindex login shell
Um shell de @emph{login} é um cujo primeiro carácter do argumento zero é 
@samp{-}, ou um invocado com a opção @option{--login}.

@cindex interactive shell
Um shell @emph{interactive} é um iniciado sem argumentos não opção, a 
menos que @option{-s} seja especificado, sem especificar a opção 
@option{-c}, e cuja saída e entrada são ambas conectadas a terminais 
(conforme determinado por @code{isatty(3)}), ou um iniciado com a opção 
@option{-i}.   Veja-se @ref{Shells Interativos}, para mais informação.

Se restarem argumentos após o processamento de opção, e nem a opção 
@option{-c} nem a @option{-s} forem fornecidas, então o primeiro 
argumento é presumido que seja o nome de um arquivo contendo comandos de 
shell (veja-se @ref{Scripts de Shell}).
Quando Bash for invocado dessa forma, @code{$0} é configurado para o 
nome do arquivo, e os parâmetros posicionais são configurados para os 
argumentos restantes.
Bash lê e executa comandos a partir desse arquivo, então sai.
O código de saída de Bash é o código de saída do último comando 
executado no script.   Se nenhum comando for executado, o código de 
saída é 0.

@node Arquivos de Inicialização do Bash
@section Arquivos de Inicialização do Bash
@cindex startup files

Esta seção descreve como Bash executa seus arquivos de inicialização.
Se quaisquer dos arquivos existirem, porém não puderem ser lidos, então 
Bash reporta um erro.
Os sinais de til são expandidos em nomes de arquivos conforme descrito 
acima sob Expansão de til (veja-se @ref{Expansão de Til}).

Shell interativos são descritos em @ref{Shells Interativos}.

@subsubheading Invocado como um shell de login interativo, ou com @option{--login}

Quando Bash for invocado como um shell de login interativo, ou como um 
shell não interativo com a opção @option{--login}, ele primeiro lê e 
executa comandos a partir do arquivo @file{/etc/profile}, se esse 
arquivo existir.
Após a leitura daquele arquivo, Bash procura por @file{~/.bash_profile}, 
@file{~/.bash_login}, e @file{~/.profile}, nessa exata ordem, e lê e 
executa comandos a partir do primeiro que existir e for legível.
A opção @option{--noprofile} pode ser utilizada quando o shell for 
inicializado para inibir esse comportamento.

Quando um shell de login sai, Bash lê e executa comandos a partir do 
arquivo @file{~/.bash_logout}, se ele existir.

@subsubheading Invocado como um shell interativo de não-login

Quando um shell interativo que não é um shell de login é inicializado, 
Bash lê e executa comandos a partir de @file{~/.bashrc}, se esse arquivo 
existir.
Isso pode ser inibido utilizando-se a opção @option{--norc}.
A opção @option{--rcfile @var{file}} forçará Bash a ler e executar 
comandos a partir de @var{file} ao invés de @file{~/.bashrc}.

Assim, tipicamente, o seu @file{~/.bash_profile} contém a linha
@example
@code{if [ -f ~/.bashrc ]; then . ~/.bashrc; fi}
@end example
@noindent
após (ou antes) quaisquer inicializações específicas de login.

@subsubheading Invocado não-interativamente

Quando Bash for inicializado não-interativamente, para executar um 
script de shell, por exemplo, ele procura pela variável @env{BASH_ENV} 
no ambiente, expande o valor dela se ela aparece lá, e utiliza o valor 
expandido como o nome de um arquivo a ler e executar.   Bash se comporta 
como se o comando seguinte fosse executado:
@example
@code{if [ -n "$BASH_ENV" ]; then . "$BASH_ENV"; fi}
@end example
@noindent
porém o valor da variável @env{PATH} não é utilizado para buscar pelo 
nome de arquivo.

Conforme informado acima, se um shell não-interativo for invocado com a 
opção @option{--login}, então Bash tenta ler e executar comandos a 
partir dos arquivos de inicialização de shell de login.

@subsubheading Invocado com nome @code{sh}

Se Bash for invocado com o nome @code{sh}, então ele tenta imitar o 
comportamento de inicialização de versões históricas de @code{sh} tão 
aproximadamente quanto for possível, enquanto se conformando ao padrão 
@sc{posix} também.

Quando invocado como um shell de login interativo, ou como um shell 
não-interativo com a opção @option{--login}, Bash primeiro tenta ler e 
executar comandos a partir de @file{/etc/profile} e @file{~/.profile}, 
nessa exata ordem.
A opção @option{--noprofile} pode ser utilizada para inibir esse 
comportamento.
Quando invocado como um shell interativo com o nome @code{sh}, Bash 
procura pela variável @env{ENV}, expande o valor dela se estiver 
definido, e utiliza o valor expandido como o nome de um arquivo a ler e 
executar.
Uma vez que um shell invocado como @code{sh} não tenta ler e executar 
comandos a partir de quaisquer outros arquivos de inicialização, a opção 
@option{--rcfile} não tem efeito.
Um shell não-interativo invocado com o nome @code{sh} não tenta ler 
quaisquer outros arquivos de inicialização.

Quando invocado como @code{sh}, Bash entra no modo @sc{posix} após os 
arquivos de inicialização serem lidos.

@subsubheading Invocado no modo @sc{posix}

Quando Bash for inicializado no modo @sc{posix}, como com a opção de 
linha de comando @option{--posix}, ele segue o padrão @sc{posix} para 
arquivos de inicialização.
Nesse modo, os shells interativos expandem a variável @env{ENV} e 
comandos são lidos e executados a partir do arquivo cujo nome for o 
valor expandido.
Nenhum outro arquivo de inicialização é lido.

@subsubheading Invocado por daemon de shell remoto

Bash tenta determinar quando está sendo executado com sua entrada padrão 
conectada a uma conexão de rede, como quando executado por daemon de 
shell remoto, usualmente @code{rshd}, ou o daemon de shell seguro 
@code{sshd}.
Se Bash determina que está sendo executado dessa forma, então ele lê e 
executa comandos a partir de @file{~/.bashrc}, se esse arquivo existir e 
for legível.
Bash não fará isso se invocado como @code{sh}.
A opção @option{--norc} pode ser utilizada para inibir esse 
comportamento, e a opção @option{--rcfile} pode ser utilizada para 
forçar que outro arquivo seja lido, porém nem @code{rshd} nem 
@code{sshd} geralmente invocam o shell com tais opções ou permitem que 
sejam especificadas.

@subsubheading Invocado com @sc{uid/gid}s efetiva and real diferentes

Se Bash for inicializado com o id de usuário efetivo (grupo) diferente 
do id de usuário real (grupo), e a opção @option{-p} não for fornecida, 
nenhum arquivo de inicialização é lido, funções de shell são herdadas do 
ambiente, as variáveis @env{SHELLOPTS}, @env{BASHOPTS}, @env{CDPATH}, e 
@env{GLOBIGNORE}, se elas aparecerem no ambiente, são ignoradas, e o id 
de usuário efetivo é configurado para o id de usuário real.
Se a opção @option{-p} for fornecida na invocação, então o comportamento 
de inicialização é o mesmo, porém o id de usuário efetivo não é 
reconfigurado.

@node Shells Interativos
@section Shells Interativos
@cindex interactive shell
@cindex shell, interactive

@menu
* O Que é um Shell Interativo?::	O que determina quando um shell 
é interativo.
* Este Shell é Interativo?::	Como dizer se um shell é interativo.
* Comportamento de Shell Interativo::	O que muda em um shell interativo?
@end menu

@node O Que é um Shell Interativo?
@subsection O Que é um Shell Interativo?

Um shell interativo é aquele inicializado sem argumentos não opção, a 
menos que @option{-s} seja especificada, sem especificar a opção 
@option{-c}, e cuja entrada e saída de erro estão ambas conectadas a 
terminais (conforme determinado por @code{isatty(3)}), ou aquele 
inicializado com a opção @option{-i}.

Um shell interativo geralmente lê a partir de e escreve para um terminal 
de usuário.

A opção de invocação @option{-s} pode ser utilizada para configurar os 
parâmetros posicionais quando um shell interativo for inicializado.

@node Este Shell é Interativo?
@subsection Este Shell é Interativo?

Para determinar dentro de um script de inicialização quando ou não Bash 
está executando interativamente, teste o valor do parâmetro especial 
@samp{-}.
Ele contém @code{i} quando o shell é interativo.   Por exemplo:

@example
case "$-" in
*i*)	echo This shell is interactive ;;
*)	echo This shell is not interactive ;;
esac
@end example

Alternativamente, scripts de inicialização podem examinar a variável 
@env{PS1}; ela é desconfigurada em shells não interativos, e configurada 
em shells interativos.   Assim:

@example
if [ -z "$PS1" ]; then
        echo This shell is not interactive
else
        echo This shell is interactive
fi
@end example

@node Comportamento de Shell Interativo
@subsection Comportamento de Shell Interativo

Quando o shell está executando interativamente, ele modifica o 
comportamento dele de várias maneiras.

@enumerate
@item
Arquivos de inicialização são lidos e executados conforme descrito em 
@ref{Arquivos de Inicialização do Bash}.

@item
O Controle de Tarefas (veja-se @ref{Controle de Tarefa}) é habilitado por 
padrão.   Quando o controle de tarefa está em efeito, Bash ignora os 
sinais de controle de tarefa gerados via teclado @code{SIGTTIN}, 
@code{SIGTTOU}, e @code{SIGTSTP}.

@item
Bash expande e exibe @env{PS1} antes de ler a primeira linha de um 
comando, e expande e exibe @env{PS2} antes de ler a segunda e 
subsequentes linhas de um comando multilinha.

@item
Bash executa o valor da variável @env{PROMPT_COMMAND} como um comando 
antes de imprimir o prompt primário, @env{$PS1} (veja-se
@ref{Variáveis do Bash}).

@item
Readline (veja-se @ref{Edição de Linha de Comando}) é utilizada para ler 
comandos a partir do terminal do usuário.

@item
Bash inspeciona o valor da opção @code{ignoreeof} para @code{set -o} ao 
invés de sair imediatamente quando receber um @code{EOF} na sua entrada 
padrão quando da leitura de um comando (veja-se @ref{O Comando Interno Set}).

@item
Histórico de Comandos (veja-se @ref{Bash History Facilities}) e expansão 
de histórico (veja-se @ref{History Interaction}) são habilitados por 
padrão.
Bash salvará o histórico de comandos no arquivo nomeado por 
@env{$HISTFILE} quando um shell com histórico habilitado sai.

@item
Expansão de Apelidos (veja-se @ref{Apelidos}) é realizado por padrão.

@item
Na ausência de quaisquer coletores, Bash ignora @code{SIGTERM}
(veja-se @ref{Sinais}).

@item
Na ausência de quaisquer coletores, @code{SIGINT} é capturada e 
manuseada (veja-se @ref{Sinais}).
@code{SIGINT} interromperá alguns comandos internos do shell.

@item
Um shell de login interativo envia um @code{SIGHUP} a todas as tarefas 
na saída se a opção de shell @code{huponexit} tiver sido habilitada
(veja-se @ref{Sinais}).

@item
A opção de invocação @option{-n} é ignorada, e @samp{set -n} não tem 
efeito (veja-se @ref{O Comando Interno Set}).

@item
Bash verificará a correspondência periodicamente, dependendo dos valores 
das variáveis de shell @env{MAIL}, @env{MAILPATH}, e @env{MAILCHECK}
(veja-se @ref{Variáveis do Bash}).

@item
Os erros de expansão, devido a referências a variáveis de shell não 
checadas após @samp{set -u} tiver sido habilitado, não fazem com que o 
shell saia (veja-se @ref{O Comando Interno Set}).

@item
O shell não sairá em erros de expansão causados por @var{var} sendo 
desconfigurada ou nula nas expansões @code{$@{@var{var}:?@var{word}@}}
(veja-se @ref{Expansão de Parâmetro de Shell}).

@item
Erros de redireção encontrados por comandos internos ao shell não farão 
com que o shell saia.

@item
Quando em execução no modo @sc{posix}, um comando interno especial que 
retornar um código de erro não fará com que o shell saia
(veja-se @ref{O Modo POSIX de Bash}).

@item
Um @code{exec} falho não fará com que o shell saia
(veja-se @ref{Comandos Internos do Shell Bourne}).

@item
Erros de sintaxe de analisador não fazem com que o shell saia.

@item
Correções ortográficas simples para argumentos de diretório para o 
comando interno @code{cd} estão habilitados por padrão (veja-se a 
descrição da opção @code{cdspell} para o comando interno @code{shopt} 
em @ref{O Comando Interno Shopt}).

@item
O shell verificará o valor da variável @env{TMOUT} e sai se um comando 
não for lido dentro do número especificado de segundos após a impressão 
de @env{$PS1} (veja-se @ref{Variáveis do Bash}).

@end enumerate

@node Expressões Condicionais de Bash
@section Expressões Condicionais de Bash
@cindex expressions, conditional

Expressões condicionais são utilizadas pelo comando composto @code{[[} e 
pelos comandos internos @code{test} e @code{[}.

Expressões podem ser unárias ou binárias.
Expressões unárias são frequentemente utilizadas para examinar a 
situação de um arquivo.
Existem operadores de sequências de caracteres e operadores de 
comparação numérica também.
Se o argumento @var{file} para um dos primários for da forma 
@file{/dev/fd/@var{N}}, então o descritor de arquivo @var{N} é 
verificado.
Se o argumento @var{file} para um dos primários for um destes: 
@file{/dev/stdin}, @file{/dev/stdout}, ou @file{/dev/stderr}, então o 
descritor 0, 1 ou 2, respectivamente, é verificado.

Quando utilizado com @code{[[}, os operadores @samp{<} e @samp{>} 
ordenam lexicograficamente utilizando o local atual.
O comando @code{test} emprega ordenamento ASCII.

menos que especificado de outra maneira, primários que operam sobre 
arquivos seguem links simbólicos e operam sobre o alvo do link, ao invés 
do próprio link.

@table @code
@item -a @var{file}
Verdadeiro se @var{file} existe.

@item -b @var{file}
Verdadeiro se @var{file} existe e for um arquivo especial de bloco.

@item -c @var{file}
Verdadeiro se @var{file} existe e for um arquivo especial de carácter.

@item -d @var{file}
Verdadeiro se @var{file} existe e for um diretório.

@item -e @var{file}
Verdadeiro se @var{file} existe.

@item -f @var{file}
Verdadeiro se @var{file} existe e for um arquivo regular.

@item -g @var{file}
Verdadeiro se @var{file} existe e seu bit do conjunto de id de grupo 
estiver configurado.

@item -h @var{file}
Verdadeiro se @var{file} existe e for um link simbólico.

@item -k @var{file}
Verdadeiro se @var{file} existe e seu bit "sticky" estiver configurado.

@item -p @var{file}
Verdadeiro se @var{file} existe e for um canal de comunicação nomeado 
(FIFO).

@item -r @var{file}
Verdadeiro se @var{file} existe e for legível.

@item -s @var{file}
Verdadeiro se @var{file} existe e tiver um tamanho maior que zero.

@item -t @var{fd}
Verdadeiro se o descritor de arquivo @var{fd} estiver aberto e se refere 
a um terminal.

@item -u @var{file}
Verdadeiro se @var{file} existe e seu bit do conjunto de id do usuário 
estiver configurado.

@item -w @var{file}
Verdadeiro se @var{file} existe e for possível a escrita.

@item -x @var{file}
Verdadeiro se @var{file} existe e for executável.

@item -G @var{file}
Verdadeiro se @var{file} existe e for de propriedade do id efetivo de 
grupo.

@item -L @var{file}
Verdadeiro se @var{file} existe e for um link simbólico.

@item -N @var{file}
Verdadeiro se @var{file} existe e tiver sido modificado desde 
quando ele foi lido mais recentemente.

@item -O @var{file}
Verdadeiro se @var{file} existe e for de propriedade do id efetivo de 
usuário.

@item -S @var{file}
Verdadeiro se @var{file} existe e for um socket.

@item @var{file1} -ef @var{file2}
Verdadeiro se @var{file1} e @var{file2} se referem aos mesmos números 
de dispositivo e inode.

@item @var{file1} -nt @var{file2}
Verdadeiro se @var{file1} for mais novo (de acordo com a data de 
modificação) que @var{file2}, ou se @var{file1} existe e @var{file2} 
não.

@item @var{file1} -ot @var{file2}
Verdadeiro se @var{file1} for mais antigo que @var{file2}, ou se 
@var{file2} existe e @var{file1} não.

@item -o @var{optname}
Verdadeiro se a opção de shell @var{optname} estiver habilitada.
A lista de opções aparece na descrição da opção @option{-o} para o 
comando interno @code{set} (veja-se @ref{O Comando Interno Set}).

@item -v @var{varname}
Verdadeiro se a variável de shell @var{varname} estiver configurada 
(tiver recebido um valor).

@item -R @var{varname}
Verdadeiro se a variável de shell @var{varname} estiver configurada e 
for uma referência de nome.

@item -z @var{string}
Verdadeiro se o comprimento de @var{string} for zero.

@item -n @var{string}
@itemx @var{string}
Verdadeiro se o comprimento de @var{string} for diferente de zero.

@item @var{string1} == @var{string2}
@itemx @var{string1} = @var{string2}
Verdadeiro se as sequências de caracteres forem iguais.
Quando utilizado com o comando @code{[[}, isso realiza a coincidência de 
padrão conforme descrito acima (veja-se @ref{Construtores Condicionais}).

@samp{=} deveria ser utilizado com o comando @code{test} para 
conformação com o padrão @sc{posix}.

@item @var{string1} != @var{string2}
Verdadeiro se as sequências de caracteres forem diferentes.

@item @var{string1} < @var{string2}
Verdadeiro se @var{string1} figurar antes de @var{string2} 
lexicograficamente.

@item @var{string1} > @var{string2}
Verdadeiro se @var{string1} figurar após @var{string2} 
lexicograficamente.

@item @var{arg1} OP @var{arg2}
@code{OP} is one of 
@samp{-eq}, @samp{-ne}, @samp{-lt}, @samp{-le}, @samp{-gt}, ou 
@samp{-ge}.
Esses operadores aritméticos binários retornam verdadeiro se @var{arg1} 
for igual a, diferente de, menor que, menor que ou igual a, maior que, 
ou maior que ou igual a @var{arg2}, respectivamente.   @var{Arg1} and 
@var{arg2} podem ser número inteiros positivos ou negativos.
@end table

@node Aritmética de Shell
@section Aritmética de Shell
@cindex arithmetic, shell
@cindex shell arithmetic
@cindex expressions, arithmetic
@cindex evaluation, arithmetic
@cindex arithmetic evaluation

O shell permite que expressões aritméticas sejam avaliadas, como uma das 
expansões de shell ou pelo @code{let} e a opção @option{-i} para os 
comandos internos @code{declare}.

A avaliação é feita em números inteiros de tamanho fixo sem verificação 
de excesso, apesar que a divisão por 0 é coletada e rotulada como um 
erro.
Os operadores e suas precedências, associatividade, e valores são os 
mesmos que na linguagem C.
A seguinte lista de operadores está agrupada em níveis de operadores de 
igual precedência.
Os níveis estão listados em ordem de precedência decrescente.

@table @code

@item @var{id}++ @var{id}--
variável pós-incremento e pós-decremento

@item ++@var{id} --@var{id}
variável pré-incremento e pré-decremento

@item - +
unário menos e mais

@item ! ~
lógico e negação bit a bit

@item **
exponenciação

@item * / %
multiplicação, divisão, restante

@item + -
adição, subtração

@item << >>
deslocamentos bit a bit a esquerda e a direita

@item <= >= < >
comparação

@item == !=
igualdade e desigualdade

@item &
E bit a bit

@item ^
OU exclusivo bit a bit

@item |
OU bit a bit

@item &&
E lógico

@item ||
OU lógico

@item expr ? expr : expr
operador condicional

@item = *= /= %= += -= <<= >>= &= ^= |=
atribuição

@item expr1 , expr2
vírgula
@end table

As variável do shell funcionam como operandos; expansão de parâmetro é 
realizada antes que a expressão seja avaliada.
Dentro de uma expressão, variáveis de shell também podem ser 
referenciadas pelo nome sem se utilizar a sintaxe de expansão de 
parâmetro.
Uma variável de shell que é nula ou desconfigurada dá como resultado 0 
quando referenciada pelo nome sem se utilizar a sintaxe de expansão de 
parâmetro.
O valor de uma variável é avaliado como uma expressão aritmética quando 
ela for referenciada, ou quando uma variável para a qual tenha sido dado 
o atributo @var{integer} utilizando @samp{declare -i} for atribuído um 
valor.
Um valor nulo resulta em 0.
Uma variável de shell precisa não ter o atributo @var{integer} dela 
ligado para ser utilizada em uma expressão.

Constantes com um 0 inicial são interpretadas como números octais.
Um @samp{0x} ou @samp{0X} denota um número hexadecimal.   Do contrário, 
os números tomam a forma [@var{base}@code{#}]@var{n}, onde o opcional 
@var{base} é um número decimal compreendido entre 2 e 64, representando 
a base aritmética, e @var{n} é um número na naquela base.
Se @var{base}@code{#} for omitida, então a base 10 é utilizada.
Quando se especificar @var{n}, os dígitos maiores que 9 são 
representados por letras minúsculas, pelas letras maiúsculas, @samp{@@}, 
e @samp{_}, nessa exata ordem.
Se @var{base} for menor que ou igual a 36, então as letras minúsculas e 
maiúsculas podem ser utilizadas indistintamente para representar 
números entre 10 e 35.

Os operadores são avaliados na ordem de precedência.   Sub-expressões 
entre parênteses são avaliadas primeiro e podem substituir as regras de 
precedência acima.

@node Apelidos
@section Apelidos
@cindex alias expansion

Apelidos @var{Apelidos} permitem que uma sequência de caracteres seja 
substituída por uma palavra quando forem utilizados como a primeira 
palavra de um comando simples.

O shell mantém uma lista dos apelidos, que podem ser configurados ou 
desconfigurados com os comandos internos @code{alias} e @code{unalias}.

A primeira palavra de cada comando simples, se não encapsulados entre 
aspas, é verificada para ser se ela tem um apelido.
Se tiver, essa palavra é substituída pelo texto do apelido.
Os caracteres @samp{/}, @samp{$}, @samp{`}, @samp{=} e quaisquer dos 
meta-caracteres do shell ou caracteres de encapsulamento de aspas 
listados acima podem não aparecer em um nome de apelido.
O texto de substituição pode conter qualquer entrada de shell válida, 
incluindo meta-caracteres de shell.
A primeira palavra do texto de substituição é testado para apelidos, 
porém uma palavra que for idêntica a um apelido sendo expandido não é 
expandida uma segunda vez.
Isso significa que alguém pode apelidar @code{ls} para @code{"ls -F"}, 
por exemplo, e Bash não tenta recursivamente expandir o texto de 
substituição.
Se o último carácter do valor do apelido for um @var{blank}, então a 
próxima palavra de comando seguinte ao apelido também é checada para 
expansão de apelido.

Os apelidos são criados e listados com o comando @code{alias}, e 
removidos com o comando @code{unalias}.

Não existe um mecanismo para se utilizar argumentos em um texto de 
substituição, como em @code{csh}.
Se argumentos forem necessários, então uma função de shell deveria ser 
utilizada (veja-se @ref{Funções de Shell}).

Os apelidos não são expandidos quando o shell não é interativo, a menos 
que a opção de shell @code{expand_aliases} seja configurada utilizando 
@code{shopt} (veja-se @ref{O Comando Interno Shopt}).

As regras relativas à definição e uso de apelidos são de alguma maneira 
confusas.   Bash sempre lê pelo menos uma linha completa de entrada 
antes de executar quaisquer dos comandos naquela linha.   Os apelidos 
são expandidos quando um comando é lido, não quando ele é executado.
Portanto, uma definição de apelido que aparece na mesmo linha como um 
outro comando não tem efeito até que a próxima linha de entrada seja 
lida.
Os comandos que se seguirem à definição de apelidos naquela linha não 
são afetados pelo novo apelido.
Esse comportamento também é um problema quando funções são executadas.
Apelidos são expandidos quando uma definição de função é lida, não 
quando a função é executada, pois uma definição de função é ela própria 
um comando composto.   Como uma consequência, apelidos definidos em uma 
função não estão disponíveis até após aquela função ser executada.   Por 
segurança, sempre coloque definições de apelidos em uma linha separada, 
e não utilize @code{alias} em comandos compostos.

Para quase todos os propósitos, as funções de shell são preferidas a 
apelidos.

@node Vetores
@section Vetores
@cindex arrays

Bash provê variáveis vetor indexado unidimensional e associativo.
Qualquer variável pode ser utilizada como um vetor indexado; o comando 
interno @code{declare} explicitamente declarará um vetor.
Não existe limite máximo para o tamanho de um vetor, nem qualquer 
exigência de que os membros sejam indexados ou atribuídos contiguamente.
Os vetores indexados são referenciados utilizando-se números inteiros 
(incluindo expressões aritméticas (veja-se @ref{Aritmética de Shell}) e são 
baseados em zero; vetores associativos utilizam sequências de caracteres 
arbitrárias.
A menos que informado do contrário, os índices de vetor indexado devem 
necessariamente ser números inteiros não negativos.

Um vetor indexado é criado automaticamente se qualquer variável for 
atribuída a ele utilizando-se a sintaxe
@example
@var{name}[@var{subscript}]=@var{value}
@end example

@noindent
O @var{subscript} é tratado como uma expressão aritmética que deve 
necessariamente resultar em um número.
Para explicitamente declarar um vetor, utilize
@example
declare -a @var{name}
@end example
@noindent
A sintaxe
@example
declare -a @var{name}[@var{subscript}]
@end example
@noindent
também é aceita; o @var{subscript} é ignorado.

@noindent
Vetores associativos são criados utilizando-se
@example
declare -A @var{name}.
@end example

Atributos podem ser especificados para uma variável vetor utilizando-se 
os comandos internos @code{declare} e @code{readonly}.   Cada atributo 
se aplica a todos os membros de um vetor.

Vetores recebem valores utilizando-se atribuições compostas da forma
@example
@var{name}=(@var{value1} @var{value2} @dots{} )
@end example
@noindent
onde cada @var{value} é da forma @code{[@var{subscript}]=}@var{string}.
Atribuições de vetor indexado não exigem nada exceto @var{string}.
Quando da atribuição a vetores indexados, se o sub-script opcional for 
fornecido, então aquele índice recebe a atribuição; do contrário o 
índice do elemento atribuído é o último índice atribuído pela declaração 
mais um.   A indexação inicia no zero.

Quando da atribuição a um vetor associativo, o sub-script é exigido.

Essa sintaxe também é aceita pelo comando interno @code{declare}.
Pode-se atribuir valores aos elementos individuais de um vetor 
utilizando-se a sintaxe @code{@var{name}[@var{subscript}]=@var{value}} 
apresentada acima.

Quando da atribuição a um vetor indexado, se @var{name} for subscrita 
por um número negativo, então esse número é interpretado como relativo a 
um maior que o índice máximo de @var{name}, de maneira que índices 
negativos contam do final do vetor para o início, e um índice de -1 faz 
referência ao último elemento.

Qualquer elemento de um vetor pode ser referenciado utilizando-se
@code{$@{@var{name}[@var{subscript}]@}}.
As chaves são exigidas para se evitar conflitos com os operadores de 
expansão de nome de arquivo do shell.   Se o @var{subscript} for 
@samp{@@} ou @samp{*}, então a palavra expande para todos os membros do 
vetor @var{name}.   Esses subscritos diferem somente quando a palavra 
aparece dentro de aspas duplas.
Se a palavra estiver encapsulada em aspas duplas, então 
@code{$@{@var{name}[*]@}} expande para um palavra singular com o valor 
de cada membro do vetor separado pelo primeiro carácter da variável 
@env{IFS}, e @code{$@{@var{name}[@@]@}} expande cada elemento de 
@var{name} para uma palavra separada.   Quando não existem membros do 
vetor, @code{$@{@var{name}[@@]@}} expande para nada.
Se a expansão de aspas duplas ocorre dentro de uma palavra, então a 
expansão do primeiro parâmetro é anexado com a parte inicial da palavra 
original, e a expansão do último parâmetro é anexado com a última parte 
da palavra original.
Isso é análogo à expansão dos parâmetros especiais @samp{@@} e @samp{*}.
@code{$@{#@var{name}[@var{subscript}]@}} expande para o comprimento de
@code{$@{@var{name}[@var{subscript}]@}}.
Se @var{subscript} for @samp{@@} ou @samp{*}, então a expansão é o 
número de elementos no vetor.
O referenciamento a uma variável vetor sem um subscrito é equivalente a 
referenciar com um subscrito 0.
Se o @var{subscript} utilizado para referenciar um elemento de um vetor 
indexado resultar em um número menor que zero, então ele é interpretado 
como relativo a um maior que o índice máximo do vetor, de forma que 
índices negativos contam do final do vetor para o seu início, e um 
índice de -1 se refere ao último elemento.

Uma variável vetor é considerada configurada se um subscrito tiver sido 
atribuído ao valor.   A sequência de caracteres nula é um valor válido.

É possível se obter as chaves (índices) de um vetor bem os valores.
$@{!@var{name}[@@]@} e $@{!@var{name}[*]@} expandem para os índices 
atribuídos na variável de vetor @var{name}.
O tratamento quando em aspas duplas é semelhante ao da expansão dos 
parâmetros especiais @samp{@@} e @samp{*} dentro de aspas duplas.

O comando interno @code{unset} é utilizado para destruir vetores.
@code{unset @var{name}[@var{subscript}]} destrói o elemento do vetor no 
índice @var{subscript}.
Subscritos negativos para vetores indexados são interpretados conforme 
descrito acima.
Deve-se necessariamente tomar cuidado para se evitar efeitos colaterais 
indesejados causados pela expansão de nome de arquivo.
@code{unset @var{name}}, onde @var{name} é um vetor, remove o vetor 
inteiro.   Um subscrito de @samp{*} ou @samp{@@} também remove o vetor 
inteiro.

Os comandos internos @code{declare}, @code{local}, e @code{readonly} 
cada aceitam uma opção @option{-a} para especificar um vetor indexado e 
uma opção @option{-A} para especificar um vetor associativo.
Se ambas as opções forem fornecidas, então @option{-A} tem a 
precedência.
O comando interno @code{read} aceita uma opção @option{-a} para se 
atribuir uma lista de palavras lida a partir da entrada padrão para um 
vetor, e pode ler valores a partir da entrada padrão para elementos 
individuais do vetor.   Os comandos internos @code{set} e @code{declare} 
exibem valores do vetor de uma forma que permite que se possa 
reutilizá-los como entrada.

@node A Pilha de Diretório
@section A Pilha de Diretório
@cindex directory stack

@menu
* Comandos Internos da Pilha de Diretório::		Comandos internos do Bash para 
					manipular a pilha de diretório.
@end menu

A pilha de diretório é uma lista de diretórios recentemente visitados.
O comando interno @code{pushd} adiciona diretório à pilha conforme ele 
muda o diretório atual, e o comando interno @code{popd} remove os 
diretórios especificados da pilha e muda o diretório atual para o 
diretório removido.   O comando interno @code{dirs} exibe o conteúdo da 
pilha de diretório.

O conteúdo da pilha de diretório também é visível como o valor da 
variável de shell @env{DIRSTACK}.

@node Comandos Internos da Pilha de Diretório
@subsection Comandos Internos da Pilha de Diretório

@table @code

@item dirs
@btindex dirs
@example
dirs [-clpv] [+@var{N} | -@var{N}]
@end example

Exibe a lista dos diretórios atualmente lembrados.   Os diretórios são 
adicionados à lista com o comando @code{pushd}; o comando @code{popd} 
remove diretórios da lista.

@table @code
@item -c
Limpa a pilha de diretório deletando todos os elementos.
@item -l
Produz uma listagem utilizando nomes de caminho completos;
o formato padrão de listagem utiliza um til para denotar o diretório 
home.
@item -p
Faz com @code{dirs} imprima a pilha de diretório com uma entrada por 
linha.
@item -v
Faz com que @code{dirs} imprima a pilha de diretório com uma entrada por 
linha, prefixando cada entrada com seu índice na pilha.
@item +@var{N}
Exibe o @var{N}ésimo diretório (contando-se a partir da esquerda da 
lista impressa por @code{dirs} quando invocado sem opções), iniciando 
com zero.
@item -@var{N}
Exibe o @var{N}ésimo diretório (contando-se a partir da direita da lista 
impressa por @code{dirs} quando invocado sem opções), iniciando com 
zero.
@end table

@item popd
@btindex popd
@example
popd [-n] [+@var{N} | -@var{N}]
@end example

Remove a entrada topo da pilha de diretório, e muda (@code{cd}) para o 
novo diretório topo.
Quando nenhum argumento é dado, @code{popd} remove o diretório topo da 
pilha e realiza um @code{cd} para o novo diretório topo.   Os elementos 
são numerados a partir do 0 iniciando no primeiro diretório listado com 
@code{dirs}; isto é, @code{popd} é equivalente a @code{popd +0}.

@table @code
@item -n
Suprime a mudança normal de diretório quando da remoção de diretórios da 
pilha, de forma que somente a pilha é manipulada.
@item +@var{N}
Remove o @var{N}ésimo diretório (contando-se a partir da esquerda da 
lista impressa por @code{dirs}), iniciando com zero.
@item -@var{N}
Remove o @var{N}ésimo diretório (contando-se a partir da direita da 
lista impressa por @code{dirs}), iniciando com zero.
@end table

@btindex pushd
@item pushd
@example
pushd [-n] [@var{+N} | @var{-N} | @var{dir}]
@end example

Salva o diretório atual o topo da pilha de diretório e então muda 
(@code{cd}) para @var{dir}.
Sem argumentos, @code{pushd} permuta os dois diretórios topo.

@table @code
@item -n
Suprime a mudança normal de diretório quando da adição de diretórios à 
pilha, de forma que somente a pilha é manipulada.
@item +@var{N}
Traz o @var{N}ésimo diretório (contando-se a partir da esquerda da lista 
impressa por @code{dirs}, iniciando com zero) para o topo da lista 
rotacionando a pilha.
@item -@var{N}
Traz o @var{N}ésimo diretório (contando-se a partir da esquerda da lista 
impressa por @code{dirs}, iniciando com zero) para o topo da lista 
rotacionando a pilha.
@item @var{dir}
Faz com que o diretório de trabalho atual seja o topo da pilha, 
tornando-o o novo diretório atual, como se tal diretório tivesse sido 
fornecido como um argumento para o comando interno @code{cd}.
@end table
@end table

@node Controlando o Prompt
@section Controlando o Prompt
@cindex prompting

O valor da variável @env{PROMPT_COMMAND} é examinado um pouco antes que 
Bash imprima cada prompt primário.   Se @env{PROMPT_COMMAND} estiver 
configurada e tiver um valor não nulo, então o valor é executado 
exatamente como se tal valor tivesse sido digitado na linha de comando.

Adicionalmente, a tabela seguinte descreve os caracteres especiais os 
quais podem aparecer nas variáveis de prompt @env{PS1} até @env{PS4}:

@table @code
@item \a
Um carácter de sino.
@item \d
A data, no formato "Dia da Semana Mês Dia" (por exemplo, "Terça Maio 
26").
@item \D@{@var{format}@}
O @var{format} é passado para @code{strftime}(3) e o resultado é 
inserido na sequência de caracteres de prompt; um @var{format} vazio 
resulta em uma representação de hora específica do local.  As chaves 
são exigidas.
@item \e
Um carácter de escape.
@item \h
O nome da máquina, até o primeiro `.'.
@item \H
O nome da máquina.
@item \j
O número de tarefas atualmente gerenciadas pelo shell.
@item \l
O nome de base do nome de dispositivo de terminal do shell.
@item \n
Uma linha nova.
@item \r
Um retorno de carro.
@item \s
O nome do shell, o nome de base de @code{$0} (a porção seguinte à barra 
final).
@item \t
A hora, no formato 24 horas HH:MM:SS
@item \T
A hora, no formato 12 horas HH:MM:SS
@item \@@
A hora, no formato 12 horas am/pm
@item \A
A hora, no formato 24 horas HH:MM
@item \u
O nome de usuário do usuário atual.
@item \v
A versão de Bash (por exemplo, 2.00)
@item \V
A versão de lançamento de Bash, versão + nível de correção (por exemplo, 
2.00.0)
@item \w
O diretório de trabalho atual, com @env{$HOME} abreviada com um til 
(utiliza a variável @env{$PROMPT_DIRTRIM}).
@item \W
O nome de base de @env{$PWD}, com @env{$HOME} abreviada com um til.
@item \!
O número de histórico desse comando.
@item \#
O número de comando desse comando.
@item \$
Se o uid efetivo for 0, @code{#}, do contrário @code{$}.
@item \@var{nnn}
O carácter cujo código ASCII for o valor octal @var{nnn}.
@item \\
Uma barra invertida.
@item \[
Inicia uma sequência de caracteres não imprimíveis.  Isso poderia ser 
utilizado para embutir uma sequência de controle de terminal no prompt.
@item \]
Finaliza uma sequência de caracteres não imprimíveis.
@end table

O número de comando e o número de histórico são usualmente diferentes: o 
número de histórico de um comando é a posição dele na lista de 
histórico, a qual pode incluir comandos restaurados a partir do arquivo 
de histórico (veja-se @ref{Bash History Facilities}), enquanto que o 
número de comando é a posição na sequência de comandos executada durante 
a atual sessão do shell.

Após a string ser decodificada, ela é expandida via expansão de 
parâmetro, substituição de comando, expansão aritmética, e remoção de 
aspas, sujeito ao valor da opção de shell @code{promptvars}
(veja-se @ref{Comandos Internos ao Bash}).

@node O Shell Restrito
@section O Shell Restrito
@cindex restricted shell

Se Bash for inicializado com o nome @code{rbash}, ou a opção 
@option{--restricted} ou @option{-r} for fornecida na invocação, então o 
shell se torna restrito.
Um shell restrito é utilizado para configurar um ambiente mais 
controlado que o shell padrão.
Um shell restrito se comporta identicamente a @code{bash} com exceção 
que o seguinte é proibido ou não realizado:

@itemize @bullet
@item
Mudança de diretórios com o comando interno @code{cd}.
@item
Configurar ou desconfigurar os valor das variáveis @env{SHELL}, 
@env{PATH}, @env{ENV}, ou @env{BASH_ENV}.
@item
Especificação de nomes de comandos contendo barras.
@item
Especificação de um nome de arquivo contendo uma barra como um argumento 
para o comando interno @code{.}
@item
Especificação de um nome de arquivo contendo uma barra como um argumento 
para a opção @option{-p} para o comando interno @code{hash}.
@item
Importação de definições de função a partir do ambiente de shell na 
inicialização.
@item
Análise do valor de @env{SHELLOPTS} a partir do ambiente de shell na 
inicialização.
@item
Redirecionamento de saída utilizando-se os operadores de redireção 
@samp{>}, @samp{>|}, @samp{<>}, @samp{>&}, @samp{&>}, e @samp{>>}.
@item
Utilização do comando interno @code{exec} para substituir o shell com um 
outro comando.
@item
Adicionar ou deletar comandos internos com as opções @option{-f} e 
@option{-d} para o comando interno @code{enable}.
@item
Utilizar o comando interno @code{enable} para habilitar comandos 
internos de shell desabilitados.
@item
Especificar a opção @option{-p} para o comando interno @code{command}.
@item
Desligar o modo restrito com @samp{set +r} ou @samp{set +o restricted}.
@end itemize

Essas restrições são aplicadas após quaisquer arquivos de inicialização 
serem lidos.

Quando um comando que for encontrado como sendo um script de shell é 
executado (veja-se @ref{Scripts de Shell}), @code{rbash} desliga quaisquer 
restrições no shell gerado para executar o script.

@node O Modo POSIX de Bash
@section O Modo POSIX de Bash
@cindex POSIX Mode

Inicializar Bash com a opção de linha de comando @option{--posix}, ou 
executar @samp{set -o posix} enquanto Bash estiver em execução, fará com 
que Bash se conforme mais proximamente ao padrão @sc{posix}, modificando 
o comportamento para coincidir com aquele especificado por @sc{posix} em 
áreas onde o padrão Bash difere.

Quando invocado como @code{sh}, Bash entra no modo @sc{posix} após a 
leitura dos arquivos de inicialização.

A seguinte lista é aquilo que é modificado quando `modo @sc{posix}' está 
em efeito:

@enumerate
@item
Quando um comando na tabela hash não existe mais, Bash re-pesquisará 
@env{$PATH} para encontrar a localização nova.   Isso também está 
disponível com @samp{shopt -s checkhash}.

@item
A mensagem impressa pelo código de controle de tarefa e comandos 
internos quando uma tarefa sai com um código diferente de zero é 
`Done(status)'.

@item
A mensagem impressa pelo código de controle de tarefa e comandos 
internos quando uma tarefa é parada é `Stopped(@var{signame})', onde 
@var{signame} é, por exemplo, @code{SIGTSTP}.

@item
O comando interno @code{bg} utiliza o formato exigido para descrever 
cada tarefa colocada em segundo plano, o qual não inclui uma indicação 
de quando a tarefa é a tarefa atual ou prévia.

@item
As palavras reservadas que aparecerem em um contexto onde palavras 
reservadas são reconhecidas não se sujeitam a expansão de apelidos.

@item
As expansões @sc{posix} @env{PS1} e @env{PS2} de @samp{!} para o número 
de histórico e @samp{!!} para @samp{!} são habilitadas, e a expansão de 
parâmetro é realizada sobre os valores de @env{PS1} e @env{PS2}, 
independentemente da configuração da opção @code{promptvars}.

@item
Os arquivos de inicialização @sc{posix} são executados (@env{$ENV}) ao 
invés dos arquivos normais de Bash.

@item
A expansão de til somente é realizada sobre atribuições precedendo um 
nome de comando, ao invés de sobre todas as declarações de atribuição na 
linha.

@item
O comando interno @code{command} não previne comandos internos, que 
tomem declarações de atribuição como argumentos, da expansão deles como 
declarações de atribuição; quando não em modo @sc{posix}, comandos 
internos de atribuição perdem as suas propriedades de expansão de 
declaração de atribuição, quando precedidos por @code{command}.

@item
O arquivo de histórico padrão é @file{~/.sh_history} (isso é o valor 
padrão de @env{$HISTFILE}).

@item
A saída de @samp{kill -l} imprime todos os nomes de sinal em uma linha 
única, separados por espaços, sem o prefixo @samp{SIG}.

@item
O comando interno @code{kill} não aceita nomes de sinal com o prefixo 
@samp{SIG}.

@item
Os shell não interativos saem se @var{filename} em @code{.} 
@var{filename} não seja encontrado.

@item
Os shells não interativos saem se um erro de sintaxe em uma expansão 
aritmética resultar em uma expressão inválida.

@item
Os shells não interativos saem se existir um erro de sintaxe em um 
script lido com os comandos internos @code{.} ou @code{source}, ou em 
uma sequência de caracteres processada pelo comando interno @code{eval}.

@item
Os operadores de redireção não realizam expansão de nome de arquivo 
sobre a palavra na redireção a menos que o shell seja interativo.

@item
Os operadores de redireção não realizam partição de palavra sobre a 
palavra na redireção.

@item
Os nomes de função devem necessariamente ser @code{name}s válidos de 
shell.   Isto é, eles não podem conter outros caracteres que não letras, 
dígitos, e sublinhados, e não podem iniciar com um dígito.   Declarar uma 
função com um nome inválido causa um erro fatal de sintaxe em shells não 
interativos.

@item
Os nomes de função não podem ser os mesmos que os de algum dos comandos 
internos @sc{posix} especiais.

@item
Os comandos internos @sc{posix} especiais são encontrados antes das 
funções de shell durante a procura de comando.

@item
A palavra reservada @code{time} pode ser utilizada por ela mesma como um 
comando.   Quando utilizada dessa maneira, ela exibe estatísticas de 
temporização para o shell e seus filhos completados.   A variável 
@env{TIMEFORMAT} controla o formato da informação de temporização.

@item
Quando da análise e expansão de uma expansão $@{@dots{}@} que aparece 
dentro de aspas duplas, aspas simples não mais são especiais e não podem 
ser utilizadas para encapsular uma chave em fechamento ou outro carácter 
especial, a menos que o operador seja um daqueles definidos para 
realizar a remoção de padrão.   Nesse caso, as aspas simples não tem de 
aparecer como pares coincididos.

@item
O analisador não reconhece @code{time} como uma palavra reservada se o 
próximo token inicia com um @samp{-}.

@item
Se um comando interno @sc{posix} especial retorna um código de erro, um 
shell não interativo sai.   Os erros fatais são aqueles listados no 
padrão @sc{posix}, e incluem coisas como a análise de opções incorretas, 
erros de redireção, erros de atribuição a variável para atribuições que 
precedem o nome de comando, e assim por diante.

@item
Um shell não interativo sai com um código de erro se um erro de 
atribuição a variável ocorrer quando nenhum nome de comando seguir as 
declarações de atribuição.
Um erro de atribuição a variável ocorre, por exemplo, quando da 
tentativa de atribuir um valor para uma variável somente leitura.

@item
Um shell não interativo sai com um código de erro se um erro de 
atribuição a variável ocorrer em uma declaração de atribuição precedendo 
um comando interno especial, porém não com qualquer outro comando 
simples.

@item
Um shell não interativo sai com um código de erro se a variável de 
iteração em uma declaração @code{for} ou a variável de seleção em uma 
declaração @code{select} for uma variável somente leitura.

@item
A substituição de processo não está disponível.

@item
Enquanto a indireção de variável estiver disponível, ela não pode ser 
aplicada aos parâmetros especiais @samp{#} e @samp{?}.

@item
As declarações de atribuição precedendo comandos internos @sc{posix} 
especiais persistem no ambiente de shell após o comando interno 
completar.

@item
As declarações de atribuição precedendo as chamadas de função de shell 
persistem no ambiente de shell após a função retornar, como se um 
comando interno @sc{posix} especial tivesse sido executado.

@item
Os comandos internos @code{export} e @code{readonly} exibem suas saídas 
no formato exigido por @sc{posix}.

@item
O comando interno @code{trap} exibe nomes de sinal sem o prefixo 
@code{SIG}.

@item
O comando interno @code{trap} não verifica o primeiro argumento para uma 
possível especificação de sinal e reverte o manipulador de sinal para a 
disposição original se estiver, a menos que argumento consista 
unicamente de dígitos e for um número válido de sinal.   Se usuários 
desejarem reconfigurar o manipulador para um dado sinal para a 
disposição original, então eles deveriam utilizar @samp{-} como o 
primeiro argumento.

@item
Os comandos internos @code{.} e @code{source} não pesquisam o diretório 
atual em busca de argumento de nome de arquivo se o argumento não for 
encontrado pesquisando-se @env{PATH}.

@item
Os sub-shells criados para executar substituições de comando herdam o 
valor da opção @option{-e} do shell pai.   Quando não no modo 
@sc{posix}, Bash limpa a opção @option{-e} em tais sub-shells.

@item
A expansão de apelido sempre está habilitada, mesmo em shells não 
interativos.

@item
Quando o comando interno @code{alias} exibe definições de apelidos, ele 
não os exibe com um @samp{alias } no início, a menos que a opção 
@option{-p} seja fornecida.

@item
Quando o comando interno @code{set} for invocado sem opções, ele não 
exibe definições e nomes de função de shell.

@item
Quando o comando interno @code{set} for invocado sem opções, ele exibe 
valores de variáveis sem aspas, a menos que eles contenham 
meta-caracteres de shell, mesmo se o resultado contém caracteres não 
imprimíveis.

@item
Quando o comando interno @code{cd} for invocado no modo @var{logical}, e 
o nome de caminho construído a partir de @code{$PWD}e o nome de diretório 
fornecido como um argumento não se refere a um diretório existente, 
@code{cd} falhará, ao invés de retornar ao modo @var{physical}.

@item
O comando interno @code{pwd} verifica se o valor que ele imprime é o 
mesmo que o diretório atual, mesmo se não for pedido a ele para checar o 
sistema de arquivo com a opção @option{-P}.

@item
Quando da listagem do histórico, o comando interno @code{fc} não inclui 
uma indicação de quando ou não uma entrada de histórico foi modificada.

@item
O editor padrão utilizado por @code{fc} é @code{ed}.

@item
Os comandos internos @code{type} e @code{command} não reportarão um 
arquivo não executável como tendo sido encontrado, apesar que o shell 
tentará executar tal arquivo se ele for o único arquivo assim nominado 
encontrado no @code{$PATH}.

@item
O modo de edição @code{vi} invocará o editor @code{vi} diretamente 
quando o comando @samp{v} for executado, ao invés de verificar 
@code{$VISUAL} e @code{$EDITOR}.

@item
Quando a opção @code{xpg_echo} estiver habilitada, Bash não tenta 
interpretar quaisquer argumentos para @code{echo} como opções.   Cada 
argumento é exibido, após os caracteres de escape serem convertidos.

@item
O comando interno @code{ulimit} utiliza um tamanho de bloco de 512 bytes 
para as opções @option{-c} e @option{-f}.

@item
A chegada de @code{SIGCHLD} quando um coletor estiver configurado sobre 
@code{SIGCHLD} não interrompe o comando interno @code{wait} e faz com 
que ele retorne imediatamente.
O comando coletor é executado uma vez para cada filho que sai.

@item
O comando interno @code{read} pode ser interrompido por um sinal para o 
qual um coletor tenha sido configurado.
Se Bash recebe um sinal coletado enquanto executando @code{read}, então 
o manipulador de coletor executa e @code{read}, retorna um código de 
saída maior que 128.

@end enumerate

Existe outro comportamento @sc{posix} que Bash não implementa por padrão 
mesmo quando no modo @sc{posix}.
Especificamente:

@enumerate

@item
O comando interno @code{fc} verifica @code{$EDITOR} como um programa 
para editar entradas de histórico se @code{FCEDIT} estiver 
desconfigurada, no lugar de diretamente considerar como padrão 
@code{ed}.   @code{fc} utiliza @code{ed} se @code{EDITOR} estiver 
desconfigurada.

@item
Conforme apontado acima, Bash exige que a opção @code{xpg_echo} esteja 
habilitada para que o comando interno @code{echo} seja completamente 
conformante.

@end enumerate

Bash pode ser configurado para ser conformante com @sc{posix} por 
padrão, especificando-se @option{--enable-strict-posix-default} para 
@code{configure} quando da construção (veja-se @ref{Características Opcionais}).

@node Controle de Tarefa
@chapter Controle de Tarefa

Este capítulo discute o que é o controle de tarefas, como ele funciona, 
e como Bash te permite acessar as facilidades desse controle.

@menu
* Fundamentos do Controle de Tarefa::		Como o controle de tarefas funciona.
* Comandos Internos do Controle de Tarefa::	Os comandos internos do Bash utilizados 
				para interagir com o controle de 
				tarefas.
* Variáveis do Controle de Tarefa::	Variáveis que o Bash utiliza para 
				personalizar o controle de tarefas.
@end menu

@node Fundamentos do Controle de Tarefa
@section Fundamentos do Controle de Tarefa
@cindex job control
@cindex foreground
@cindex background
@cindex suspending jobs

O controle de tarefas se refere à habilidade de parar (suspender) 
seletivamente a execução de processos e continuar (resumir) a execução 
deles num ponto mais tarde.   Um usuário tipicamente emprega essa 
facilidade via uma interface interativa fornecida conjuntamente pelo 
driver de terminal do núcleo do sistema operacional e por Bash.

O shell associa um @var{job} com cada canal de comunicação.   O shell 
mantém uma tabela das tarefas atualmente em execução, as quais podem ser 
listadas com o comando @code{jobs}.   Quando Bash inicia uma tarefa 
assincronamente, ele imprime uma linha que se parece com isto:
@example
[1] 25647
@end example
@noindent
indicando que essa tarefa é a tarefa número 1 e que o @sc{id} de 
processo do último processo no canal de comunicação associado com essa 
tarefa é 25647.   Bash utiliza a abstração de @var{job} como uma base 
para o controle de tarefa.

Para facilitar a implementação da interface de usuário para o controle 
de tarefa, o sistema operacional mantém a noção de @sc{id} de grupo de 
processo de terminal atual.   Os membros desse grupo de processos 
(processos cujo @sc{id} de grupo de processo seja igual ao atual @sc{id} 
de grupo de processo de terminal) recebem sinais gerados por teclado 
tais como @code{SIGINT}.
Diz-se que esses processos estão no primeiro plano.   Os processos de 
segundo plano são aqueles cujo @sc{id} de grupo de processo difere do 
@sc{id} de grupo de processo do terminal; tais processos estão imunes 
aos sinais gerados por teclado.   Apenas aos processos de primeiro plano 
é permitido ler a partir de ou, se o usuário especifica com @code{stty 
tostop}, escrever para o terminal.
Aos processos de segundo plano que tentam ler a partir (escrever para 
quando @code{stty tostop} está em efeito) do terminal é enviado um 
sinal @code{SIGTTIN} (@code{SIGTTOU}) pelo driver de terminal do kernel, 
o qual, a menos que capturado, suspende o processo.

Se o sistema operacional no qual Bash está em execução suporta controle 
de tarefa, então Bash contém facilidades para utilizá-lo.   Digitar-se o 
carácter @var{suspend} (tipicamente @samp{^Z}, Control-Z) enquanto um 
processo está em execução faz com que esse processo seja parado e 
retorne o controle para Bash.   O usuário então manipula o estado dessa 
tarefa, utilizando o comando @code{bg} para continuá-lo no primeiro 
plano, ou o comando @code{kill} para matá-lo.   Um @samp{^Z} tem efeito 
imediatamente, e tem o efeito colateral adicional de fazer com que saída 
pendente e autocompletar serem descartados.

Existe um número de maneiras de se referir a uma tarefa no shell.  O 
carácter @samp{%} introduz uma especificação de tarefa (@var{jobspec}).

Um número de tarefa @code{n} pode ser referenciado como @samp{%n}.
Os símbolos @samp{%%} e @samp{%+} se referem à noção do shell da tarefa 
atual, a qual é a última tarefa parada enquanto ela estava no primeiro 
plano ou inicializada no segundo plano.

Um único @samp{%} (sem acompanhamento da especificação de tarefa) também 
se refere à tarefa atual.
A tarefa previa pode ser referenciada utilizando-se @samp{%-}.
Se existir apenas uma tarefa única, então @samp{%+} e @samp{%-} podem 
ambos serem utilizados para se referir àquela tarefa.
Na saída relativa à tarefas (por exemplo, a saída do comando 
@code{jobs}), a tarefa atual sempre é rotulada com um @samp{+}, e a 
tarefa prévia com um @samp{-}.

Uma tarefa também pode ser referenciada utilizando-se um prefixo do nome 
utilizado para inicializá-la, ou utilizando-se uma parte da sequência de 
caracteres que aparece na sua linha de comando.   Por exemplo, 
@samp{%ce} se refere à tarefa @code{ce} parada.   Utilizando-se 
@samp{%?ce}, por outro lado, se refere a qualquer tarefa contendo a 
sequência de caracteres @samp{ce} em sua linha de comando.   Se o 
prefixo ou parte da sequencia de caracteres coincide com mais que uma 
tarefa, então Bash reporta um erro.

Em poucas palavras, uma tarefa pode ser utilizada para se trazer para o 
primeiro plano: @samp{%1} é um sinônimo para @samp{fg %1}, trazendo a 
tarefa 1 do segundo plano para o primeiro plano.   Similarmente, 
@samp{%1 &} suspende a tarefa 1 no primeiro plano, equivalente a
@samp{bg %1}.

O shell aprende imediatamente quando uma tarefa muda de estado.
Normalmente, Bash aguarda até que esteja prestes a imprimir um prompt 
antes de reportar modificações em um estado da tarefa, de forma a não 
interromper qualquer outra entrada.
Se a opção @option{-b} para o comando interno @code{set} estiver 
habilitada, então reporta tais modificações imediatamente
(veja-se @ref{O Comando Interno Set}).
Qualquer coletor sobre @code{SIGCHLD} é executado para cada processo 
filho que sai.

Se uma tentativa de sair de Bash for feita enquanto tarefas estão 
paradas, (ou em execução, se a opção @code{checkjobs} estiver habilitada 
-- veja-se @ref{O Comando Interno Shopt}), então o shell imprime uma mensagem 
de alerta, e se a opção @code{checkjobs} estiver habilitada, lista as 
tarefas e suas situações.

O comando @code{jobs} pode então ser utilizado para inspecionar os 
estados das tarefas.
Se uma segunda tentativa de sair for feita, sem um comando 
interveniente, então Bash não imprime outro alerta, e quaisquer tarefas 
paradas são terminadas.

@node Comandos Internos do Controle de Tarefa
@section Comandos Internos do Controle de Tarefa

@table @code

@item bg
@btindex bg
@example
bg [@var{jobspec} @dots{}]
@end example

Continua a execução de cada tarefa @var{jobspec} suspensa no segundo 
plano, como se ela tivesse sido inicializada com @samp{&}.
Se @var{jobspec} não for fornecida, então a tarefa atual é utilizada.
O código de retorno é zero, a menos que esse comando interno seja 
executado quando o controle de tarefa não esteja habilitado, ou, quando 
executado com o controle de tarefa habilitado, qualquer @var{jobspec} 
não foi encontrado ou especifica uma tarefa que foi inicializada sem 
controle de tarefa.

@item fg
@btindex fg
@example
fg [@var{jobspec}]
@end example

Continua a execução da tarefa @var{jobspec} no primeiro plano e a faz a 
tarefa atual.
Se @var{jobspec} não for fornecida, então a tarefa atual é utilizada.
O código de retorno é aquele do comando colocado no primeiro plano, ou 
diferente de zero se executado quando o controle de tarefa estiver 
desabilitado ou, quando executado com o controle de tarefa habilitado, 
@var{jobspec} não especificar uma tarefa válida ou @var{jobspec} 
especifica uma tarefa que foi inicializada sem controle de tarefa.

@item jobs
@btindex jobs
@example
jobs [-lnprs] [@var{jobspec}]
jobs -x @var{command} [@var{arguments}]
@end example

A primeira forma lista as tarefas ativas.   As opções tem os seguintes 
significados:

@table @code
@item -l
Lista @sc{id}s de processos em adição à informação normal.

@item -n
Exibe informação somente sobre tarefas que tiveram estado modificado 
desde quando o usuário foi notificado mais recentemente do estado delas.

@item -p
Lista somente o @sc{id} de processo do líder de grupo de processo da 
tarefa.

@item -r
Exibe apenas tarefas em execução.

@item -s
Exibe apenas tarefas paradas.
@end table

Se @var{jobspec} for dada, então a saída é restrita à informação sobre 
aquela tarefa.
Se @var{jobspec} não for fornecida, então a situação de todas as tarefas 
é listada.

Se a opção @option{-x} for fornecida, então @code{jobs} substitui 
qualquer @var{jobspec} encontrado em @var{command} ou @var{arguments} 
com o correspondente @sc{id} de grupo de processo, e executa 
@var{command}, passando a ele @var{argument}s, retornando seu código de 
saída.

@item kill
@btindex kill
@example
kill [-s @var{sigspec}] [-n @var{signum}] [-@var{sigspec}] @var{jobspec} or @var{pid}
kill -l [@var{exit_status}]
@end example

Envia um sinal especificado por @var{sigspec} ou @var{signum} para o 
processo nomeado pela especificação de tarefa @var{jobspec} ou @sc{id} 
de processo @var{pid}.
@var{sigspec} é ou um nome de sinal sem distinção entre maiúsculas e 
minúsculas, tal como @code{SIGINT} (com ou sem o prefixo @code{SIG}) ou 
um número de sinal; @var{signum} é um número de sinal.
Se @var{sigspec} e @var{signum} não estiverem presentes, então 
@code{SIGTERM} é utilizado.
A opção @option{-l} lista os nomes de sinal.
Se quaisquer argumentos forem fornecidos quando @option{-l} for dada, 
então os nomes dos sinais correspondentes aos argumentos são listados, e 
o código de retorno é zero.
@var{exit_status} é um número que especifica um número de sinal ou a 
situação de saída de um processo terminado por um sinal.
O código de retorno é zero se pelo menos um sinal foi enviado com 
sucesso, ou diferente de zero se um erro ocorre ou uma opção inválida é 
encontrada.

@item wait
@btindex wait
@example
wait [-n] [@var{jobspec} or @var{pid} @dots{}]
@end example

Aguarda até que o processo filho especificado por cada @sc{id} de 
processo @var{pid} ou especificação de tarefa @var{jobspec} saia e 
retorna a situação de saída do último comando aguardado.
Se uma especificação de tarefa for dada, então todos os processos na 
tarefa são aguardados.
Se nenhum argumento for dado, então todos os processos filho atualmente 
ativos são aguardados, e o código de retorno é zero.
Se a opção @option{-n} for fornecida, então @code{wait} aguarda qualquer 
tarefa terminar e retorna sua situação de saída.
Se nem @var{jobspec} nem @var{pid} especifica um processo filho ativo do 
shell, então o código de retorno é 127.

@item disown
@btindex disown
@example
disown [-ar] [-h] [@var{jobspec} @dots{}]
@end example

Sem opções, remove cada @var{jobspec} da tabela de tarefas ativas.
Se a opção @option{-h} for dada, então a tarefa não é removida da 
tabela, porém é marcada, de forma que @code{SIGHUP} não é enviado para a 
tarefa se o shell recebe um @code{SIGHUP}.
Se @var{jobspec} não estiver presente, e nem a opção @option{-a} nem a 
@option{-r} forem fornecidas, então a tarefa atual é utilizada.
Se nenhuma @var{jobspec} for fornecida, então a opção @option{-a} 
significa remover ou marcar todas as tarefas; a opção @option{-r} sem 
um argumento @var{jobspec} restringe a operação a tarefas em execução.

@item suspend
@btindex suspend
@example
suspend [-f]
@end example

Para a execução deste shell até que ele receba um sinal @code{SIGCONT}.
Um shell de login não pode ser parado; a opção @option{-f} pode ser 
utilizada para anular isso e forçar a suspensão.
@end table

Quando o controle de tarefa não está ativo, os comandos internos 
@code{kill} e @code{wait} não aceitam argumentos @var{jobspec}.   Eles 
devem necessariamente ser alimentados com @sc{id}s de processos.

@node Variáveis do Controle de Tarefa
@section Variáveis do Controle de Tarefa

@vtable @code

@item auto_resume
Essa variável controla como o shell interage com o usuário e o controle 
de tarefa.   Se essa variável existir, então os comandos simples de 
palavra única sem redireções são tratados como candidatos para o 
reinício de uma tarefa existente.   Não existe ambiguidade que seja 
permitida; se existe mais que uma tarefa iniciando com a sequência de 
caracteres digitada, então a mais recentemente acessada tarefa será 
selecionada.
O nome de uma tarefa parada, nesse contexto, é a linha de comando 
utilizada para iniciá-la.   Se essa variável for configurada para o 
valor @samp{exact}, então a sequência de caracteres fornecida deve 
necessariamente coincidir exatamente com o nome de uma tarefa parada; se 
configurada para @samp{substring}, então a sequência de caracteres 
fornecida precisa coincidir com uma parte da sequência de caracteres do 
nome de uma tarefa parada.   O valor de @samp{substring}, provê 
funcionalidade análoga para o @sc{id} de tarefa @samp{%?}
(veja-se @ref{Fundamentos do Controle de Tarefa}).
Se configurada para qualquer outro valor, então a sequência de 
caracteres fornecida deve necessariamente ser um prefixo de um nome da 
tarefa parada; isso provê funcionalidade análoga para o @sc{id} de 
tarefa @samp{%}.

@end vtable

@set readline-appendix
@set history-appendix
@cindex Readline, how to use
@include rluser-pt_BR.texi
@cindex History, how to use
@include hsuser-pt_BR.texi
@clear readline-appendix
@clear history-appendix

@node Instalando o Bash
@chapter Instalando o Bash

Este capítulo provê instruções básicas para a instalação de Bash nas 
várias plataformas suportadas.   A distribuição suporta os sistemas 
operacionais @sc{gnu}, quase cada versão de Unix, e vários sistemas não 
Unix tais como BeOS e Interix.
Outras portagens independentes existem para @sc{ms-dos}, @sc{os/2}, e 
plataformas Windows.

@menu
* Instalação Básica::	Instruções de instalação.
* Compiladores e Opções::	Como configurar opções especiais para 
				vários sistemas.
* Compilando Para Múltiplas Arquiteturas::	Como compilar Bash para 
						mais que um tipo de 
						sistema a partir da 
						mesma árvore de fonte.
* Nomes de Instalação::	Como configurar os vários caminhos utilizados 
			pela instalação.
* Especificando o Tipo do Sistema::	Como configurar Bash para um sistema 
				particular.
* Compartilhando Padrões::	Como compartilhar valores padrão de configuração 
			entre programas GNU.
* Controles de Operação::	Opções reconhecidas pelo programa de 
			configuração.
* Características Opcionais::	Como habilitar e desabilitar características 
			opcionais quando da construção de Bash.
@end menu

@node Instalação Básica
@section Instalação Básica
@cindex installation
@cindex configuration
@cindex Bash installation
@cindex Bash configuration

Estas são instruções de instalação para Bash.

A maneira mais simples de compilar Bash é:

@enumerate
@item
mudar (@code{cd}) para o diretório contendo o código fonte e digitar 
@samp{./configure} para configurar Bash para o seu sistema.   Se você 
estiver utilizando @code{csh} em uma versão antiga de System V, 
pelo contrário talvez você precise digitar @samp{sh ./configure} para 
prevenir @code{csh} de tentar executar o próprio @code{configure}.

A execução de @code{configure} leva algum tempo.
Enquanto em execução, ele imprime mensagens dizendo quais 
características ele está verificando.

@item
Digite @samp{make} para compilar Bash e construir o script de relatamento 
de erro @code{bashbug}.

@item
Opcionalmente, digite @samp{make tests} para executar a suíte de teste 
do Bash.

@item
Digite @samp{make install} para instalar @code{bash} e @code{bashbug}.
Isso também instalará as páginas de manual e arquivo Info.

@end enumerate

O script de shell @code{configure} tenta adivinhar os valores corretos 
para várias variáveis dependentes de sistema utilizadas durante a 
compilação.   Ele utiliza tais valores para criar um @file{Makefile} em 
cada diretório do pacote (o diretório topo, dos diretórios 
@file{builtins}, @file{doc}, e @file{support}, cada diretório sob 
@file{lib}, e vários outros).   O script também cria um arquivo 
@file{config.h} contendo definições dependentes de sistema.
Finalmente, ele cria um script de shell chamado @code{config.status} que 
você pode executar no futuro para recriar a configuração atual, um 
arquivo @file{config.cache} que salva os resultados de seus testes para 
acelerar a reconfiguração, e um arquivo @file{config.log} contendo saída 
do compilador (útil principalmente para depurar @code{configure}).
Se em certo ponto @file{config.cache} contém resultados que você não 
deseja manter, então você pode remover ou editá-lo.

Para descobrir mais sobre as opções e argumentos que o script 
@code{configure} entende, digite

@example
bash-2.04$ ./configure --help
@end example

@noindent
no prompt do Bash no seu diretório de fonte do Bash.

Se você precisar fazer coisas fora do usual para compilar Bash, por 
favor tente compreender como @code{configure} poderia verificar quando 
ou não fazer tais coisas, e envie as instruções ou diffs, via mensagem, 
para @email{bash-maintainers@@gnu.org} de forma que possam ser 
consideradas para o próximo lançamento.

O arquivo @file{configure.ac} é utilizado para criar @code{configure} 
por um programa chamado Autoconf.   Você somente precisa de 
@file{configure.ac} se você desejar modificá-lo ou regenerar 
@code{configure} utilizando uma versão mais nova de Autoconf.   Se você 
fizer isso, tenha certeza de que você está utilizando Autoconf versão 
2.50 ou superior.

Você pode remover os binários do programa e arquivos de objeto do 
diretório de código fonte digitando @samp{make clean}.   Para remover 
também os arquivos que @code{configure} criou (de forma que você pode 
compilar Bash para um tipo diferente de computador), digite
@samp{make distclean}.

@node Compiladores e Opções
@section Compiladores e Opções

Alguns sistemas exigem opções não usuais para compilação ou lincagem que 
o script @code{configure} não conhece.   Você pode dar a 
@code{configure} valores iniciais para variáveis configurando elas no 
ambiente.   Na utilização de um shell compatível com Bourne, você pode 
fazer isso em linha de comando como isto:

@example
CC=c89 CFLAGS=-O2 LIBS=-lposix ./configure
@end example

Em sistemas que tem o programa @code{env}, você pode fazê-lo assim:

@example
env CPPFLAGS=-I/usr/local/include LDFLAGS=-s ./configure
@end example

O processo de configuração utiliza GCC para construir Bash se GCC 
estiver disponível.

@node Compilando Para Múltiplas Arquiteturas
@section Compilando Para Múltiplas Arquiteturas

Você pode compilar Bash para mais que uma espécie de computador ao mesmo 
tempo, colocando os arquivos objeto para cada arquitetura em seus 
próprios diretórios.   Para fazer isso, você deve necessariamente 
utilizar uma versão de @code{make} que suporte a variável @code{VPATH}, 
tal como GNU @code{make}.
Vá (@code{cd}) para o diretório onde você deseja que os executáveis e 
arquivos objeto estejam e execute o script @code{configure} a partir do 
diretório fonte.   Você talvez precise fornecer o argumento 
@option{--srcdir=PATH} para informar a @code{configure} onde estão os 
arquivos fonte.   @code{configure} automaticamente verifica o código 
fonte no diretório que @code{configure} está e em `..'.

Se você tiver que utilizar um @code{make} que não suporte a variável 
@code{VPATH}, então você pode compilar Bash para uma arquitetura por vez 
no diretório de código fonte.   Após você ter instalado Bash para uma 
arquitetura, utilize @samp{make distclean} antes de reconfigurar para 
uma outra arquitetura.

Alternativamente, se o seu sistema suporta links simbólicos, você pode 
utilizar o script @file{support/mkclone} para criar uma árvore de 
construção a qual tem link simbólicos de volta a cada arquivo no 
diretório fonte.   Aqui está um exemplo que cria um diretório de 
construção no diretório atual a partir de um diretório fonte 
@file{/usr/gnu/src/bash-2.0}:

@example
bash /usr/gnu/src/bash-2.0/support/mkclone -s /usr/gnu/src/bash-2.0 .
@end example

@noindent
O script @code{mkclone} exige Bash, assim você deve necessariamente já 
ter construído Bash para pelo menos uma arquitetura antes que você possa 
criar diretórios de construção para outras arquiteturas.

@node Nomes de Instalação
@section Nomes de Instalação

Por padrão, @samp{make install} instalará em @file{/usr/local/bin}, 
@file{/usr/local/man}, etc.   Você pode especificar um outro prefixo de 
instalação diferente de @file{/usr/local} dando a @code{configure} a 
opção @option{--prefix=@var{PATH}}, ou especificando um valor para a 
variável de @samp{make} @code{DESTDIR} quando da execução de
@samp{make install}.

Você pode especificar prefixos de instalação separados para arquivos 
específicos a uma arquitetura e arquivos independentes de arquitetura.
Se você der a @code{configure} a opção 
@option{--exec-prefix=@var{PATH}}, então @samp{make install} utilizará 
@var{PATH} como o prefixo para a instalação de programas e bibliotecas.
Documentação e outros arquivos de dados ainda utilizarão o prefixo 
regular.

@node Especificando o Tipo do Sistema
@section Especificando o Tipo do Sistema

Talvez existam algumas características que @code{configure} não pode 
compreender automaticamente, porém precisa determinar pelo tipo de 
máquina na qual Bash executará.   Usualmente @code{configure} pode 
compreender isso, mas se Bash imprime uma mensagem dizendo que não pode 
adivinhar o tipo de máquina, então dê a Bash a opção 
@option{--host=TYPE}.   @samp{TYPE} pode ser ou um nome curto para o 
tipo de sistema, tal como @samp{sun4}, ou um nome canônico com três 
campos: @samp{CPU-COMPANY-SYSTEM}
(por exemplo, @samp{i386-unknown-freebsd4.2}).

Veja-se o arquivo @file{support/config.sub} para os valores possíveis de 
cada campo.

@node Compartilhando Padrões
@section Compartilhando Padrões

Se você desejar configurar valor padrão para os scripts @code{configure} 
para compartilhar, você pode criar um script local de shell chamado 
@code{config.site} o qual te dá valores padrão para variáveis como 
@code{CC}, @code{cache_file}, e @code{prefix}.   @code{configure} 
procura se @file{PREFIX/share/config.site} existe.   Ou, você pode 
configurar a variável de ambiente @code{CONFIG_SITE} para a localização 
do script local.   Um alerta: O @code{configure} de Bash procura por um 
script local, porém nem todos os scripts @code{configure} o fazem.

@node Controles de Operação
@section Controles de Operação

@code{configure} reconhece as seguintes opções para controlar como ele 
opera.

@table @code

@item --cache-file=@var{file}
Utiliza e salva os resultados dos testes em @var{file} em vez de 
@file{./config.cache}.   Configure @var{file} para @file{/dev/null} para 
desabilitar o caching, para a depuração de @code{configure}.

@item --help
Imprime um sumário das opções para @code{configure}, e sai.

@item --quiet
@itemx --silent
@itemx -q
Não imprime mensagens dizendo quais verificações estão sendo feitas.

@item --srcdir=@var{dir}
Procura pelo código fonte de Bash no diretório @var{dir}.   Usualmente 
@code{configure} pode determinar esse diretório automaticamente.

@item --version
Imprime a versão de Autoconf utilizada para gerar o script 
@code{configure}, e sai.
@end table

@code{configure} também aceita algumas outras, não amplamente 
utilizadas, opções clichê.   @samp{configure --help} imprime a lista 
completa.

@node Características Opcionais
@section Características Opcionais

O @code{configure} de Bash tem um número de opções 
@option{--enable-@var{feature}}, onde @var{feature} indica uma parte 
opcional de Bash.
Existem também várias opções @option{--with-@var{package}}, onde 
@var{package} é alguma coisa como @samp{bash-malloc} ou @samp{purify}.
Para desligar o uso padrão de um pacote, utilize 
@option{--without-@var{package}}.   Para configurar Bash sem uma 
característica que está habilitada por padrão, utilize 
@option{--disable-@var{feature}}.

Aqui está uma lista completa das opções @option{--enable-} e 
@option{--with-} que o @code{configure} de Bash reconhece.

@table @code
@item --with-afs
Define se você está utilizando o Sistema de Arquivo Andrew oriundo da 
Transarc.

@item --with-bash-malloc
Utilize a versão Bash de @code{malloc} no diretório @file{lib/malloc}.
Esse não é o mesmo @code{malloc} que aparece em @sc{gnu} libc, mas uma 
versão mais antiga originalmente derivada do @code{malloc} do @sc{bsd} 
4.2.   Esse @code{malloc} é muito rápido, porém desperdiça algum espaço 
em cada alocação.
Essa opção está habilitada por padrão.
O arquivo @file{NOTES} contém uma lista dos sistemas para os quais isso 
deveria estar desligado, e @code{configure} desabilita essa opção 
automaticamente para um número de sistemas.

@item --with-curses
Utiliza a biblioteca curses em vez da biblioteca termcap.   Isso deveria 
ser fornecido se o seu sistema tem uma base de dados termcap inadequada 
ou incompleta.

@item --with-gnu-malloc
Um sinônimo para @code{--with-bash-malloc}.

@item --with-installed-readline[=@var{PREFIX}]
Defina isso para fazer com que Bash vincule com uma versão instalada 
localmente de Readline em vez da versão em @file{lib/readline}.   Isso 
somente funciona com Readline 5.0 e versões posteriores.   Se 
@var{PREFIX} for @code{yes} ou não fornecido, @code{configure} utiliza os 
valores das variáveis de make @code{includedir} e @code{libdir}, as 
quais são subdiretórios de @code{prefix} por padrão, para encontrar a 
versão instalada de Readline se ela não estiver nos diretórios padrão de 
sistema include e library.
Se @var{PREFIX} for @code{no}, então Bash vincula com a versão em 
@file{lib/readline}.
Se @var{PREFIX} estiver configurada para qualquer outro valor, então 
@code{configure} a trata como um nome de caminho de diretório para a 
versão instalada de Readline nos subdiretórios daquele diretório 
(arquivos include em @var{PREFIX}/@code{include} e a biblioteca em 
@var{PREFIX}/@code{lib}).

@item --with-purify
Defina isso para utilizar o verificador de alocação de memória Purify da 
Rational Software.

@item --enable-minimal-config
Isso produz um shell com características mínimas, próximo do histórico 
shell Bourne.
@end table

Existem várias opções @option{--enable-} que alteram como Bash é 
compilado e vinculado,  em vez de modificar características de tempo de 
execução.

@table @code
@item --enable-largefile
Habilita o suporte para 
@uref{http://www.sas.com/standards/large_file/x_open.20Mar96.html,
large files} se o sistema operacional exige opções especiais de 
compilador para construir programas os quais podem acessar arquivos 
grandes.   Isso está habilitado por padrão, se o sistema operacional 
provê suporte a arquivo grande.

@item --enable-profiling
Isso constrói um binário Bash que produz informação de perfil para ser 
processada por @code{gprof} cada vez que for executada.

@item --enable-static-link
Isso faz com que Bash seja vinculado estaticamente, se @code{gcc} 
estiver sendo utilizado.
Isso poderia ser empregado para construir uma versão para se utilizar 
como o shell do root.
@end table

A opção @samp{minimal-config} pode ser utilizada para desabilitar todas 
as opções seguintes, mas ela é processada primeiro, de forma que as 
opções individuais podem ser habilitadas utilizando-se 
@samp{enable-@var{feature}}.

Todas as opções seguintes, exceto @samp{disabled-builtins}, 
@samp{directpand-default}, e @samp{xpg-echo-default}, estão habilitadas 
por padrão, a menos que o sistema operacional não forneça o suporte 
necessário.

@table @code
@item --enable-alias
Permite a expansão de apelido e inclui os comandos internos @code{alias} 
e @code{unalias} (veja-se @ref{Apelidos}).

@item --enable-arith-for-command
Inclui suporte para o formato alternativo do comando @code{for} que se 
comporta como a declaração @code{for} da linguagem C (veja-se 
@ref{Construtores de Ciclos}).

@item --enable-array-variables
Inclui suporte para variáveis de shell vetor unidimensional 
(veja-se @ref{Vetores}).

@item --enable-bang-history
Inclui suporte para a substituição de histórico no estilo @code{csh} 
(veja-se @ref{History Interaction}).

@item --enable-brace-expansion
Inclui a expansão de chave ao estilo @code{csh}
( @code{b@{a,b@}c} @expansion{} @code{bac bbc} ).
Veja-se @ref{Expansão de Chave}, para uma descrição completa.

@item --enable-casemod-attributes
Inclui suporte para os atributos de modificação de caso no comando 
interno @code{declare} e declarações de atribuição.   As variáveis com o 
atributo @var{uppercase}, por exemplo, terão os seus valores convertidos 
para maiúsculo quando da atribuição.

@item --enable-casemod-expansion
Inclui suporte para as expansões de palavra de modificação de caso.

@item --enable-command-timing
Inclui suporte para o reconhecimento de @code{time} como sendo uma 
palavra reservada e para a exibição de estatísticas de temporização para 
o canal de comunicação seguinte a @code{time} (veja-se @ref{Canais de Comunicação}).
Isso permite que os canais de comunicação bem como as funções e comandos 
internos de shell sejam temporizados.

@item --enable-cond-command
Inclui suporte para o comando condicional @code{[[}.
(veja-se @ref{Construtores Condicionais}).

@item --enable-cond-regexp
Inclui suporte para se coincidir as expressões regulares @sc{posix} 
utilizando-se o operador binário @samp{=~} no comando condicional 
@code{[[}.
(veja-se @ref{Construtores Condicionais}).

@item --enable-coprocesses
Inclui suporte para co-processos e a palavra reservada @code{coproc} 
(veja-se @ref{Canais de Comunicação}).

@item --enable-debugger
Inclui suporte para o depurador bash (distribuído separadamente).

@item --enable-direxpand-default
Faz com a opção de shell @code{direxpand} (veja-se 
@ref{O Comando Interno Shopt}) seja habilitada por padrão quando o shell 
inicializa.
Essa opção normalmente é desabilitada por padrão.

@item --enable-directory-stack
Inclui suporte para a pilha de diretório ao estilo @code{csh} e os 
comandos internos @code{pushd}, @code{popd}, e @code{dirs}
(veja-se @ref{A Pilha de Diretório}).

@item --enable-disabled-builtins
Permite que os comandos internos sejam invocados via @samp{builtin xxx} 
mesmo após @code{xxx} tiver sido desabilitado utilizando-se 
@samp{enable -n xxx}.
Veja-se @ref{Comandos Internos ao Bash}, para detalhes dos comandos internos 
@code{builtin} e @code{enable}.

@item --enable-dparen-arithmetic
Inclui suporte para o comando @code{((@dots{}))} 
(veja-se @ref{Construtores Condicionais}).

@item --enable-extended-glob
Inclui suporte para as características de coincidência de padrão 
estendidas descritas acima sob @ref{Coincidência de Modelo}.

@item --enable-extended-glob-default
Configura o valor padrão da opção de shell @var{extglob}, descrita acima 
sob @ref{O Comando Interno Shopt}, para ser habilitada.

@item --enable-glob-asciirange-default
Configura o valor padrão da opção de shell @var{globasciiranges}, 
descrita acima sob @ref{O Comando Interno Shopt}, para ser habilitada.
Isso controla o comportamento dos intervalos de caracteres utilizados 
nas expressões de chave de coincidência de padrão.

@item --enable-help-builtin
Inclui o comando interno @code{help}, o qual exibe ajuda sobre os 
comandos internos do shell e variáveis (veja-se @ref{Comandos Internos ao Bash}).

@item --enable-history
Inclui histórico de comando e os comandos internos @code{fc} e 
@code{history} (veja-se @ref{Bash History Facilities}).

@item --enable-job-control
Isso habilita as características de controle de tarefa 
(@ref{Controle de Tarefa}), se o sistema operacional as suporta.

@item --enable-multibyte
Isso habilita suporte a caracteres multi-byte se o sistema operacional 
provê o necessário suporte.

@item --enable-net-redirections
Isso habilita a manipulação especial de nomes de arquivo da forma
@code{/dev/tcp/@var{host}/@var{port}} e
@code{/dev/udp/@var{host}/@var{port}}
quando utilizados nas redireções (veja-se @ref{Redireções}).

@item --enable-process-substitution
Isso habilita a substituição de processo (veja-se 
@ref{Substituição de Processo}) se o sistema operacional provê o necessário 
suporte.

@item --enable-progcomp
Habilita as facilidades de completação programáveis 
(veja-se @ref{Programmable Completion}).
Se Readline não estiver habilitada, então essa opção não tem efeito.

@item --enable-prompt-string-decoding
Liga a interpretação de um número de caracteres encapsulados por barras 
invertidas nas sequências de caracteres de prompt @env{$PS1}, 
@env{$PS2}, @env{$PS3}, e @env{$PS4}.   Veja-se 
@ref{Controlando o Prompt}, para uma lista completa das sequências de 
encapsulamento de sequências de caracteres de prompt.

@item --enable-readline
Inclui suporte para a edição de linha de comando e histórico com a 
versão Bash da biblioteca Readline (veja-se @ref{Edição de Linha de Comando}).

@item --enable-restricted
Inclui suporte para a @dfn{restricted shell}.   Se isso estiver 
habilitado, então Bash, quando chamado como @code{rbash}, entra em um 
modo restrito.   Veja-se @ref{O Shell Restrito}, para uma descrição 
do modo restrito.

@item --enable-select
Inclui o comando composto @code{select}, o qual permite a geração de 
menus simples (veja-se @ref{Construtores Condicionais}).

@item --enable-separate-helpfiles
Utiliza arquivos externos para a documentação exibida pelo comando 
interno @code{help} em vez de armazenar o texto internamente.

@item --enable-single-help-strings
Armazena o texto exibido pelo comando interno @code{help} como uma 
sequência de caracteres única para tópico de ajuda.   Isso auxilia na 
tradução do texto para linguagens diferentes.
Você talvez precise desabilitar isso se o seu compilador não pode lidar 
com literais de sequências de caracteres longa demais.

@item --enable-strict-posix-default
Faz com Bash fique conformante com o padrão @sc{posix} por padrão 
(veja-se @ref{O Modo POSIX de Bash}).

@item --enable-usg-echo-default
Um sinônimo para @code{--enable-xpg-echo-default}.

@item --enable-xpg-echo-default
Faz com que o comando interno @code{echo} expanda caracteres 
encapsulados por barra invertida por padrão, sem exigir a opção 
@option{-e}.
Isso configura o valor padrão da opção de shell @code{xpg_echo} para 
@code{on}, o qual faz com que @code{echo} do Bash se comporte mais como 
a versão especificada na Single Unix Specification, versão 3.
Veja-se @ref{Comandos Internos ao Bash}, para uma descrição das sequências de 
encapsulamento que @code{echo} reconhece.
@end table

O arquivo @file{config-top.h} contém declarações @samp{#define} do 
Preprocessador C para opções que não são configuráveis via 
@code{configure}.
Algumas dessas não foram concebidas para serem modificadas; tenha 
cuidado com as consequências se você modificar.
Leia os comentários associados com cada definição para mais informações 
sobre seus efeitos.

@node Relatando Bugs
@appendix Relatando Bugs

Por favor, relate todos os bugs que você encontrar no Bash.
Mas primeiro, você deveria ter certeza que é realmente um bug, e que 
aparace na versão mais recente de Bash.
A versão mais recente sempre está disponível para transferência via FTP 
a partir de @uref{ftp://ftp.gnu.org/pub/gnu/bash/}.

Uma vez que você determinou que um bug existe atualmente, utilize o 
comando @code{bashbug} para submeter um relatório de bug.
Se você tiver um reparo, você está encorajado a enviá-lo também!
Sugestões e relatórios "filosóficos" de bug podem ser enviados para 
@email{bug-bash@@gnu.org} ou postados no grupo de notícias Usenet 
@code{gnu.bash.bug}.

Todos os relatórios de bug deveriam incluir:
@itemize @bullet
@item
O número de versão de Bash.
@item
O hardware e sistema operacional.
@item
O compilador utilizado para compilar Bash.
@item
Uma descrição do comportamento defeituoso.
@item
Um script curto ou "receita" que exercite o bug e pode ser utilizado 
para reproduzi-lo.
@end itemize

@noindent
@code{bashbug} insere os primeiros três itens automaticamente no modelo 
que fornece para preenchimento de um relatório de bug.

Por favor, envie todos os relatórios relativos a este manual para
@email{bug-bash@@gnu.org}.

@node Maiores Diferenças Para o Shell Bourne
@appendix Maiores Diferenças Para o Shell Bourne

Bash implementa essencialmente a mesma gramática, expansão de parâmetro 
e variável, redireção, e encapsulamento entre aspas que o Bourne Shell.
Bash utiliza o padrão @sc{posix} como a especificação de como essas 
características devem ser implementadas.   Existem algumas diferenças 
entre o tradicional shell Bourne e Bash; esta seção detalha rapidamente 
as diferenças de significância.   Um número dessas diferenças estão 
explanadas em maior profundidade nas seções anteriores.
Esta seção utiliza a versão de @code{sh} inclusa no SVR4.2 (a última 
versão do histórico shell Bourne) como a referência inicial.

@itemize @bullet

@item
Bash é conformante com @sc{posix}, mesmo onde a especificação @sc{posix} 
difere do comportamento do @code{sh} tradicional 
(veja-se @ref{O Modo POSIX de Bash}).

@item
Bash tem opções de invocação multi-carácter 
(veja-se @ref{Invocando o Bash}).

@item
Bash tem edição de linha de comando (veja-se @ref{Edição de Linha de Comando}) 
e o comando interno @code{bind}.

@item
Bash provê um mecanismo de completação de palavra programável 
(veja-se @ref{Programmable Completion}), e comandos internos 
@code{complete}, @code{compgen}, e @code{compopt}, para manipulá-los.

@item
Bash tem histórico de comando (veja-se @ref{Bash History Facilities}) e 
os comandos internos @code{history} e @code{fc} para manipulá-lo.
A lista de histórico do Bash mantém informação de marcas temporais e 
utiliza o valor da variável @code{HISTTIMEFORMAT} para exibi-las.

@item
Bash implementa a expansão de histórico ao estilo @code{csh} 
(veja-se @ref{History Interaction}).

@item
Bash tem variáveis vetor unidimensional (veja-se @ref{Vetores}), e as 
apropriadas expansões de variável e sintaxe de atribuição para 
utilizá-las.   Vários dos comandos internos do Bash tem opções para 
atuar sobre os vetores.   Bash provê um número de variáveis vetor 
internas.

@item
A sintaxe de encapsulamento em aspas @code{$'@dots{}'}, o qual expande 
os caracteres encapsulados por barra invertida do ANSI-C presentes no 
texto entre as aspas simples, é suportada (veja-se 
@ref{Encapsulamento ANSI-C}).

@item
Bash suporta a sintaxe de encapsulamento em aspas @code{$"@dots{}"} para 
fazer a tradução, ao estilo específico do local, dos caracteres entre as 
aspas duplas.   As opções de invocação @option{-D}, 
@option{--dump-strings}, e @option{--dump-po-strings} listam as 
sequências de caracteres traduzíveis encontradas em um script 
(veja-se @ref{Tradução do Locale}).

@item
Bash implementa a palavra chave @code{!} para negar o valor de retorno 
de um canal de comunicação (veja-se @ref{Canais de Comunicação}).
Muito útil quando uma declaração @code{if} precisa atuar somente se um 
teste falha.
A opção de Bash @samp{-o pipefail} para @code{set} fará com que um canal 
de comunicação retorne um estado de falha se qualquer comando falha.

@item
Bash tem a palavra reservada @code{time} e temporizador de comando 
(veja-se @ref{Canais de Comunicação}).
A exibição das estatísticas de temporização pode ser controlada com a 
variável @env{TIMEFORMAT}.

@item
Bash implementa a aritmética 
@code{for (( @var{expr1} ; @var{expr2} ; @var{expr3} ))} para comando, 
similar a linguagem C (veja-se @ref{Construtores de Ciclos}).

@item
Bash inclui o comando composto @code{select}, o qual permite a geração 
de menus simples (veja-se @ref{Construtores Condicionais}).

@item
Bash inclui o comando composto @code{[[}, o qual torna o teste 
condicional parte da gramática do shell 
(veja-se @ref{Construtores Condicionais}), incluindo a coincidência de 
expressão regular opcional.

@item
Bash provê a coincidência opcional sem distinção entre maiúsculas e 
minúsculas para os construtores @code{case} e @code{[[}.

@item
Bash inclui a expansão de chave (veja-se @ref{Expansão de Chave}) e 
expansão de til (veja-se @ref{Expansão de Til}).

@item
Bash implementa apelidos de comando e os comandos internos @code{alias} 
e @code{unalias} (veja-se @ref{Apelidos}).

@item
Bash provê aritmética de shell, o comando composto @code{((} 
(veja-se @ref{Construtores Condicionais}), e a expansão aritmética 
(veja-se @ref{Aritmética de Shell}).

@item
As variáveis presentes no ambiente inicial do shell são automaticamente 
exportadas para os processos filhos.   O shell Bourne normalmente não 
faz isso, a menos que as variáveis sejam explicitamente marcadas 
utilizando-se o comando @code{export}.

@item
Bash suporta o operador de atribuição @samp{+=}, o qual acrescenta ao 
valor da variável nominada no lado esquerdo.

@item
Bash inclui as expansões @sc{posix} de remoção de padrão @samp{%}, 
@samp{#}, @samp{%%} e @samp{##} para remover sequências de caracteres 
iniciais ou finais dos valores das variáveis 
(veja-se @ref{Expansão de Parâmetro de Shell}).

@item
A expansão @code{$@{#xx@}}, a qual retorna o comprimento de 
@code{$@{xx@}}, é suportado (veja-se @ref{Expansão de Parâmetro de Shell}).

@item
A expansão @code{$@{var:}@var{offset}@code{[:}@var{length}@code{]@}}, a 
qual expande para a subsequência de caracteres do valor de @code{var} do 
comprimento @var{length}, iniciando em @var{offset}, está presente
(veja-se @ref{Expansão de Parâmetro de Shell}).

@item
A expansão
@code{$@{var/[/]}@var{pattern}@code{[/}@var{replacement}@code{]@}},
a qual coincide com @var{pattern} e a substitui com @var{replacement} no 
valor de @code{var}, está disponível 
(veja-se @ref{Expansão de Parâmetro de Shell}).

@item
A expansão @code{$@{!@var{prefix}*@}} expansão, a qual expande para os 
nomes de todas as variáveis de shell cujos os nomes se iniciam com 
@var{prefix}, está disponível (veja-se @ref{Expansão de Parâmetro de Shell}).

@item
Bash tem expansão de variável @var{indireta} utilizando @code{$@{!word@}}
(veja-se @ref{Expansão de Parâmetro de Shell}).

@item
Bash pode expandir parâmetros posicionais além de @code{$9} utilizando
@code{$@{@var{num}@}}.

@item
A forma @sc{posix} @code{$()} de substituição de comando está 
implementada (veja-se @ref{Substituição de Comando}), e é preferida a 
@code{``} do shell Bourne (a qual também está implementada para 
compatibilidade com versões anteriores).

@item
Bash tem substituição de processo (veja-se @ref{Substituição de Processo}).

@item
Bash atribui valores automaticamente às variáveis que proveem informação 
sobre o usuário atual (@env{UID}, @env{EUID}, e @env{GROUPS}); a máquina 
atual (@env{HOSTTYPE}, @env{OSTYPE}, @env{MACHTYPE}, e @env{HOSTNAME}); 
e a instância de Bash que está em execução (@env{BASH}, 
@env{BASH_VERSION}, e @env{BASH_VERSINFO}).   Veja-se 
@ref{Variáveis do Bash}, para detalhes.

@item
A variável @env{IFS} é utilizada para dividir somente os resultados da 
expansão, e não todas as palavras (veja-se @ref{Divisão de Palavra}).
Isso fecha uma brecha de segurança do shell de longa data.

@item
O código da expansão de chave da expansão de nome de arquivo utiliza 
@samp{!} e @samp{^} para negar o conjunto de caracteres entre as chaves.
O shell Bourne utiliza somente @samp{!}.

@item
Bash implementa o conjunto completo de operadores de expansão de nome de 
arquivo @sc{posix}, incluindo @var{character classes}, @var{equivalence 
classes}, e @var{collating symbols} (veja-se @ref{Expansão de Nome de Arquivo}).

@item
Bash implementa características de coincidência de padrão estendidas 
quando a opções de shell @code{extglob} está habilitada 
(veja-se @ref{Coincidência de Modelo}).

@item
É possível ter uma variável e uma função com o mesmo nome; @code{sh} não 
separa os dois espaços de nomes.

@item
É permitido às funções do Bash  ter variáveis locais utilizando o 
comando interno @code{local}, e assim funções recursivas úteis podem ser 
escritas (veja-se @ref{Comandos Internos ao Bash}).

@item
As atribuições a variáveis precedendo a comandos afetam somente aquele 
comando, mesmo comandos internos e funções (veja-se @ref{Ambiente}).
No @code{sh}, todas as atribuições a variáveis precedendo a comandos são 
globais, a menos que o comando seja executado a partir do sistema de 
arquivo.

@item
Bash realiza expansão de nome de arquivo sobre nomes de arquivo 
especificados como operandos para operadores de redireção de entrada e 
saída (veja-se @ref{Redireções}).

@item
Bash contém o operador de redireção @samp{<>}, permitindo que um arquivo 
seja aberto tanto para leitura quanto para escrita, e o operador de 
redireção @samp{&>}, para direcionamento da saída padrão e do erro 
padrão para o mesmo arquivo (veja-se @ref{Redireções}).

@item
Bash inclui o operador de redireção @samp{<<<}, permitindo que uma 
sequência de caracteres seja utilizada como a entrada padrão para um 
comando.

@item
Bash implementa os operadores de redireção @samp{[n]<&@var{word}} e 
@samp{[n]>&@var{word}}, os quais movem um descritor de arquivo para 
outro.

@item
Bash trata um número de nomes de arquivo especialmente quando eles estão 
sendo utilizados em operadores de redireção (veja-se @ref{Redireções}).

@item
Bash pode abrir conexões de rede para máquinas arbitrárias e serviços 
com os operadores de redireção (veja-se @ref{Redireções}).

@item
A opção @code{noclobber} está disponível para evitar a sobrescrita de 
arquivos existentes com a redireção de saída 
(veja-se @ref{O Comando Interno Set}).
O operador de redireção @samp{>|} pode ser utilizado para substituir 
@code{noclobber}.

@item
Os comandos internos @code{cd} e @code{pwd} 
(veja-se @ref{Comandos Internos do Shell Bourne}) cada tomam as opções @option{-L} e 
@option{-P} para permutar entre os modos lógico e físico.

@item
Bash permite que uma função neutralize um comando interno com o mesmo 
nome, e provê acesso àquela funcionalidade do comando interno dentro da 
função via comandos internos @code{builtin} e @code{command} 
(veja-se @ref{Comandos Internos ao Bash}).

@item
O comando interno @code{command} permite a desabilitação seletiva de 
funções quando uma pesquisa de comando é realizada 
(veja-se @ref{Comandos Internos ao Bash}).

@item
Comandos internos individuais podem ser habilitados ou desabilitados 
utilizando o comando interno @code{enable} 
(veja-se @ref{Comandos Internos ao Bash}).

@item
O comando interno @code{exec} toma opções adicionais que permitem que 
usuários controlem o conteúdo do ambiente passado para o comando 
executado, e o que o argumento zero para o comando é para ser
(veja-se @ref{Comandos Internos do Shell Bourne}).

@item
As funções de shell podem ser exportadas aos filhos via ambiente 
utilizando-se @code{export -f} (veja-se @ref{Funções de Shell}).

@item
Os comandos internos de Bash @code{export}, @code{readonly}, e 
@code{declare} podem receber uma opção @option{-f} para atuar sobre 
funções de shell; uma opção @option{-p} para exibir variáveis com vários 
atributos configurados em um formato que pode ser utilizado como entrada 
de shell; uma opção @option{-n} para remover vários atributos de 
variáveis; e argumentos @samp{name=value} para configurar atributos e 
valores de variáveis simultaneamente.

@item
O comando interno @code{hash} permite que um nome seja associado com um 
nome arbitrário de arquivo, mesmo quando esse nome de arquivo não pode 
ser encontrado pesquisando-se o @env{$PATH}, utilizando-se 
@samp{hash -p} (veja-se @ref{Comandos Internos do Shell Bourne}).

@item
Bash inclui um comando interno @code{help} para referência rápida às 
facilidades de shell (veja-se @ref{Comandos Internos ao Bash}).

@item
O comando interno @code{printf} está disponível para exibir saída 
formatada (veja-se @ref{Comandos Internos ao Bash}).

@item
O comando interno @code{read} (veja-se @ref{Comandos Internos ao Bash}) lerá uma 
linha terminando em @samp{\} com a opção @option{-r}, e utilizará a 
variável @env{REPLY} como um padrão se nenhum argumento não opção for 
fornecido.
O comando interno @code{read} também aceita uma sequência de caracteres 
de prompt com a opção @option{-p} e utilizará Readline para obter a 
linha quando lhe for dada a opção @option{-e}.
O comando interno @code{read} também tem opções adicionais para 
controlar entrada: a opção @option{-s} desligará o eco de caracteres de 
entrada conforme forem lidos; a opção @option{-t} permitirá a 
@code{read} um intervalo de tempo se a entrada não chegar dentro de um 
número especificado de segundos; a opção @option{-n} permitirá a leitura 
somente de um número especificados de caracteres, em vez de uma linha 
inteira; e a opção @option{-d} lerá até um carácter particular, em vez 
de um marcador de nova linha.

@item
O comando interno @code{return} pode ser utilizado para abortar a 
execução de scripts executados com os comandos internos @code{.} ou 
@code{source} (veja-se @ref{Comandos Internos do Shell Bourne}).

@item
Bash inclui o comando interno @code{shopt}, para controle mais apurado 
das capacidades opcionais de shell (veja-se @ref{O Comando Interno Shopt}), e 
permite que essas opções sejam configuradas ou desconfiguradas na 
invocação de shell (veja-se @ref{Invocando o Bash}).

@item
Bash tem muito mais comportamento opcional controlável com o comando 
interno @code{set} (veja-se @ref{O Comando Interno Set}).

@item
A opção @samp{-x} (@option{xtrace}) exibe comandos outros que não os 
comandos simples quando realizando um rastreamento de execução
(veja-se @ref{O Comando Interno Set}).

@item
O comando interno @code{test} (veja-se @ref{Comandos Internos do Shell Bourne}) é 
ligeiramente diferente, dado que ele implementa o algoritmo @sc{posix}, 
o qual especifica o comportamento baseado em um número de argumentos.

@item
Bash inclui o comando interno @code{caller}, o qual exibe o contexto de 
qualquer chamada de sub-rotina ativa (uma função de shell ou um script 
executado com os comandos internos @code{.} ou @code{source}).   Isso 
suporta o depurador de bash.

@item
O comando interno @code{trap} (veja-se @ref{Comandos Internos do Shell Bourne}) 
permite uma especificação de pseudo-sinal @code{DEBUG}, similar a 
@code{EXIT}.   Os comandos especificados com um coletor @code{DEBUG} são 
executados antes de cada comando simples, comando @code{for}, comando 
@code{case}, comando @code{select}, cada comando @code{for} aritmético, 
e antes do primeiro comando executar em uma função de shell.
O coletor @code{DEBUG} não é herdado por funções de shell, a menos que a 
função tenha dado o atributo @code{trace} ou a opção @code{functrace} 
tenha sido habilitada utilizando o comando interno @code{shopt}.
A opção de shell @code{extdebug} tem efeitos adicionais sobre o coletor 
@code{DEBUG}.

O comando interno @code{trap} (veja-se @ref{Comandos Internos do Shell Bourne}) 
permite uma especificação de pseudo-sinal @code{ERR}, similar a 
@code{EXIT} e @code{DEBUG}.
Os comandos especificados com um coletor @code{ERR} são executados após 
um comando simples falhar, com umas poucas exceções.
O coletor @code{ERR} não é herdado pelas funções de shell, a menos que a 
opção @code{-o errtrace} para o comando interno @code{set} esteja 
habilitada.

O comando interno @code{trap} (veja-se @ref{Comandos Internos do Shell Bourne}) 
permite uma especificação de pseudo-sinal @code{RETURN}, similar a 
@code{EXIT} e @code{DEBUG}.
Os comandos especificados com um coletor @code{RETURN} são executados 
antes que a execução retome após uma função de shell ou um script de 
shell com @code{.} ou @code{source} retorne.
O coletor @code{RETURN} não é herdado pelas funções de shell, a menos 
que a função tenha dado o atributo @code{trace} ou a opção 
@code{functrace} tenha sido habilitada utilizando o comando interno 
@code{shopt}.

@item
O comando interno @code{type} é mais extensivo e dá mais informação 
acerca dos nomes que ele encontra (veja-se @ref{Comandos Internos ao Bash}).

@item
O comando interno @code{umask} permite à opção @option{-p} fazer com que 
a saída seja exibida na forma de um comando @code{umask} que pode ser 
reutilizado como entrada (veja-se @ref{Comandos Internos do Shell Bourne}).

@item
Bash implementa uma pilha de diretório ao estilo @code{csh}, e provê os 
comandos internos @code{pushd}, @code{popd}, e @code{dirs} para 
manipulá-la (veja-se @ref{A Pilha de Diretório}).
Bash também torna a pilha de diretório visível como um valor da variável 
de shell @env{DIRSTACK}.

@item
Bash interpreta caracteres especiais encapsulados por barra invertida 
nas sequências de caracteres de prompt, quando interativo 
(veja-se @ref{Controlando o Prompt}).

@item
O modo restrito de Bash é mais útil
(veja-se @ref{O Shell Restrito}); o modo restrito do shell SVR4.2 é 
limitado demais.

@item
O comando interno @code{disown} pode remover uma tarefa da tabela 
interna de tarefa de shell (veja-se @ref{Comandos Internos do Controle de Tarefa}) ou 
suprimir o envio de @code{SIGHUP} para uma tarefa quando o shell sai 
como o resultado de um @code{SIGHUP}.

@item
Bash inclui um número de características para suportar um depurador 
separado para scripts de shell.

@item
O shell SVR4.2 tem dois comandos internos relacionados aos privilégios, 
(@code{mldmode} e @code{priv}),  não presentes no Bash.

@item
Bash não tem os comandos internos @code{stop} ou @code{newgrp}.

@item
Bash não utiliza a variável @env{SHACCT} ou realiza contabilidade de 
shell.

@item
O @code{sh} SVR4.2 utiliza uma variável @env{TIMEOUT} como Bash utiliza 
@env{TMOUT}.

@end itemize

@noindent
Mais características únicas a Bash podem ser encontradas em 
@ref{Características de Bash}.


@appendixsec Implementation Differences From The SVR4.2 Shell

Dado que Bash é uma implementação completamente nova, ele não sofre de 
muitas das limitações do shell SVR4.2.   Por exemplo:

@itemize @bullet

@item
Bash não bifurca um sub-shell quando da redireção em ou fora de uma 
estrutura de controle de shell tal como uma declaração @code{if} ou 
@code{while}.

@item
Bash não permite cotas desbalanceadas.   O shell SVR4.2 inserirá 
silenciosamente uma aspa necessária de fechamento no @code{EOF} sob 
certas circunstâncias.   Isso pode ser a causa de alguns erros difíceis 
de encontrar.

@item
O shell SVR4.2 utiliza um esquema de gerenciamento de memória barroco 
baseado no coletamento de @code{SIGSEGV}.   Se o shell for inicializado 
a partir de um processo com @code{SIGSEGV} (por exemplo, utilizando-se a 
chamada de função da biblioteca C @code{system()}), então o SVR4.2 se 
comporta realmente muito mal.

@item
Em uma tentativa questionável na segurança, o shell SVR4.2, quando 
invocado sem a opção @option{-p}, alterará seu real e efetivo @sc{uid} 
e @sc{gid}, se eles são menores que algum valor limite mágico, 
normalmente 100.
Isso pode levar a resultados inesperados.

@item
O shell SVR4.2 não permite a usuários coletar @code{SIGSEGV},
@code{SIGALRM}, ou @code{SIGCHLD}.

@item
O shell SVR4.2 não permite que as variáveis @env{IFS}, @env{MAILCHECK},
@env{PATH}, @env{PS1}, ou @env{PS2} sejam desconfiguradas.

@item
O shell SVR4.2 trata @samp{^} como o equivalente não documentado de 
@samp{|}.

@item
Bash permite argumentos de opções múltiplas quando é invocado 
(@code{-x -v}); o shell SVR4.2 somente permite um argumento de opção 
(@code{-xv}).   De fato, algumas versões do shell apagam tudo se o 
segundo argumento inicia com um @samp{-}.

@item
O shell SVR4.2 sai de um script se qualquer comando interno falha; Bash 
sai de um script somente se um dos comandos internos especiais 
@sc{posix} falha, e apenas para certas falhas, conforme enumerado no 
padrão @sc{posix}.

@item
O shell SVR4.2 se comporta diferentemente quando invocado como 
@code{jsh} (ele liga o controle de tarefa).
@end itemize

@node Licença de Documentação Livre GNU
@appendix Licença de Documentação Livre GNU

@include fdl-pt_BR.texi

@node Indices
@appendix Indices

@menu
* Indice dos Comandos Internos::		Índice dos comandos internos de Bash.
* Indice das Palavras Reservadas::		Índice das palavras reservadas de Bash.
* Indice das Variáveis::		Referência rápida ajuda você a encontrar 
a variável que deseja.
* Indice das Funções::		Índice das funções de Readline 
vinculáveis.
* Indice dos Conceitos::		Índice geral para conceitos descritos 
neste manual.
@end menu

@node Indice dos Comandos Internos
@appendixsec Index of Comandos Internos ao Shell
@printindex bt

@node Indice das Palavras Reservadas
@appendixsec Index of Shell Reserved Words
@printindex rw

@node Indice das Variáveis
@appendixsec Parameter and Indice das Variáveis
@printindex vr

@node Indice das Funções
@appendixsec Indice das Funções
@printindex fn

@node Indice dos Conceitos
@appendixsec Indice dos Conceitos
@printindex cp

@bye

Jamenson Ferreira Espindula de Almeida Melo
Usuário GNU/Linux nº 166197
https://linuxcounter.net/cert/166197.png

Impressão digital da chave:
234D 1914 4224 7C53 BD13  6855 2AE0 25C0 08A8 6180


